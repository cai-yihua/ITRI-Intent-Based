app:
  description: v1.0
  icon: ğŸ¤–
  icon_background: '#FFEAD5'
  mode: advanced-chat
  name: '[Demo] 20250416'
  use_icon_as_answer_icon: false
dependencies:
- current_identifier: null
  type: marketplace
  value:
    marketplace_plugin_unique_identifier: langgenius/openai:0.0.16@28da32a1a4b2856e28b27f78f12c841c73d585f8aa832288b110e79db371dc6e
kind: app
version: 0.1.5
workflow:
  conversation_variables:
  - description: ''
    id: 2dfeb785-9b24-42f0-9c8c-c041a7756c55
    name: conversation_uid
    selector:
    - conversation
    - conversation_uid
    value: ''
    value_type: string
  environment_variables:
  - description: ''
    id: 0cafe3ba-baf3-47e2-8189-d3e075df1d34
    name: Interference_UE_Execute_PATH
    selector:
    - env
    - Interference_UE_Execute_PATH
    value: 71279998-7aa1-4819-b2d6-3287b435fa5f
    value_type: string
  - description: ''
    id: 342203c4-3f69-47ba-91c0-87e2d6ff24d0
    name: Interference_UE_Predict_PATH
    selector:
    - env
    - Interference_UE_Predict_PATH
    value: d4f93f32-a552-41ae-a7d4-56e1907b41a5
    value_type: string
  - description: ''
    id: e6be9088-dfb7-49f8-9a66-d14ebaa82da4
    name: Query_UE_Throughput_PATH
    selector:
    - env
    - Query_UE_Throughput_PATH
    value: d9c7c32d-5147-4c09-8c20-0762307b1e3b
    value_type: string
  - description: ''
    id: 66e62211-c56f-463e-8b23-0a7dcef15e34
    name: SINR_PATH
    selector:
    - env
    - SINR_PATH
    value: 1f7d9e8a-ebe1-4cf0-93dc-d4b9f54ea3b1
    value_type: string
  - description: ''
    id: 6060580f-cbbd-4f6d-8158-deaf07342542
    name: MITLAB_BACKEND
    selector:
    - env
    - MITLAB_BACKEND
    value: http://172.24.20.17:30000/api/v1.0/
    value_type: string
  - description: ''
    id: df6b16f3-b5d7-4738-a409-8f58fd95c46d
    name: N8N_ACTIVE_BASE_URL
    selector:
    - env
    - N8N_ACTIVE_BASE_URL
    value: http://172.24.16.1:30000/webhook/
    value_type: string
  features:
    file_upload:
      allowed_file_extensions: []
      allowed_file_types:
      - video
      - audio
      - image
      - document
      allowed_file_upload_methods:
      - local_file
      - remote_url
      enabled: true
      fileUploadConfig:
        audio_file_size_limit: 50
        batch_count_limit: 5
        file_size_limit: 15
        image_file_size_limit: 10
        video_file_size_limit: 100
        workflow_file_upload_limit: 10
      image:
        enabled: false
        number_limits: 3
        transfer_methods:
        - local_file
        - remote_url
      number_limits: 1
    opening_statement: ä½ å¥½ï¼Œæˆ‘æ˜¯ITRI SMOè™›æ“¬åŠ©ç†
    retriever_resource:
      enabled: true
    sensitive_word_avoidance:
      enabled: false
    speech_to_text:
      enabled: false
    suggested_questions: []
    suggested_questions_after_answer:
      enabled: false
    text_to_speech:
      enabled: false
      language: ''
      voice: ''
  graph:
    edges:
    - data:
        isInIteration: false
        sourceType: llm
        targetType: if-else
      id: 1742448090528-source-1742448389805-target
      selected: false
      source: '1742448090528'
      sourceHandle: source
      target: '1742448389805'
      targetHandle: target
      type: custom
      zIndex: 0
    - data:
        isInIteration: false
        sourceType: if-else
        targetType: answer
      id: 1742448389805-false-1742442828989-target
      selected: false
      source: '1742448389805'
      sourceHandle: 'false'
      target: '1742442828989'
      targetHandle: target
      type: custom
      zIndex: 0
    - data:
        isInIteration: false
        sourceType: llm
        targetType: if-else
      id: 1742445883218-source-1742446926046-target
      selected: false
      source: '1742445883218'
      sourceHandle: source
      target: '1742446926046'
      targetHandle: target
      type: custom
      zIndex: 0
    - data:
        isInIteration: false
        sourceType: llm
        targetType: if-else
      id: 1742447067053-source-1742447332580-target
      selected: false
      source: '1742447067053'
      sourceHandle: source
      target: '1742447332580'
      targetHandle: target
      type: custom
      zIndex: 0
    - data:
        isInIteration: false
        sourceType: if-else
        targetType: knowledge-retrieval
      id: 1742447332580-true-1742442861275-target
      selected: false
      source: '1742447332580'
      sourceHandle: 'true'
      target: '1742442861275'
      targetHandle: target
      type: custom
      zIndex: 0
    - data:
        isInIteration: false
        sourceType: llm
        targetType: parameter-extractor
      id: 1742472808495-source-1742472982494-target
      selected: false
      source: '1742472808495'
      sourceHandle: source
      target: '1742472982494'
      targetHandle: target
      type: custom
      zIndex: 0
    - data:
        isInIteration: false
        sourceType: if-else
        targetType: llm
      id: 1742446926046-f84ddd9c-2ec2-4c9a-982f-dbf050004c96-1743501210955-target
      selected: false
      source: '1742446926046'
      sourceHandle: f84ddd9c-2ec2-4c9a-982f-dbf050004c96
      target: '1743501210955'
      targetHandle: target
      type: custom
      zIndex: 0
    - data:
        isInIteration: false
        sourceType: http-request
        targetType: llm
      id: 1743509989605-source-1742448090528-target
      selected: false
      source: '1743509989605'
      sourceHandle: source
      target: '1742448090528'
      targetHandle: target
      type: custom
      zIndex: 0
    - data:
        isInIteration: false
        sourceType: if-else
        targetType: llm
      id: 1742448389805-true-17435117558650-target
      selected: false
      source: '1742448389805'
      sourceHandle: 'true'
      target: '17435117558650'
      targetHandle: target
      type: custom
      zIndex: 0
    - data:
        isInIteration: false
        sourceType: http-request
        targetType: llm
      id: 17435117512250-source-1742447067053-target
      selected: false
      source: '17435117512250'
      sourceHandle: source
      target: '1742447067053'
      targetHandle: target
      type: custom
      zIndex: 0
    - data:
        isInIteration: false
        sourceType: llm
        targetType: answer
      id: 1743501210955-source-17435128925960-target
      selected: false
      source: '1743501210955'
      sourceHandle: source
      target: '17435128925960'
      targetHandle: target
      type: custom
      zIndex: 0
    - data:
        isInIteration: false
        sourceType: answer
        targetType: http-request
      id: 17435128925960-source-1743509989605-target
      selected: false
      source: '17435128925960'
      sourceHandle: source
      target: '1743509989605'
      targetHandle: target
      type: custom
      zIndex: 0
    - data:
        isInIteration: false
        sourceType: llm
        targetType: answer
      id: 17435117558650-source-17435131894560-target
      selected: false
      source: '17435117558650'
      sourceHandle: source
      target: '17435131894560'
      targetHandle: target
      type: custom
      zIndex: 0
    - data:
        isInIteration: false
        sourceType: answer
        targetType: http-request
      id: 17435131894560-source-17435117512250-target
      selected: false
      source: '17435131894560'
      sourceHandle: source
      target: '17435117512250'
      targetHandle: target
      type: custom
      zIndex: 0
    - data:
        isInIteration: false
        sourceType: answer
        targetType: http-request
      id: 1742442730885-source-17435132396410-target
      selected: false
      source: '1742442730885'
      sourceHandle: source
      target: '17435132396410'
      targetHandle: target
      type: custom
      zIndex: 0
    - data:
        isInIteration: false
        sourceType: answer
        targetType: http-request
      id: 1742442828989-source-17435138487230-target
      selected: false
      source: '1742442828989'
      sourceHandle: source
      target: '17435138487230'
      targetHandle: target
      type: custom
      zIndex: 0
    - data:
        isInIteration: false
        sourceType: llm
        targetType: answer
      id: 17435142956850-source-17435143717210-target
      selected: false
      source: '17435142956850'
      sourceHandle: source
      target: '17435143717210'
      targetHandle: target
      type: custom
      zIndex: 0
    - data:
        isInIteration: false
        sourceType: knowledge-retrieval
        targetType: llm
      id: 1742442861275-source-17435142956850-target
      selected: false
      source: '1742442861275'
      sourceHandle: source
      target: '17435142956850'
      targetHandle: target
      type: custom
      zIndex: 0
    - data:
        isInIteration: false
        sourceType: answer
        targetType: http-request
      id: 17435143717210-source-17435145116790-target
      selected: false
      source: '17435143717210'
      sourceHandle: source
      target: '17435145116790'
      targetHandle: target
      type: custom
      zIndex: 0
    - data:
        isInIteration: false
        sourceType: answer
        targetType: http-request
      id: 17435146281790-source-17435146350620-target
      selected: false
      source: '17435146281790'
      sourceHandle: source
      target: '17435146350620'
      targetHandle: target
      type: custom
      zIndex: 0
    - data:
        isInIteration: false
        sourceType: http-request
        targetType: llm
      id: 17435145116790-source-1742472808495-target
      selected: false
      source: '17435145116790'
      sourceHandle: source
      target: '1742472808495'
      targetHandle: target
      type: custom
      zIndex: 0
    - data:
        isInIteration: false
        sourceType: if-else
        targetType: answer
      id: 1742447332580-false-17435146281790-target
      selected: false
      source: '1742447332580'
      sourceHandle: 'false'
      target: '17435146281790'
      targetHandle: target
      type: custom
      zIndex: 0
    - data:
        isInLoop: false
        sourceType: start
        targetType: assigner
      id: 1742442590290-source-1743511206372-target
      selected: false
      source: '1742442590290'
      sourceHandle: source
      target: '1743511206372'
      targetHandle: target
      type: custom
      zIndex: 0
    - data:
        isInLoop: false
        sourceType: parameter-extractor
        targetType: code
      id: 1742472982494-source-1744297062468-target
      selected: false
      source: '1742472982494'
      sourceHandle: source
      target: '1744297062468'
      targetHandle: target
      type: custom
      zIndex: 0
    - data:
        isInIteration: false
        isInLoop: false
        sourceType: assigner
        targetType: if-else
      id: 1743511206372-source-1744353564080-target
      selected: false
      source: '1743511206372'
      sourceHandle: source
      target: '1744353564080'
      targetHandle: target
      type: custom
      zIndex: 0
    - data:
        isInLoop: false
        sourceType: if-else
        targetType: llm
      id: 1744353564080-false-1742445883218-target
      selected: false
      source: '1744353564080'
      sourceHandle: 'false'
      target: '1742445883218'
      targetHandle: target
      type: custom
      zIndex: 0
    - data:
        isInLoop: false
        sourceType: if-else
        targetType: code
      id: 1744353564080-44611379-5777-4b80-8577-0a4d9cede932-1744353668299-target
      selected: false
      source: '1744353564080'
      sourceHandle: 44611379-5777-4b80-8577-0a4d9cede932
      target: '1744353668299'
      targetHandle: target
      type: custom
      zIndex: 0
    - data:
        isInLoop: false
        sourceType: if-else
        targetType: code
      id: 1744353564080-845df0f6-b64f-4dcd-b94d-15a9c512a370-17443649198400-target
      selected: false
      source: '1744353564080'
      sourceHandle: 845df0f6-b64f-4dcd-b94d-15a9c512a370
      target: '17443649198400'
      targetHandle: target
      type: custom
      zIndex: 0
    - data:
        isInLoop: false
        sourceType: if-else
        targetType: code
      id: 1744353564080-305c1bb1-2b94-4b24-a5d1-b63bc079e475-17443652347490-target
      selected: false
      source: '1744353564080'
      sourceHandle: 305c1bb1-2b94-4b24-a5d1-b63bc079e475
      target: '17443652347490'
      targetHandle: target
      type: custom
      zIndex: 0
    - data:
        isInLoop: false
        sourceType: if-else
        targetType: code
      id: 1744353564080-true-17443724787310-target
      selected: false
      source: '1744353564080'
      sourceHandle: 'true'
      target: '17443724787310'
      targetHandle: target
      type: custom
      zIndex: 0
    - data:
        isInLoop: false
        sourceType: if-else
        targetType: if-else
      id: 1742446926046-false-1744785597981-target
      source: '1742446926046'
      sourceHandle: 'false'
      target: '1744785597981'
      targetHandle: target
      type: custom
      zIndex: 0
    - data:
        isInLoop: false
        sourceType: if-else
        targetType: answer
      id: 1744785597981-true-1742442730885-target
      source: '1744785597981'
      sourceHandle: 'true'
      target: '1742442730885'
      targetHandle: target
      type: custom
      zIndex: 0
    - data:
        isInLoop: false
        sourceType: if-else
        targetType: answer
      id: 1744785597981-false-17447856803140-target
      source: '1744785597981'
      sourceHandle: 'false'
      target: '17447856803140'
      targetHandle: target
      type: custom
      zIndex: 0
    - data:
        isInLoop: false
        sourceType: answer
        targetType: http-request
      id: 17447856803140-source-17447856854490-target
      source: '17447856803140'
      sourceHandle: source
      target: '17447856854490'
      targetHandle: target
      type: custom
      zIndex: 0
    nodes:
    - data:
        desc: ''
        selected: false
        title: é–‹å§‹
        type: start
        variables:
        - label: conversation_uid
          max_length: 48
          options: []
          required: false
          type: text-input
          variable: conversation_uid
      height: 88
      id: '1742442590290'
      position:
        x: -1382.7323634116287
        y: 270
      positionAbsolute:
        x: -1382.7323634116287
        y: 270
      selected: false
      sourcePosition: right
      targetPosition: left
      type: custom
      width: 242
    - data:
        answer: ä½ å¥½ï¼Œæˆ‘æ˜¯SMOåŠ©ç†ï¼Œå¸Œæœ›æˆ‘ç‚ºä½ åšä»€éº¼å—ï¼Ÿ
        desc: ''
        selected: false
        title: '[å›è¦†] Erroræ„åœ–è­˜åˆ¥éšæ®µ'
        type: answer
        variables: []
      height: 116
      id: '1742442730885'
      position:
        x: 1035.7134607181292
        y: 482.74918599968714
      positionAbsolute:
        x: 1035.7134607181292
        y: 482.74918599968714
      selected: false
      sourcePosition: right
      targetPosition: left
      type: custom
      width: 242
    - data:
        answer: '[ Warning ] ç›®å‰ç³»çµ±åƒ…æ”¯æ´å–®ä¸€æ„åœ–é¡å‹çš„æ“ä½œï¼Œè«‹é‡æ–°æè¿°æ‚¨çš„å–®ä¸€éœ€æ±‚'
        desc: ''
        selected: false
        title: '[å›è¦†] è¤‡é›œæ„åœ–éšæ®µ'
        type: answer
        variables: []
      height: 132
      id: '1742442828989'
      position:
        x: 2476.959105308413
        y: 470.45141161560025
      positionAbsolute:
        x: 2476.959105308413
        y: 470.45141161560025
      selected: false
      sourcePosition: right
      targetPosition: left
      type: custom
      width: 242
    - data:
        dataset_ids:
        - J5omBnGfRGfatlbht8Ap55WewFrAJIgjvwnoNUnJprE6wcsxnRqVQgukzzFc6eE4
        desc: ''
        multiple_retrieval_config:
          reranking_enable: true
          reranking_mode: weighted_score
          reranking_model:
            model: rerank-english-v2.0
            provider: langgenius/cohere/cohere
          score_threshold: null
          top_k: 1
          weights:
            keyword_setting:
              keyword_weight: 0
            vector_setting:
              embedding_model_name: text-embedding-3-small
              embedding_provider_name: langgenius/openai/openai
              vector_weight: 1
        query_variable_selector:
        - '1742447067053'
        - text
        retrieval_mode: multiple
        selected: false
        title: '[RAG è™•ç†] æ„åœ–è½‰Scenarioè½‰æ›å™¨'
        type: knowledge-retrieval
      height: 90
      id: '1742442861275'
      position:
        x: 3825.405232068553
        y: 321.70006837147537
      positionAbsolute:
        x: 3825.405232068553
        y: 321.70006837147537
      selected: false
      sourcePosition: right
      targetPosition: left
      type: custom
      width: 242
    - data:
        author: test
        desc: ''
        height: 598
        selected: false
        showAuthor: true
        text: '{"root":{"children":[{"children":[{"detail":0,"format":1,"mode":"normal","style":"font-size:
          16px;","text":"æ„åœ–è­˜åˆ¥éšæ®µ","type":"text","version":1}],"direction":"ltr","format":"left","indent":0,"type":"paragraph","version":1,"textFormat":1}],"direction":"ltr","format":"","indent":0,"type":"root","version":1}}'
        theme: blue
        title: ''
        type: ''
        width: 3117
      height: 598
      id: '1742442983144'
      position:
        x: 46.139042077851855
        y: 148.86618199238637
      positionAbsolute:
        x: 46.139042077851855
        y: 148.86618199238637
      selected: true
      sourcePosition: right
      targetPosition: left
      type: custom-note
      width: 3117
    - data:
        author: test
        desc: ''
        height: 558
        selected: false
        showAuthor: true
        text: '{"root":{"children":[{"children":[{"detail":0,"format":0,"mode":"normal","style":"","text":"æ„åœ–è™•ç†éšæ®µ","type":"text","version":1}],"direction":"ltr","format":"left","indent":0,"type":"paragraph","version":1,"textFormat":0}],"direction":"ltr","format":"","indent":0,"type":"root","version":1}}'
        theme: blue
        title: ' (1)'
        type: ''
        width: 2092
      height: 558
      id: '17424430040480'
      position:
        x: 3339.1509074528703
        y: 177.84161104139008
      positionAbsolute:
        x: 3339.1509074528703
        y: 177.84161104139008
      selected: false
      sourcePosition: right
      targetPosition: left
      type: custom-note
      width: 2092
    - data:
        author: test
        desc: ''
        height: 553
        selected: false
        showAuthor: true
        text: '{"root":{"children":[{"children":[{"detail":0,"format":0,"mode":"normal","style":"","text":"åƒæ•¸è£œå……éšæ®µ","type":"text","version":1}],"direction":"ltr","format":"left","indent":0,"type":"paragraph","version":1,"textFormat":0}],"direction":"ltr","format":"","indent":0,"type":"root","version":1}}'
        theme: blue
        title: '  (2)'
        type: ''
        width: 1060
      height: 553
      id: '17424431355940'
      position:
        x: 5358.289606332841
        y: 166.8733612444438
      positionAbsolute:
        x: 5358.289606332841
        y: 166.8733612444438
      selected: false
      sourcePosition: right
      targetPosition: left
      type: custom-note
      width: 1060
    - data:
        context:
          enabled: false
          variable_selector: []
        desc: ''
        model:
          completion_params:
            temperature: 0.7
          mode: chat
          name: gpt-4o-mini
          provider: langgenius/openai/openai
        prompt_template:
        - id: cc5a2610-c9fc-43f8-9bca-3f3f5281fde3
          role: system
          text: "è«‹é–±è®€ä»¥ä¸‹æ–‡æœ¬ï¼Œä¸¦åˆ¤æ–·å…¶æ˜¯å¦èˆ‡ç¶²ç®¡ SMOï¼ˆService Management and Orchestrationï¼‰ç›¸é—œï¼š\n\
            æ–‡æœ¬:\n\n{{#sys.query#}}\n\nè‹¥ç›¸é—œï¼Œè«‹åœ¨ã€Œreasonã€æ¬„ä½ä¸­åˆ—å‡ºèˆ‡ SMO ç›¸é—œçš„é—œéµå­—æˆ–æ ¸å¿ƒæ¦‚å¿µï¼Œä¸¦ç°¡è¦èªªæ˜åŸå› ï¼›\n\
            è‹¥ä¸ç›¸é—œï¼Œè«‹åœ¨ã€Œreasonã€æ¬„ä½ä¸­ç°¡è¦èªªæ˜ä¸ç›¸é—œçš„åŸå› ã€‚\n\nè«‹ä»¥ JSON æ ¼å¼è¼¸å‡ºåˆ†æçµæœï¼Œçµæ§‹å¦‚ä¸‹ï¼š\n\n{\n  \"result\"\
            : \"TRUE\" æˆ– \"FALSE\",\n  \"reason\": \"èªªæ˜åŸå›  (è‹¥ç‚º TRUEï¼Œè«‹åˆ—å‡º SMO ç›¸é—œé—œéµå­—ä¸¦ç°¡è¦èªªæ˜ï¼›è‹¥ç‚º\
            \ FALSEï¼Œå‰‡èªªæ˜ä¸ç›¸é—œåŸå› )\"\n}\n\nç›®å‰ SMO å¯æ”¯æ´çš„æ„åœ–åŒ…æ‹¬ï¼š\n- ã€ŒæŠ‘åˆ¶å–®ä¸€å ´åŸŸè¨Šè™Ÿå¹²æ“¾ã€\n- ã€ŒæŸ¥è©¢å–®ä¸€å ´åŸŸåŸºç«™è³‡è¨Šã€\n\
            - ã€Œå¹²æ“¾æŠ‘åˆ¶æ¼”ç®—æ³•é æ¸¬ã€\n\nï¼ˆç”±æ–¼ã€Œå–å¾— UE è³‡è¨Šï¼ˆé€£ç·šç‹€æ…‹ã€è¨Šè™Ÿå“è³ªã€SINR Map ç­‰ï¼‰ã€ä¹Ÿå±¬æ–¼ç¶²ç®¡å±¤ç´šçš„æŸ¥è©¢è¡Œç‚ºï¼Œå› æ­¤è¦–ç‚º\
            \ SMO ç›¸é—œé ˜åŸŸã€‚ï¼‰\n\nè«‹ä¾ä¸Šè¿°éœ€æ±‚çµ¦å‡ºæœ€çµ‚çµæœã€‚\n"
        selected: false
        title: '[LLM è™•ç†] ç¶²ç®¡SMOå…§å®¹åˆ†åˆ¥å™¨'
        type: llm
        variables: []
        vision:
          enabled: false
      height: 88
      id: '1742445883218'
      position:
        x: 84.61126818553225
        y: 262
      positionAbsolute:
        x: 84.61126818553225
        y: 262
      selected: false
      sourcePosition: right
      targetPosition: left
      type: custom
      width: 242
    - data:
        cases:
        - case_id: f84ddd9c-2ec2-4c9a-982f-dbf050004c96
          conditions:
          - comparison_operator: contains
            id: 2b9bc372-6143-4bb9-81d4-63963c848bd4
            value: 'TRUE'
            varType: string
            variable_selector:
            - '1742445883218'
            - text
          id: f84ddd9c-2ec2-4c9a-982f-dbf050004c96
          logical_operator: and
        desc: ''
        selected: false
        title: '[æ±ºç­–] ç¶²ç®¡SMOå…§å®¹åˆ†åˆ¥å™¨'
        type: if-else
      height: 124
      id: '1742446926046'
      position:
        x: 406.2471599541362
        y: 262
      positionAbsolute:
        x: 406.2471599541362
        y: 262
      selected: false
      sourcePosition: right
      targetPosition: left
      type: custom
      width: 242
    - data:
        context:
          enabled: false
          variable_selector: []
        desc: ''
        model:
          completion_params:
            temperature: 0.7
          mode: chat
          name: gpt-4o
          provider: langgenius/openai/openai
        prompt_template:
        - id: 09ddf340-a502-4a03-89b5-b69469d3d650
          role: system
          text: "è«‹é–±è®€ä»¥ä¸‹æ–‡æœ¬ï¼š\n\n{{#sys.query#}}\n\nä»¥ä¸‹ç‚ºç›®å‰ã€Œæ„åœ–åˆ—è¡¨ã€èˆ‡å…¶ç¯„åœï¼š\n\n1. ã€ŒæŸ¥çœ‹UEçš„Throughputã€ï¼š\n\
            \   é€éä¸‹åˆ— API æŸ¥è©¢ä¸¦éæ¿¾å›å‚³è³‡æ–™ï¼Œä»¥æª¢è¦–ç‰¹å®š UEï¼ˆæˆ–ä¸€ç¾¤ UEï¼‰çš„é€£ç·šç‹€æ…‹ã€è¨Šè™Ÿå“è³ªã€Throughput ç­‰ç›¸é—œçµ±è¨ˆè³‡è¨Šã€‚\n\
            \   ä¾‹å¦‚ï¼šå–å¾—ä¸¦ç¯©é¸ç‰¹å®š UE çš„ååé‡ã€é€£ç·šç‹€æ…‹èˆ‡è¨Šè™Ÿå“è³ªç­‰ã€‚\n\n2. ã€ŒæŸ¥è©¢ Cell è£¡é¢çš„ SINR Mapã€ï¼š\n   é‡å°æŒ‡å®šä¹‹\
            \ Cellï¼ŒæŸ¥è©¢è©² Cell ä¸­çš„ SINRï¼ˆSignal-to-Interference-plus-Noise Ratioï¼‰æŒ‡æ¨™ï¼Œ\n\
            \   ä¸¦å¯æ“´åŠ SINR çš„åˆ†ä½ˆæƒ…å½¢æˆ–è¦–è¦ºåŒ–è³‡è¨Šï¼ˆå¦‚ SINR Mapï¼‰ã€‚\n   ä¾‹å¦‚ï¼šæƒ³äº†è§£ç‰¹å®š Cell æˆ–ç¯„åœå…§çš„ SINR åˆ†ä½ˆã€è«‹æ±‚æä¾›æˆ–æª¢è¦–æŸ\
            \ Cell ä¸­ SINR Map çš„è©³ç´°è³‡è¨Šç­‰ã€‚\n\n3. ã€ŒInterference Algo Predictã€ï¼š\n   é€éå¹²æ“¾æŠ‘åˆ¶æˆ–ç›¸é—œæ¼”ç®—æ³•ï¼Œé‡å°æŒ‡å®šå ´åŸŸæˆ–ç’°å¢ƒé€²è¡Œæ•ˆèƒ½å¢é€²é æ¸¬ã€è©•ä¼°æˆ–å»ºè­°ã€‚\n\
            \   ä¾‹å¦‚ï¼šé æ¸¬å¦‚ä½•é™ä½å¹²æ“¾ä¸¦æå‡ç‰¹å®šå ´åŸŸçš„æ•´é«” Throughputã€è«‹æ±‚ä½¿ç”¨æˆ–èª¿æ•´å¹²æ“¾æŠ‘åˆ¶æ¼”ç®—æ³•ä»¥å„ªåŒ–ç¶²è·¯æ•ˆèƒ½ç­‰ã€‚\n\n4. ã€ŒInterference\
            \ Algo Executeã€ï¼š\n   ç›´æ¥åŸ·è¡Œæˆ–å¥—ç”¨å¹²æ“¾æŠ‘åˆ¶æ¼”ç®—æ³•ï¼Œä»¥é€²è¡Œå¯¦éš›çš„å¹²æ“¾é™ä½æˆ–ç¶²è·¯æ•ˆèƒ½å„ªåŒ–å‹•ä½œã€‚\n   ä¾‹å¦‚ï¼šè«‹æ±‚åŸ·è¡ŒæŸæ¼”ç®—æ³•ä¾†å£“åˆ¶å¹²æ“¾ã€å•Ÿç”¨æ—¢å®šçš„åƒæ•¸è¨­å®šä»¥è½å¯¦å¹²æ“¾æŠ‘åˆ¶ç­–ç•¥ç­‰ã€‚\n\
            \nè«‹æ ¹æ“šä¸Šè¿°å®šç¾©ï¼Œåˆ¤æ–·æ–‡æœ¬æ˜¯å¦ç¬¦åˆä»»ä¸€æ„åœ–ï¼š\n\nè‹¥ç¬¦åˆä»»ä¸€æ„åœ–ï¼Œè«‹ä»¥ JSON æ ¼å¼å›å‚³ï¼ŒåŒ…å«ä»¥ä¸‹æ¬„ä½ï¼š\n{\n  \"intent\"\
            : \"å°æ‡‰çš„æ„åœ–åç¨±\",\n  \"reason\": \"åˆ¤æ–·è©²æ„åœ–çš„åŸå› \"\n}\n\nè‹¥æ–‡æœ¬èˆ‡åˆ—è¡¨ä¸­æ‰€æœ‰æ„åœ–çš†ä¸ç¬¦åˆï¼Œè«‹å›å‚³ï¼š\n\
            {\n  \"intent\": \"NONE\",\n  \"reason\": \"ç„¡æ³•å°æ‡‰è‡³ä»»ä½•å·²çŸ¥æ„åœ–\"\n}\n\nè«‹å‹¿åŒ…å«ä»»ä½•å…¶ä»–æ–‡å­—æˆ–è§£é‡‹ã€‚\n"
        selected: false
        title: '[LLM è™•ç†] æ–‡æœ¬è½‰å–®ä¸€æ„åœ–å™¨'
        type: llm
        variables: []
        vision:
          enabled: false
      height: 88
      id: '1742447067053'
      position:
        x: 3249.7247111887123
        y: 292.74373086275045
      positionAbsolute:
        x: 3249.7247111887123
        y: 292.74373086275045
      selected: false
      sourcePosition: right
      targetPosition: left
      type: custom
      width: 242
    - data:
        cases:
        - case_id: 'true'
          conditions:
          - comparison_operator: not contains
            id: bf0d6b33-24ef-423f-9ba1-50fbe2f5191b
            value: NONE
            varType: string
            variable_selector:
            - '1742447067053'
            - text
          id: 'true'
          logical_operator: and
        desc: ''
        selected: false
        title: '[æ±ºç­–] å–®ä¸€æ„åœ–æå–å™¨'
        type: if-else
      height: 124
      id: '1742447332580'
      position:
        x: 3516.287474197739
        y: 292.74373086275045
      positionAbsolute:
        x: 3516.287474197739
        y: 292.74373086275045
      selected: false
      sourcePosition: right
      targetPosition: left
      type: custom
      width: 242
    - data:
        context:
          enabled: false
          variable_selector: []
        desc: ''
        model:
          completion_params:
            temperature: 0.7
          mode: chat
          name: gpt-4o-mini
          provider: langgenius/openai/openai
        prompt_template:
        - id: 60043e91-9fda-43bc-941a-8d0e748d9b53
          role: system
          text: "è«‹åˆ¤æ–·ä»¥ä¸‹æ–‡æœ¬æ˜¯å¦åªåŒ…å«å–®ä¸€æ„åœ–ã€‚è‹¥æ˜¯å–®ä¸€æ„åœ–ï¼Œè«‹è¼¸å‡ºï¼š\n{\n  \"intent\": \"single_intent\"\
            ,\n  \"reason\": \"æ­¤è™•å¡«å…¥åˆ¤æ–·è©²æ–‡æœ¬ç‚ºå–®ä¸€æ„åœ–çš„åŸå› \"\n}\nè‹¥åŒ…å«å¤šå€‹æ„åœ–ï¼Œè«‹è¼¸å‡ºï¼š\n{\n  \"intent\"\
            : \"multi_intent\",\n  \"reason\": \"æ­¤è™•å¡«å…¥åˆ¤æ–·è©²æ–‡æœ¬åŒ…å«å¤šå€‹æ„åœ–çš„åŸå› \"\n}\nè«‹å‹¿è¼¸å‡ºä»»ä½•å…¶ä»–æ–‡å­—æˆ–è§£é‡‹ã€‚\n\
            \næ–‡æœ¬ï¼š\n\"\"\"\n{{#sys.query#}}\n\"\"\"\n"
        selected: false
        title: '[LLM è™•ç†] å–®ä¸€æ„åœ–è¾¨è­˜å™¨'
        type: llm
        variables: []
        vision:
          enabled: false
      height: 88
      id: '1742448090528'
      position:
        x: 1581.826896483987
        y: 262
      positionAbsolute:
        x: 1581.826896483987
        y: 262
      selected: false
      sourcePosition: right
      targetPosition: left
      type: custom
      width: 242
    - data:
        cases:
        - case_id: 'true'
          conditions:
          - comparison_operator: contains
            id: 581b06eb-cb6f-4bfb-a796-b26475c573e1
            value: single_intent
            varType: string
            variable_selector:
            - '1742448090528'
            - text
          id: 'true'
          logical_operator: and
        desc: ''
        selected: false
        title: '[æ±ºç­–] å–®ä¸€æ„åœ–æ±ºç­–'
        type: if-else
      height: 124
      id: '1742448389805'
      position:
        x: 1866.46040477732
        y: 262
      positionAbsolute:
        x: 1866.46040477732
        y: 262
      selected: false
      sourcePosition: right
      targetPosition: left
      type: custom
      width: 242
    - data:
        context:
          enabled: true
          variable_selector:
          - '1742442861275'
          - result
        desc: ''
        model:
          completion_params:
            temperature: 0.7
          mode: chat
          name: gpt-4o-mini
          provider: langgenius/openai/openai
        prompt_template:
        - id: 3e94dad6-489b-4699-83fb-61de468de245
          role: system
          text: ä½ æ˜¯ä¸€å€‹å°ˆæ¥­çš„å·¥ä½œæµç®¡ç†æª¢æŸ¥å“¡ï¼Œæœƒè«‹åŸ·è¡Œä¸€ç³»åˆ—çš„æª¢æŸ¥ã€‚
        - id: fa92de14-f33b-41f9-b720-be442a1cac8d
          role: user
          text: 'è«‹ç¢ºèªä»¥ä¸‹çš„å…§å®¹æ˜¯å¦ç‚º n8n çš„ workflow æ ¼å¼ï¼Œä¸¦ä¸”è§£é‡‹é€™æ®µ workflow æ˜¯å¦æœ‰æ‰£ç·Šæœ‰é—œæ–¼ï¼Œå¦‚æœæˆ‘æ²’æœ‰ path
            å°±å¹«æˆ‘è¨­ç‚º Noneï¼Œå¦‚æœæœ‰è«‹æŠŠ path çµ¦æ‰¾å‡ºä¾†ã€‚

            æä¾›çš„æ„åœ–ï¼š

            {{#1742447067053.text#}}

            {{#context#}}'
        - id: 70f5b694-49c1-44b2-afc6-3e6acc2eaf55
          role: assistant
          text: "è«‹è¼¸å‡ºç‚º JSON æ ¼å¼ï¼Œæ ¼å¼å¦‚ä¸‹ï¼š\njson\n{\n  \"path\": \"XXX\",\n  \"reason\":\
            \ \"é€™è£¡å¡«å¯«æª¢æŸ¥æˆ–è§£é‡‹çš„åŸå› \"\n}"
        selected: false
        title: '[LLM è™•ç†] ç¢ºèªPATHåƒæ•¸å­˜åœ¨'
        type: llm
        variables: []
        vision:
          enabled: false
      height: 88
      id: '1742472808495'
      position:
        x: 5439.710829265763
        y: 321.70006837147537
      positionAbsolute:
        x: 5439.710829265763
        y: 321.70006837147537
      selected: false
      sourcePosition: right
      targetPosition: left
      type: custom
      width: 242
    - data:
        desc: ''
        instruction: è«‹æå–å‡º {{#1742472808495.text#}}å…§çš„pathåƒæ•¸
        model:
          completion_params:
            temperature: 0.7
          mode: chat
          name: gpt-4o-mini
          provider: langgenius/openai/openai
        parameters:
        - description: path
          name: path
          required: false
          type: string
        query:
        - '1742472808495'
        - text
        reasoning_mode: prompt
        selected: false
        title: Workflow APIè·¯å¾‘æå–å™¨
        type: parameter-extractor
        variables: []
        vision:
          configs:
            detail: high
            variable_selector:
            - sys
            - files
          enabled: false
      height: 88
      id: '1742472982494'
      position:
        x: 5749.778654987333
        y: 321.70006837147537
      positionAbsolute:
        x: 5749.778654987333
        y: 321.70006837147537
      selected: false
      sourcePosition: right
      targetPosition: left
      type: custom
      width: 242
    - data:
        context:
          enabled: false
          variable_selector: []
        desc: ''
        model:
          completion_params:
            temperature: 0.7
          mode: chat
          name: gpt-4o-mini
          provider: langgenius/openai/openai
        prompt_template:
        - id: f43cc2ef-8d3b-4e5d-838b-425975a4664e
          role: system
          text: 'è«‹æ ¹æ“šä¸‹åˆ—è³‡è¨Šï¼Œä»¥ä¸€å¥è©±å›è¦†ä½¿ç”¨è€…ã€‚è«‹åœ¨å¥å­é–‹é ­åŠ ä¸Šã€Œ[ Info ]ã€ã€‚

            æƒ…å¢ƒï¼šä½ ç¾åœ¨æ˜¯ SMO ç¶²ç®¡æ„åœ–çš„åˆ¤åˆ¥å™¨ï¼Œè«‹æ ¹æ“šä¸‹æ–¹çš„ä½¿ç”¨è€…å•é¡ŒåŠå…ˆå‰çš„çµæœå›è¦†ï¼Œçµ„ç¹”ä¸€å¥è©±é€²è¡Œå›æ‡‰ã€‚


            ä½¿ç”¨è€…çš„å•é¡Œï¼š

            {{#sys.query#}}


            å…ˆå‰çš„çµæœå›è¦†ï¼š

            {{#1742445883218.text#}}

            '
        selected: false
        title: '[LLM å›è¦†] ç¶²ç®¡SMOå…§å®¹åˆ†åˆ¥å™¨'
        type: llm
        variables: []
        vision:
          enabled: false
      height: 88
      id: '1743501210955'
      position:
        x: 757.8806889418556
        y: 262
      positionAbsolute:
        x: 757.8806889418556
        y: 262
      selected: false
      sourcePosition: right
      targetPosition: left
      type: custom
      width: 242
    - data:
        authorization:
          config: null
          type: no-auth
        body:
          data:
          - id: key-value-4
            key: ''
            type: text
            value: "{\n  \"conversation_uid\": \"{{#conversation.conversation_uid#}}\"\
              ,\n  \"text_content\": [\n    {\n      \"type\": \"message\",\n    \
              \  \"content\": \"{{#1743501210955.text#}}\"\n    }\n  ]\n}"
          type: raw-text
        desc: ''
        headers: ''
        method: post
        params: ''
        retry_config:
          max_retries: 1
          retry_enabled: false
          retry_interval: 100
        selected: false
        timeout:
          max_connect_timeout: 0
          max_read_timeout: 0
          max_write_timeout: 0
        title: '[å›è¦†] ç¶²ç®¡SMOå…§å®¹åˆ†åˆ¥å™¨'
        type: http-request
        url: '{{#env.MITLAB_BACKEND#}}workflow_mgt/WorkflowManager/human_in_the_loop'
        variables: []
      height: 127
      id: '1743509989605'
      position:
        x: 1307.0429525171987
        y: 262
      positionAbsolute:
        x: 1307.0429525171987
        y: 262
      selected: false
      sourcePosition: right
      targetPosition: left
      type: custom
      width: 242
    - data:
        desc: ''
        items:
        - input_type: variable
          operation: over-write
          value:
          - '1742442590290'
          - conversation_uid
          variable_selector:
          - conversation
          - conversation_uid
          write_mode: over-write
        selected: false
        title: å„²å­˜conversation_uid
        type: assigner
        version: '2'
      height: 86
      id: '1743511206372'
      position:
        x: -1037.431645678755
        y: 270
      positionAbsolute:
        x: -1037.431645678755
        y: 270
      selected: false
      sourcePosition: right
      targetPosition: left
      type: custom
      width: 242
    - data:
        author: test
        desc: ''
        height: 541
        selected: false
        showAuthor: true
        text: '{"root":{"children":[{"children":[{"detail":0,"format":1,"mode":"normal","style":"font-size:
          16px;","text":"ç¢ºå®šèŠå¤©UID","type":"text","version":1}],"direction":"ltr","format":"","indent":0,"type":"paragraph","version":1,"textFormat":1}],"direction":"ltr","format":"","indent":0,"type":"root","version":1}}'
        theme: blue
        title: ''
        type: ''
        width: 663
      height: 541
      id: '1743511256837'
      position:
        x: -1058.1082160687015
        y: 166.8733612444438
      positionAbsolute:
        x: -1058.1082160687015
        y: 166.8733612444438
      selected: false
      sourcePosition: right
      targetPosition: left
      type: custom-note
      width: 663
    - data:
        authorization:
          config: null
          type: no-auth
        body:
          data:
          - id: key-value-5
            key: ''
            type: text
            value: "{\n  \"conversation_uid\": \"{{#conversation.conversation_uid#}}\"\
              ,\n  \"text_content\": [\n    {\n      \"type\": \"message\",\n    \
              \  \"content\": \"{{#17435117558650.text#}}\"\n    }\n  ]\n}"
          type: raw-text
        desc: ''
        headers: ''
        method: post
        params: ''
        retry_config:
          max_retries: 3
          retry_enabled: false
          retry_interval: 100
        selected: false
        timeout:
          max_connect_timeout: 0
          max_read_timeout: 0
          max_write_timeout: 0
        title: '[å›è¦†] å–®ä¸€æ„åœ–è¾¨è­˜å™¨'
        type: http-request
        url: '{{#env.MITLAB_BACKEND#}}workflow_mgt/WorkflowManager/human_in_the_loop'
        variables: []
      height: 127
      id: '17435117512250'
      position:
        x: 2818.2725725404694
        y: 224.5194643120497
      positionAbsolute:
        x: 2818.2725725404694
        y: 224.5194643120497
      selected: false
      sourcePosition: right
      targetPosition: left
      type: custom
      width: 242
    - data:
        context:
          enabled: false
          variable_selector: []
        desc: ''
        model:
          completion_params:
            temperature: 0.7
          mode: chat
          name: gpt-4o-mini
          provider: langgenius/openai/openai
        prompt_template:
        - id: f43cc2ef-8d3b-4e5d-838b-425975a4664e
          role: system
          text: 'è«‹æ ¹æ“šä»¥ä¸‹è³‡è¨Šï¼Œä»¥ä¸€å¥è©±å›è¦†ä½¿ç”¨è€…ï¼Œä¸¦åœ¨å¥é¦–åŠ ä¸Šã€Œ[ Info ]ã€ã€‚

            æƒ…å¢ƒï¼šä½ æ˜¯ä¸€å€‹ SMO ç¶²ç®¡æ„åœ–çš„åˆ¤åˆ¥å™¨ï¼Œè² è²¬è§£é‡‹ä½¿ç”¨è€…éœ€æ±‚æ˜¯å¦å±¬æ–¼å–®ä¸€æ„åœ–ã€‚

            è«‹æ•´åˆä½¿ç”¨è€…å•é¡Œèˆ‡å…ˆå‰çš„çµæœå›è¦†ï¼Œçµ„ç¹”å‡ºä¸€å¥è©±ç­”è¦†ã€‚


            ä½¿ç”¨è€…çš„å•é¡Œï¼š

            {{#sys.query#}}


            å…ˆå‰çš„çµæœå›è¦†ï¼š

            {{#1742445883218.text#}}'
        selected: false
        title: '[LLM å›è¦†] å–®ä¸€æ„åœ–è¾¨è­˜å™¨'
        type: llm
        variables: []
        vision:
          enabled: false
      height: 88
      id: '17435117558650'
      position:
        x: 2167.246725870651
        y: 224.5194643120497
      positionAbsolute:
        x: 2167.246725870651
        y: 224.5194643120497
      selected: false
      sourcePosition: right
      targetPosition: left
      type: custom
      width: 242
    - data:
        answer: '{{#1743501210955.text#}}'
        desc: ''
        selected: false
        title: '[å›è¦†] ç¶²ç®¡SMOå…§å®¹åˆ†åˆ¥å™¨'
        type: answer
        variables: []
      height: 103
      id: '17435128925960'
      position:
        x: 1035.7134607181292
        y: 262
      positionAbsolute:
        x: 1035.7134607181292
        y: 262
      selected: false
      sourcePosition: right
      targetPosition: left
      type: custom
      width: 242
    - data:
        answer: '{{#17435117558650.text#}}'
        desc: ''
        selected: false
        title: '[å›è¦†] å–®ä¸€æ„åœ–è¾¨è­˜å™¨'
        type: answer
        variables: []
      height: 103
      id: '17435131894560'
      position:
        x: 2486.0199611249927
        y: 224.5194643120497
      positionAbsolute:
        x: 2486.0199611249927
        y: 224.5194643120497
      selected: false
      sourcePosition: right
      targetPosition: left
      type: custom
      width: 242
    - data:
        authorization:
          config: null
          type: no-auth
        body:
          data:
          - id: key-value-7
            key: ''
            type: text
            value: "{\n    \"conversation_uid\": \"{{#conversation.conversation_uid#}}\"\
              ,\n    \"text_content\": [\n        {\n            \"type\": \"message\"\
              ,\n            \"content\": \"ä½ å¥½ï¼Œæˆ‘æ˜¯SMOåŠ©ç†ï¼Œå¸Œæœ›æˆ‘ç‚ºä½ åšä»€éº¼å—ï¼Ÿ\"\n        }\n \
              \   ]\n}"
          type: raw-text
        desc: ''
        headers: ''
        method: post
        params: ''
        retry_config:
          max_retries: 3
          retry_enabled: false
          retry_interval: 100
        selected: false
        timeout:
          max_connect_timeout: 0
          max_read_timeout: 0
          max_write_timeout: 0
        title: '[å›è¦†] Erroræ„åœ–è­˜åˆ¥éšæ®µ'
        type: http-request
        url: '{{#env.MITLAB_BACKEND#}}workflow_mgt/WorkflowManager/human_in_the_loop'
        variables: []
      height: 127
      id: '17435132396410'
      position:
        x: 1307.0429525171987
        y: 482.74918599968714
      positionAbsolute:
        x: 1307.0429525171987
        y: 482.74918599968714
      selected: false
      sourcePosition: right
      targetPosition: left
      type: custom
      width: 242
    - data:
        authorization:
          config: null
          type: no-auth
        body:
          data:
          - id: key-value-6
            key: ''
            type: text
            value: "{\n  \"conversation_uid\": \"{{#conversation.conversation_uid#}}\"\
              ,\n  \"text_content\": [\n    {\n      \"type\": \"message\",\n    \
              \  \"content\": \"[ Warning ] ç›®å‰ç³»çµ±åƒ…æ”¯æ´å–®ä¸€æ„åœ–é¡å‹çš„æ“ä½œï¼Œè«‹é‡æ–°æè¿°æ‚¨çš„å–®ä¸€éœ€æ±‚ã€‚\"\n    }\n\
              \  ]\n}"
          type: raw-text
        desc: ''
        headers: ''
        method: post
        params: ''
        retry_config:
          max_retries: 3
          retry_enabled: false
          retry_interval: 100
        selected: false
        timeout:
          max_connect_timeout: 0
          max_read_timeout: 0
          max_write_timeout: 0
        title: '[å›è¦†] è¤‡é›œæ„åœ–éšæ®µ'
        type: http-request
        url: '{{#env.MITLAB_BACKEND#}}workflow_mgt/WorkflowManager/human_in_the_loop'
        variables: []
      height: 127
      id: '17435138487230'
      position:
        x: 2818.2725725404694
        y: 470.45141161560025
      positionAbsolute:
        x: 2818.2725725404694
        y: 470.45141161560025
      selected: false
      sourcePosition: right
      targetPosition: left
      type: custom
      width: 242
    - data:
        context:
          enabled: false
          variable_selector: []
        desc: ''
        model:
          completion_params:
            temperature: 0.7
          mode: chat
          name: gpt-4o-mini
          provider: langgenius/openai/openai
        prompt_template:
        - id: f43cc2ef-8d3b-4e5d-838b-425975a4664e
          role: system
          text: 'è«‹æ ¹æ“šä¸‹åˆ—è³‡è¨Šï¼Œä»¥ä¸€å¥è©±å›è¦†ä½¿ç”¨è€…ï¼Œä¸¦åœ¨å¥é¦–åŠ ä¸Šã€Œ[ Info ]ã€ã€‚

            ä½ æ˜¯ä¸€å€‹ SMO ç¶²ç®¡æ„åœ–çš„åˆ¤åˆ¥å™¨ï¼Œéœ€èªªæ˜ç›®å‰ä½¿ç”¨è€…å°æ‡‰åˆ°ä½•ç¨®æ„åœ–ã€‚


            ä½¿ç”¨è€…çš„å•é¡Œï¼š

            {{#sys.query#}}


            å…ˆå‰çš„çµæœå›è¦†ï¼š

            {{#1742447067053.text#}}'
        selected: false
        title: '[LLM å›è¦†] æ–‡æœ¬è½‰å–®ä¸€æ„åœ–å™¨'
        type: llm
        variables: []
        vision:
          enabled: false
      height: 88
      id: '17435142956850'
      position:
        x: 4142.827661495694
        y: 321.70006837147537
      positionAbsolute:
        x: 4142.827661495694
        y: 321.70006837147537
      selected: false
      sourcePosition: right
      targetPosition: left
      type: custom
      width: 242
    - data:
        answer: '{{#17435142956850.text#}}'
        desc: ''
        selected: false
        title: '[å›è¦†] æ–‡æœ¬è½‰å–®ä¸€æ„åœ–å™¨'
        type: answer
        variables: []
      height: 103
      id: '17435143717210'
      position:
        x: 4456.870544259646
        y: 321.70006837147537
      positionAbsolute:
        x: 4456.870544259646
        y: 321.70006837147537
      selected: false
      sourcePosition: right
      targetPosition: left
      type: custom
      width: 242
    - data:
        authorization:
          config: null
          type: no-auth
        body:
          data:
          - id: key-value-1
            key: ''
            type: text
            value: "{\n  \"conversation_uid\": \"{{#conversation.conversation_uid#}}\"\
              ,\n  \"text_content\": [\n    {\n      \"type\": \"message\",\n    \
              \  \"content\": \"{{#17435142956850.text#}}\"\n    }\n  ]\n}"
          type: raw-text
        desc: ''
        headers: ''
        method: post
        params: ''
        retry_config:
          max_retries: 3
          retry_enabled: false
          retry_interval: 100
        selected: false
        timeout:
          max_connect_timeout: 0
          max_read_timeout: 0
          max_write_timeout: 0
        title: '[å›è¦†] æ–‡æœ¬è½‰å–®ä¸€æ„åœ–å™¨'
        type: http-request
        url: '{{#env.MITLAB_BACKEND#}}workflow_mgt/WorkflowManager/human_in_the_loop'
        variables: []
      height: 127
      id: '17435145116790'
      position:
        x: 4818.415711811417
        y: 321.70006837147537
      positionAbsolute:
        x: 4818.415711811417
        y: 321.70006837147537
      selected: false
      sourcePosition: right
      targetPosition: left
      type: custom
      width: 242
    - data:
        answer: '[ Error ] ç„¡æ³•å°æ‡‰åˆ°ä»»ä½•å·²æä¾›çš„æ„åœ–'
        desc: ''
        selected: false
        title: '[å›è¦†] Erroræ–‡æœ¬è½‰å–®ä¸€æ„åœ–å™¨'
        type: answer
        variables: []
      height: 100
      id: '17435146281790'
      position:
        x: 4456.870544259646
        y: 482.74918599968714
      positionAbsolute:
        x: 4456.870544259646
        y: 482.74918599968714
      selected: false
      sourcePosition: right
      targetPosition: left
      type: custom
      width: 242
    - data:
        authorization:
          config: null
          type: no-auth
        body:
          data:
          - id: key-value-9
            key: ''
            type: text
            value: "{\n    \"conversation_uid\": \"{{#conversation.conversation_uid#}}\"\
              ,\n    \"text_content\": [\n        {\n            \"type\": \"message\"\
              ,\n            \"content\": \"[ Error ] ç„¡æ³•å°æ‡‰åˆ°ä»»ä½•å·²æä¾›çš„æ„åœ–\"\n        }\n\
              \    ]\n}"
          type: raw-text
        desc: ''
        headers: ''
        method: post
        params: ''
        retry_config:
          max_retries: 3
          retry_enabled: false
          retry_interval: 100
        selected: false
        timeout:
          max_connect_timeout: 0
          max_read_timeout: 0
          max_write_timeout: 0
        title: '[å›è¦†] Erroræ–‡æœ¬è½‰å–®ä¸€æ„åœ–å™¨'
        type: http-request
        url: '{{#env.MITLAB_BACKEND#}}workflow_mgt/WorkflowManager/human_in_the_loop'
        variables: []
      height: 127
      id: '17435146350620'
      position:
        x: 4818.415711811417
        y: 482.74918599968714
      positionAbsolute:
        x: 4818.415711811417
        y: 482.74918599968714
      selected: false
      sourcePosition: right
      targetPosition: left
      type: custom
      width: 242
    - data:
        code: "import requests\nfrom typing import Any, Dict, List, Union\n\ndef parse_chain(chain_data:\
          \ List[Dict[str, Any]]) -> List[Dict[str, Any]]:\n    \"\"\"\n    è§£æ n8n\
          \ å›å‚³çš„ chainï¼Œä¾ type åšä¸åŒè™•ç†ã€‚\n    - message: ç›´æ¥å›å‚³ contentï¼ˆæ–‡å­—ï¼‰\n    - image:\
          \   ä¸å† fetchï¼Œå‡è¨­å…§å®¹å·²ç¶“æ˜¯ base64 æˆ–ç‰©ä»¶ï¼Œç›´æ¥ä¿ç•™\n    - table:   å°‡ columns/data å°è£ç‚ºä¸€å€‹\
          \ content ç‰©ä»¶\n    - å…¶ä»–:    ç•¶æœªçŸ¥å‹åˆ¥ï¼Œå›å‚³æç¤ºæ–‡å­—\n    \"\"\"\n    parsed_list = []\n\
          \    for item in chain_data:\n        item_type = item.get(\"type\", \"\"\
          ).lower()\n        content = item.get(\"content\")\n\n        if item_type\
          \ == \"message\":\n            # ç´”æ–‡å­—\n            parsed_list.append({\n\
          \                \"type\": \"message\",\n                \"content\": content\n\
          \            })\n\n        elif item_type == \"image\":\n            data_dict\
          \ = content.get(\"data\", {})\n            base64_data = data_dict.get(\"\
          data\")\n            # ç›´æ¥ä¿¡ä»» n8n å·²ç¶“å›å‚³äº†å®Œæ•´è³‡è¨Š (ä¾‹å¦‚ base64 æˆ– dataç‰©ä»¶)\n       \
          \     # å¯ä»¥ä¾ä½ å¯¦éš›ç‹€æ³æ±ºå®šè¦ä¸è¦å†åšé€²ä¸€æ­¥åˆ¤æ–·\n            parsed_list.append({\n       \
          \         \"type\": \"image\",\n                \"content\": base64_data\n\
          \            })\n\n        elif item_type == \"table\":\n            # å‡è¨­\
          \ n8n ç›´æ¥åœ¨ item è£¡æä¾› columns / data\n            columns = content.get(\"\
          columns\", [])\n            data = content.get(\"data\", [])\n         \
          \   parsed_list.append({\n                \"type\": \"table\",\n       \
          \         \"content\": {\n                    \"columns\": columns,\n  \
          \                  \"data\": data\n                }\n            })\n\n\
          \        else:\n            # æœªçŸ¥å‹åˆ¥ â†’ ä»¥æ–‡å­—é¡¯ç¤º\n            parsed_list.append({\n\
          \                \"type\": \"message\",\n                \"content\": f\"\
          [æœªçŸ¥ type={item_type}] {content}\"\n            })\n\n    return parsed_list\n\
          \ndef send_to_human_in_the_loop(\n    backend_url: str,\n    conversation_uid:\
          \ str,\n    item: Dict[str, Any]\n) -> requests.Response:\n    \"\"\"\n\
          \    å°‡ã€Œå–®ä¸€ itemã€é€åˆ° human_in_the_loop APIã€‚\n    text_content å‚³ä¸€å€‹ listï¼Œè£¡é¢åªæœ‰æ­¤\
          \ itemã€‚\n    \"\"\"\n    api_endpoint = f\"{backend_url}workflow_mgt/WorkflowManager/human_in_the_loop\"\
          \n    payload = {\n        \"conversation_uid\": conversation_uid,\n   \
          \     \"text_content\": [item]  # åƒ…å‚³ä¸€å€‹ item\n    }\n    return requests.post(api_endpoint,\
          \ json=payload)\n\ndef main(\n    n8n_url: str,\n    n8n_path: str,\n  \
          \  backend_url: str = \"http://YOUR_BACKEND_SERVER_URL\",\n    conversation_uid:\
          \ str = \"æ¸¬è©¦UID-12345\"\n) -> Dict[str, Any]:\n    \"\"\"\n    Dify Code\
          \ Node é€²å…¥é»:\n      1) å‘ n8n ç™¼é€ GET/POST è«‹æ±‚ (è¦–ä½ çš„ n8n è¨­å®š) ä»¥å–å¾— { \"chain\"\
          : [...] }\n      2) parse_chain â†’ è§£æ chain\n      3) é€ä¸€æŠŠæ¯å€‹ item å‚³çµ¦ human_in_the_loop\n\
          \      4) å›å‚³æ‰€æœ‰å‘¼å«çµæœ\n\n    åƒæ•¸:\n      n8n_url:  n8n ä¸»æ©Ÿæˆ–ç¶²åŸŸ\n      n8n_path:\
          \ å…·é«” API è·¯å¾‘ (å¯èƒ½å« /webhook/...)\n      backend_url: human_in_the_loop çš„å¾Œç«¯ä½å€\
          \ (å‰åŠæ®µ)\n      conversation_uid: ç”¨æ–¼è­˜åˆ¥å°è©±çš„ ID\n    \"\"\"\n\n    # 1) å–å¾— n8n\
          \ çµæœ\n    n8n_endpoint = f\"{n8n_url}{n8n_path}\"\n\n    try:\n        response\
          \ = requests.get(n8n_endpoint, timeout=300)\n        response.raise_for_status()\n\
          \    except Exception as e:\n        return {\n            \"result\": \"\
          n8n fetch data error\"\n        }\n\n    # é æœŸ n8n è¿”å›çš„ JSON çµæ§‹: { \"chain\"\
          : [...] }\n    try:\n        n8n_result = response.json()\n    except Exception\
          \ as e:\n        return {\n            \"result\": \"error\"\n        }\n\
          \n    if \"chain\" not in n8n_result[0]:\n        return {\n           \
          \ \"result\": \"no data error\"\n        }\n\n    # 2) parse_chain\n   \
          \ chain_parsed = parse_chain(n8n_result[0][\"chain\"])\n\n    # 3) æ¯å€‹ item\
          \ é€ä¸€æ‰“ API\n    results = []\n    for item in chain_parsed:\n        try:\n\
          \            resp = send_to_human_in_the_loop(backend_url, conversation_uid,\
          \ item)\n            results.append({\n                \"type\": item[\"\
          type\"],\n                \"status_code\": resp.status_code,\n         \
          \       \"response_text\": resp.text\n            })\n        except Exception\
          \ as e:\n            results.append({\n                \"result\": \"parsed\
          \ error\"\n            })\n\n    # 4) å›å‚³æ‰€æœ‰å‘¼å«çµæœ\n    return {\n        \"\
          result\": \"API Success\"\n    }\n"
        code_language: python3
        desc: ''
        outputs:
          result:
            children: null
            type: string
        selected: false
        title: åŸ·è¡Œå«æœ‰å‘¼å«APIçš„Code
        type: code
        variables:
        - value_selector:
          - env
          - MITLAB_BACKEND
          variable: backend_url
        - value_selector:
          - conversation
          - conversation_uid
          variable: conversation_uid
        - value_selector:
          - env
          - N8N_ACTIVE_BASE_URL
          variable: n8n_url
        - value_selector:
          - '1742472982494'
          - path
          variable: n8n_path
      height: 52
      id: '1744297062468'
      position:
        x: 6090.264257102447
        y: 321.70006837147537
      positionAbsolute:
        x: 6090.264257102447
        y: 321.70006837147537
      selected: false
      sourcePosition: right
      targetPosition: left
      type: custom
      width: 242
    - data:
        cases:
        - case_id: 'true'
          conditions:
          - comparison_operator: is
            id: 958022b7-11ec-4056-84c9-0fddede9210b
            value: OK
            varType: string
            variable_selector:
            - sys
            - query
          id: 'true'
          logical_operator: and
        - case_id: 44611379-5777-4b80-8577-0a4d9cede932
          conditions:
          - comparison_operator: is
            id: 12b7d751-6bcf-4a1b-be3a-5fe9622e3e9e
            value: ç›®å‰æ•´é«”ç¶²è·¯çš„è¨Šè™Ÿå“è³ªç‹€æ³å¦‚ä½•?
            varType: string
            variable_selector:
            - sys
            - query
          id: 44611379-5777-4b80-8577-0a4d9cede932
          logical_operator: and
        - case_id: 305c1bb1-2b94-4b24-a5d1-b63bc079e475
          conditions:
          - comparison_operator: is
            id: 0cfca859-a38d-4dbb-9ab5-927162584f58
            value: èƒ½å¦å‘Šè¨´æˆ‘é€™äº›UEçš„throughput?
            varType: string
            variable_selector:
            - sys
            - query
          id: 305c1bb1-2b94-4b24-a5d1-b63bc079e475
          logical_operator: and
        - case_id: 845df0f6-b64f-4dcd-b94d-15a9c512a370
          conditions:
          - comparison_operator: contains
            id: 59c60491-c37b-47c7-8dc8-4b9f271decf3
            value: é æ¸¬
            varType: string
            variable_selector:
            - sys
            - query
          id: 845df0f6-b64f-4dcd-b94d-15a9c512a370
          logical_operator: and
        desc: ''
        selected: false
        title: æ¢ä»¶åˆ†æ”¯ 4
        type: if-else
      height: 268
      id: '1744353564080'
      position:
        x: -747.431645678755
        y: 270
      positionAbsolute:
        x: -747.431645678755
        y: 270
      selected: false
      sourcePosition: right
      targetPosition: left
      type: custom
      width: 242
    - data:
        code: "import requests\nfrom typing import Any, Dict, List, Union\n\ndef parse_chain(chain_data:\
          \ List[Dict[str, Any]]) -> List[Dict[str, Any]]:\n    \"\"\"\n    è§£æ n8n\
          \ å›å‚³çš„ chainï¼Œä¾ type åšä¸åŒè™•ç†ã€‚\n    - message: ç›´æ¥å›å‚³ contentï¼ˆæ–‡å­—ï¼‰\n    - image:\
          \   ä¸å† fetchï¼Œå‡è¨­å…§å®¹å·²ç¶“æ˜¯ base64 æˆ–ç‰©ä»¶ï¼Œç›´æ¥ä¿ç•™\n    - table:   å°‡ columns/data å°è£ç‚ºä¸€å€‹\
          \ content ç‰©ä»¶\n    - å…¶ä»–:    ç•¶æœªçŸ¥å‹åˆ¥ï¼Œå›å‚³æç¤ºæ–‡å­—\n    \"\"\"\n    parsed_list = []\n\
          \    for item in chain_data:\n        item_type = item.get(\"type\", \"\"\
          ).lower()\n        content = item.get(\"content\")\n\n        if item_type\
          \ == \"message\":\n            # ç´”æ–‡å­—\n            parsed_list.append({\n\
          \                \"type\": \"message\",\n                \"content\": content\n\
          \            })\n\n        elif item_type == \"image\":\n            data_dict\
          \ = content.get(\"data\", {})\n            base64_data = data_dict.get(\"\
          data\")\n            # ç›´æ¥ä¿¡ä»» n8n å·²ç¶“å›å‚³äº†å®Œæ•´è³‡è¨Š (ä¾‹å¦‚ base64 æˆ– dataç‰©ä»¶)\n       \
          \     # å¯ä»¥ä¾ä½ å¯¦éš›ç‹€æ³æ±ºå®šè¦ä¸è¦å†åšé€²ä¸€æ­¥åˆ¤æ–·\n            parsed_list.append({\n       \
          \         \"type\": \"image\",\n                \"content\": base64_data\n\
          \            })\n\n        elif item_type == \"table\":\n            # å‡è¨­\
          \ n8n ç›´æ¥åœ¨ item è£¡æä¾› columns / data\n            columns = content.get(\"\
          columns\", [])\n            data = content.get(\"data\", [])\n         \
          \   parsed_list.append({\n                \"type\": \"table\",\n       \
          \         \"content\": {\n                    \"columns\": columns,\n  \
          \                  \"data\": data\n                }\n            })\n\n\
          \        else:\n            # æœªçŸ¥å‹åˆ¥ â†’ ä»¥æ–‡å­—é¡¯ç¤º\n            parsed_list.append({\n\
          \                \"type\": \"message\",\n                \"content\": f\"\
          [æœªçŸ¥ type={item_type}] {content}\"\n            })\n\n    return parsed_list\n\
          \ndef send_to_human_in_the_loop(\n    backend_url: str,\n    conversation_uid:\
          \ str,\n    item: Dict[str, Any]\n) -> requests.Response:\n    \"\"\"\n\
          \    å°‡ã€Œå–®ä¸€ itemã€é€åˆ° human_in_the_loop APIã€‚\n    text_content å‚³ä¸€å€‹ listï¼Œè£¡é¢åªæœ‰æ­¤\
          \ itemã€‚\n    \"\"\"\n    api_endpoint = f\"{backend_url}workflow_mgt/WorkflowManager/human_in_the_loop\"\
          \n    payload = {\n        \"conversation_uid\": conversation_uid,\n   \
          \     \"text_content\": [item]  # åƒ…å‚³ä¸€å€‹ item\n    }\n    return requests.post(api_endpoint,\
          \ json=payload)\n\ndef main(\n    n8n_url: str,\n    n8n_path: str,\n  \
          \  backend_url: str = \"http://YOUR_BACKEND_SERVER_URL\",\n    conversation_uid:\
          \ str = \"æ¸¬è©¦UID-12345\"\n) -> Dict[str, Any]:\n    \"\"\"\n    Dify Code\
          \ Node é€²å…¥é»:\n      1) å‘ n8n ç™¼é€ GET/POST è«‹æ±‚ (è¦–ä½ çš„ n8n è¨­å®š) ä»¥å–å¾— { \"chain\"\
          : [...] }\n      2) parse_chain â†’ è§£æ chain\n      3) é€ä¸€æŠŠæ¯å€‹ item å‚³çµ¦ human_in_the_loop\n\
          \      4) å›å‚³æ‰€æœ‰å‘¼å«çµæœ\n\n    åƒæ•¸:\n      n8n_url:  n8n ä¸»æ©Ÿæˆ–ç¶²åŸŸ\n      n8n_path:\
          \ å…·é«” API è·¯å¾‘ (å¯èƒ½å« /webhook/...)\n      backend_url: human_in_the_loop çš„å¾Œç«¯ä½å€\
          \ (å‰åŠæ®µ)\n      conversation_uid: ç”¨æ–¼è­˜åˆ¥å°è©±çš„ ID\n    \"\"\"\n\n    # 1) å–å¾— n8n\
          \ çµæœ\n    n8n_endpoint = f\"{n8n_url}{n8n_path}\"\n\n    try:\n        response\
          \ = requests.get(n8n_endpoint, timeout=300)\n        response.raise_for_status()\n\
          \    except Exception as e:\n        return {\n            \"result\": \"\
          n8n fetch data error\"\n        }\n\n    # é æœŸ n8n è¿”å›çš„ JSON çµæ§‹: { \"chain\"\
          : [...] }\n    try:\n        n8n_result = response.json()\n    except Exception\
          \ as e:\n        return {\n            \"result\": \"error\"\n        }\n\
          \n    if \"chain\" not in n8n_result[0]:\n        return {\n           \
          \ \"result\": \"no data error\"\n        }\n\n    # 2) parse_chain\n   \
          \ chain_parsed = parse_chain(n8n_result[0][\"chain\"])\n\n    # 3) æ¯å€‹ item\
          \ é€ä¸€æ‰“ API\n    results = []\n    for item in chain_parsed:\n        try:\n\
          \            resp = send_to_human_in_the_loop(backend_url, conversation_uid,\
          \ item)\n            results.append({\n                \"type\": item[\"\
          type\"],\n                \"status_code\": resp.status_code,\n         \
          \       \"response_text\": resp.text\n            })\n        except Exception\
          \ as e:\n            results.append({\n                \"result\": \"parsed\
          \ error\"\n            })\n\n    # 4) å›å‚³æ‰€æœ‰å‘¼å«çµæœ\n    return {\n        \"\
          result\": \"API Success\"\n    }\n"
        code_language: python3
        desc: ''
        outputs:
          result:
            children: null
            type: string
        selected: false
        title: SINR MAP
        type: code
        variables:
        - value_selector:
          - env
          - N8N_ACTIVE_BASE_URL
          variable: n8n_url
        - value_selector:
          - env
          - SINR_PATH
          variable: n8n_path
        - value_selector:
          - env
          - MITLAB_BACKEND
          variable: backend_url
        - value_selector:
          - conversation
          - conversation_uid
          variable: conversation_uid
      height: 52
      id: '1744353668299'
      position:
        x: -204.8755823925727
        y: -524.9086894992872
      positionAbsolute:
        x: -204.8755823925727
        y: -524.9086894992872
      selected: false
      sourcePosition: right
      targetPosition: left
      type: custom
      width: 242
    - data:
        code: "import requests\nfrom typing import Any, Dict, List, Union\n\ndef parse_chain(chain_data:\
          \ List[Dict[str, Any]]) -> List[Dict[str, Any]]:\n    \"\"\"\n    è§£æ n8n\
          \ å›å‚³çš„ chainï¼Œä¾ type åšä¸åŒè™•ç†ã€‚\n    - message: ç›´æ¥å›å‚³ contentï¼ˆæ–‡å­—ï¼‰\n    - image:\
          \   ä¸å† fetchï¼Œå‡è¨­å…§å®¹å·²ç¶“æ˜¯ base64 æˆ–ç‰©ä»¶ï¼Œç›´æ¥ä¿ç•™\n    - table:   å°‡ columns/data å°è£ç‚ºä¸€å€‹\
          \ content ç‰©ä»¶\n    - å…¶ä»–:    ç•¶æœªçŸ¥å‹åˆ¥ï¼Œå›å‚³æç¤ºæ–‡å­—\n    \"\"\"\n    parsed_list = []\n\
          \    for item in chain_data:\n        item_type = item.get(\"type\", \"\"\
          ).lower()\n        content = item.get(\"content\")\n\n        if item_type\
          \ == \"message\":\n            # ç´”æ–‡å­—\n            parsed_list.append({\n\
          \                \"type\": \"message\",\n                \"content\": content\n\
          \            })\n\n        elif item_type == \"image\":\n            data_dict\
          \ = content.get(\"data\", {})\n            base64_data = data_dict.get(\"\
          data\")\n            # ç›´æ¥ä¿¡ä»» n8n å·²ç¶“å›å‚³äº†å®Œæ•´è³‡è¨Š (ä¾‹å¦‚ base64 æˆ– dataç‰©ä»¶)\n       \
          \     # å¯ä»¥ä¾ä½ å¯¦éš›ç‹€æ³æ±ºå®šè¦ä¸è¦å†åšé€²ä¸€æ­¥åˆ¤æ–·\n            parsed_list.append({\n       \
          \         \"type\": \"image\",\n                \"content\": base64_data\n\
          \            })\n\n        elif item_type == \"table\":\n            # å‡è¨­\
          \ n8n ç›´æ¥åœ¨ item è£¡æä¾› columns / data\n            columns = content.get(\"\
          columns\", [])\n            data = content.get(\"data\", [])\n         \
          \   parsed_list.append({\n                \"type\": \"table\",\n       \
          \         \"content\": {\n                    \"columns\": columns,\n  \
          \                  \"data\": data\n                }\n            })\n\n\
          \        else:\n            # æœªçŸ¥å‹åˆ¥ â†’ ä»¥æ–‡å­—é¡¯ç¤º\n            parsed_list.append({\n\
          \                \"type\": \"message\",\n                \"content\": f\"\
          [æœªçŸ¥ type={item_type}] {content}\"\n            })\n\n    return parsed_list\n\
          \ndef send_to_human_in_the_loop(\n    backend_url: str,\n    conversation_uid:\
          \ str,\n    item: Dict[str, Any]\n) -> requests.Response:\n    \"\"\"\n\
          \    å°‡ã€Œå–®ä¸€ itemã€é€åˆ° human_in_the_loop APIã€‚\n    text_content å‚³ä¸€å€‹ listï¼Œè£¡é¢åªæœ‰æ­¤\
          \ itemã€‚\n    \"\"\"\n    api_endpoint = f\"{backend_url}workflow_mgt/WorkflowManager/human_in_the_loop\"\
          \n    payload = {\n        \"conversation_uid\": conversation_uid,\n   \
          \     \"text_content\": [item]  # åƒ…å‚³ä¸€å€‹ item\n    }\n    return requests.post(api_endpoint,\
          \ json=payload)\n\ndef main(\n    n8n_url: str,\n    n8n_path: str,\n  \
          \  backend_url: str = \"http://YOUR_BACKEND_SERVER_URL\",\n    conversation_uid:\
          \ str = \"æ¸¬è©¦UID-12345\"\n) -> Dict[str, Any]:\n    \"\"\"\n    Dify Code\
          \ Node é€²å…¥é»:\n      1) å‘ n8n ç™¼é€ GET/POST è«‹æ±‚ (è¦–ä½ çš„ n8n è¨­å®š) ä»¥å–å¾— { \"chain\"\
          : [...] }\n      2) parse_chain â†’ è§£æ chain\n      3) é€ä¸€æŠŠæ¯å€‹ item å‚³çµ¦ human_in_the_loop\n\
          \      4) å›å‚³æ‰€æœ‰å‘¼å«çµæœ\n\n    åƒæ•¸:\n      n8n_url:  n8n ä¸»æ©Ÿæˆ–ç¶²åŸŸ\n      n8n_path:\
          \ å…·é«” API è·¯å¾‘ (å¯èƒ½å« /webhook/...)\n      backend_url: human_in_the_loop çš„å¾Œç«¯ä½å€\
          \ (å‰åŠæ®µ)\n      conversation_uid: ç”¨æ–¼è­˜åˆ¥å°è©±çš„ ID\n    \"\"\"\n\n    # 1) å–å¾— n8n\
          \ çµæœ\n    n8n_endpoint = f\"{n8n_url}{n8n_path}\"\n\n    try:\n        response\
          \ = requests.get(n8n_endpoint, timeout=300)\n        response.raise_for_status()\n\
          \    except Exception as e:\n        return {\n            \"result\": \"\
          n8n fetch data error\"\n        }\n\n    # é æœŸ n8n è¿”å›çš„ JSON çµæ§‹: { \"chain\"\
          : [...] }\n    try:\n        n8n_result = response.json()\n    except Exception\
          \ as e:\n        return {\n            \"result\": \"error\"\n        }\n\
          \n    if \"chain\" not in n8n_result[0]:\n        return {\n           \
          \ \"result\": \"no data error\"\n        }\n\n    # 2) parse_chain\n   \
          \ chain_parsed = parse_chain(n8n_result[0][\"chain\"])\n\n    # 3) æ¯å€‹ item\
          \ é€ä¸€æ‰“ API\n    results = []\n    for item in chain_parsed:\n        try:\n\
          \            resp = send_to_human_in_the_loop(backend_url, conversation_uid,\
          \ item)\n            results.append({\n                \"type\": item[\"\
          type\"],\n                \"status_code\": resp.status_code,\n         \
          \       \"response_text\": resp.text\n            })\n        except Exception\
          \ as e:\n            results.append({\n                \"result\": \"parsed\
          \ error\"\n            })\n\n    # 4) å›å‚³æ‰€æœ‰å‘¼å«çµæœ\n    return {\n        \"\
          result\": \"API Success\"\n    }\n"
        code_language: python3
        desc: ''
        outputs:
          result:
            children: null
            type: string
        selected: false
        title: Interference UE Predict
        type: code
        variables:
        - value_selector:
          - env
          - N8N_ACTIVE_BASE_URL
          variable: n8n_url
        - value_selector:
          - env
          - Interference_UE_Predict_PATH
          variable: n8n_path
        - value_selector:
          - env
          - MITLAB_BACKEND
          variable: backend_url
        - value_selector:
          - conversation
          - conversation_uid
          variable: conversation_uid
      height: 52
      id: '17443649198400'
      position:
        x: -195.78128299351033
        y: -269.7666671478289
      positionAbsolute:
        x: -195.78128299351033
        y: -269.7666671478289
      selected: false
      sourcePosition: right
      targetPosition: left
      type: custom
      width: 242
    - data:
        code: "import requests\nfrom typing import Any, Dict, List, Union\n\ndef parse_chain(chain_data:\
          \ List[Dict[str, Any]]) -> List[Dict[str, Any]]:\n    \"\"\"\n    è§£æ n8n\
          \ å›å‚³çš„ chainï¼Œä¾ type åšä¸åŒè™•ç†ã€‚\n    - message: ç›´æ¥å›å‚³ contentï¼ˆæ–‡å­—ï¼‰\n    - image:\
          \   ä¸å† fetchï¼Œå‡è¨­å…§å®¹å·²ç¶“æ˜¯ base64 æˆ–ç‰©ä»¶ï¼Œç›´æ¥ä¿ç•™\n    - table:   å°‡ columns/data å°è£ç‚ºä¸€å€‹\
          \ content ç‰©ä»¶\n    - å…¶ä»–:    ç•¶æœªçŸ¥å‹åˆ¥ï¼Œå›å‚³æç¤ºæ–‡å­—\n    \"\"\"\n    parsed_list = []\n\
          \    for item in chain_data:\n        item_type = item.get(\"type\", \"\"\
          ).lower()\n        content = item.get(\"content\")\n\n        if item_type\
          \ == \"message\":\n            # ç´”æ–‡å­—\n            parsed_list.append({\n\
          \                \"type\": \"message\",\n                \"content\": content\n\
          \            })\n\n        elif item_type == \"image\":\n            data_dict\
          \ = content.get(\"data\", {})\n            base64_data = data_dict.get(\"\
          data\")\n            # ç›´æ¥ä¿¡ä»» n8n å·²ç¶“å›å‚³äº†å®Œæ•´è³‡è¨Š (ä¾‹å¦‚ base64 æˆ– dataç‰©ä»¶)\n       \
          \     # å¯ä»¥ä¾ä½ å¯¦éš›ç‹€æ³æ±ºå®šè¦ä¸è¦å†åšé€²ä¸€æ­¥åˆ¤æ–·\n            parsed_list.append({\n       \
          \         \"type\": \"image\",\n                \"content\": base64_data\n\
          \            })\n\n        elif item_type == \"table\":\n            # å‡è¨­\
          \ n8n ç›´æ¥åœ¨ item è£¡æä¾› columns / data\n            columns = content.get(\"\
          columns\", [])\n            data = content.get(\"data\", [])\n         \
          \   parsed_list.append({\n                \"type\": \"table\",\n       \
          \         \"content\": {\n                    \"columns\": columns,\n  \
          \                  \"data\": data\n                }\n            })\n\n\
          \        else:\n            # æœªçŸ¥å‹åˆ¥ â†’ ä»¥æ–‡å­—é¡¯ç¤º\n            parsed_list.append({\n\
          \                \"type\": \"message\",\n                \"content\": f\"\
          [æœªçŸ¥ type={item_type}] {content}\"\n            })\n\n    return parsed_list\n\
          \ndef send_to_human_in_the_loop(\n    backend_url: str,\n    conversation_uid:\
          \ str,\n    item: Dict[str, Any]\n) -> requests.Response:\n    \"\"\"\n\
          \    å°‡ã€Œå–®ä¸€ itemã€é€åˆ° human_in_the_loop APIã€‚\n    text_content å‚³ä¸€å€‹ listï¼Œè£¡é¢åªæœ‰æ­¤\
          \ itemã€‚\n    \"\"\"\n    api_endpoint = f\"{backend_url}workflow_mgt/WorkflowManager/human_in_the_loop\"\
          \n    payload = {\n        \"conversation_uid\": conversation_uid,\n   \
          \     \"text_content\": [item]  # åƒ…å‚³ä¸€å€‹ item\n    }\n    return requests.post(api_endpoint,\
          \ json=payload)\n\ndef main(\n    n8n_url: str,\n    n8n_path: str,\n  \
          \  backend_url: str = \"http://YOUR_BACKEND_SERVER_URL\",\n    conversation_uid:\
          \ str = \"æ¸¬è©¦UID-12345\"\n) -> Dict[str, Any]:\n    \"\"\"\n    Dify Code\
          \ Node é€²å…¥é»:\n      1) å‘ n8n ç™¼é€ GET/POST è«‹æ±‚ (è¦–ä½ çš„ n8n è¨­å®š) ä»¥å–å¾— { \"chain\"\
          : [...] }\n      2) parse_chain â†’ è§£æ chain\n      3) é€ä¸€æŠŠæ¯å€‹ item å‚³çµ¦ human_in_the_loop\n\
          \      4) å›å‚³æ‰€æœ‰å‘¼å«çµæœ\n\n    åƒæ•¸:\n      n8n_url:  n8n ä¸»æ©Ÿæˆ–ç¶²åŸŸ\n      n8n_path:\
          \ å…·é«” API è·¯å¾‘ (å¯èƒ½å« /webhook/...)\n      backend_url: human_in_the_loop çš„å¾Œç«¯ä½å€\
          \ (å‰åŠæ®µ)\n      conversation_uid: ç”¨æ–¼è­˜åˆ¥å°è©±çš„ ID\n    \"\"\"\n\n    # 1) å–å¾— n8n\
          \ çµæœ\n    n8n_endpoint = f\"{n8n_url}{n8n_path}\"\n\n    try:\n        response\
          \ = requests.get(n8n_endpoint, timeout=300)\n        response.raise_for_status()\n\
          \    except Exception as e:\n        return {\n            \"result\": \"\
          n8n fetch data error\"\n        }\n\n    # é æœŸ n8n è¿”å›çš„ JSON çµæ§‹: { \"chain\"\
          : [...] }\n    try:\n        n8n_result = response.json()\n    except Exception\
          \ as e:\n        return {\n            \"result\": \"error\"\n        }\n\
          \n    if \"chain\" not in n8n_result[0]:\n        return {\n           \
          \ \"result\": \"no data error\"\n        }\n\n    # 2) parse_chain\n   \
          \ chain_parsed = parse_chain(n8n_result[0][\"chain\"])\n\n    # 3) æ¯å€‹ item\
          \ é€ä¸€æ‰“ API\n    results = []\n    for item in chain_parsed:\n        try:\n\
          \            resp = send_to_human_in_the_loop(backend_url, conversation_uid,\
          \ item)\n            results.append({\n                \"type\": item[\"\
          type\"],\n                \"status_code\": resp.status_code,\n         \
          \       \"response_text\": resp.text\n            })\n        except Exception\
          \ as e:\n            results.append({\n                \"result\": \"parsed\
          \ error\"\n            })\n\n    # 4) å›å‚³æ‰€æœ‰å‘¼å«çµæœ\n    return {\n        \"\
          result\": \"API Success\"\n    }\n"
        code_language: python3
        desc: ''
        outputs:
          result:
            children: null
            type: string
        selected: false
        title: Query UE Throughput
        type: code
        variables:
        - value_selector:
          - env
          - N8N_ACTIVE_BASE_URL
          variable: n8n_url
        - value_selector:
          - env
          - Query_UE_Throughput_PATH
          variable: n8n_path
        - value_selector:
          - env
          - MITLAB_BACKEND
          variable: backend_url
        - value_selector:
          - conversation
          - conversation_uid
          variable: conversation_uid
      height: 52
      id: '17443652347490'
      position:
        x: -204.8755823925727
        y: -415.8539010058092
      positionAbsolute:
        x: -204.8755823925727
        y: -415.8539010058092
      selected: false
      sourcePosition: right
      targetPosition: left
      type: custom
      width: 242
    - data:
        code: "import requests\nfrom typing import Any, Dict, List, Union\n\ndef parse_chain(chain_data:\
          \ List[Dict[str, Any]]) -> List[Dict[str, Any]]:\n    \"\"\"\n    è§£æ n8n\
          \ å›å‚³çš„ chainï¼Œä¾ type åšä¸åŒè™•ç†ã€‚\n    - message: ç›´æ¥å›å‚³ contentï¼ˆæ–‡å­—ï¼‰\n    - image:\
          \   ä¸å† fetchï¼Œå‡è¨­å…§å®¹å·²ç¶“æ˜¯ base64 æˆ–ç‰©ä»¶ï¼Œç›´æ¥ä¿ç•™\n    - table:   å°‡ columns/data å°è£ç‚ºä¸€å€‹\
          \ content ç‰©ä»¶\n    - å…¶ä»–:    ç•¶æœªçŸ¥å‹åˆ¥ï¼Œå›å‚³æç¤ºæ–‡å­—\n    \"\"\"\n    parsed_list = []\n\
          \    for item in chain_data:\n        item_type = item.get(\"type\", \"\"\
          ).lower()\n        content = item.get(\"content\")\n\n        if item_type\
          \ == \"message\":\n            # ç´”æ–‡å­—\n            parsed_list.append({\n\
          \                \"type\": \"message\",\n                \"content\": content\n\
          \            })\n\n        elif item_type == \"image\":\n            data_dict\
          \ = content.get(\"data\", {})\n            base64_data = data_dict.get(\"\
          data\")\n            # ç›´æ¥ä¿¡ä»» n8n å·²ç¶“å›å‚³äº†å®Œæ•´è³‡è¨Š (ä¾‹å¦‚ base64 æˆ– dataç‰©ä»¶)\n       \
          \     # å¯ä»¥ä¾ä½ å¯¦éš›ç‹€æ³æ±ºå®šè¦ä¸è¦å†åšé€²ä¸€æ­¥åˆ¤æ–·\n            parsed_list.append({\n       \
          \         \"type\": \"image\",\n                \"content\": base64_data\n\
          \            })\n\n        elif item_type == \"table\":\n            # å‡è¨­\
          \ n8n ç›´æ¥åœ¨ item è£¡æä¾› columns / data\n            columns = content.get(\"\
          columns\", [])\n            data = content.get(\"data\", [])\n         \
          \   parsed_list.append({\n                \"type\": \"table\",\n       \
          \         \"content\": {\n                    \"columns\": columns,\n  \
          \                  \"data\": data\n                }\n            })\n\n\
          \        else:\n            # æœªçŸ¥å‹åˆ¥ â†’ ä»¥æ–‡å­—é¡¯ç¤º\n            parsed_list.append({\n\
          \                \"type\": \"message\",\n                \"content\": f\"\
          [æœªçŸ¥ type={item_type}] {content}\"\n            })\n\n    return parsed_list\n\
          \ndef send_to_human_in_the_loop(\n    backend_url: str,\n    conversation_uid:\
          \ str,\n    item: Dict[str, Any]\n) -> requests.Response:\n    \"\"\"\n\
          \    å°‡ã€Œå–®ä¸€ itemã€é€åˆ° human_in_the_loop APIã€‚\n    text_content å‚³ä¸€å€‹ listï¼Œè£¡é¢åªæœ‰æ­¤\
          \ itemã€‚\n    \"\"\"\n    api_endpoint = f\"{backend_url}workflow_mgt/WorkflowManager/human_in_the_loop\"\
          \n    payload = {\n        \"conversation_uid\": conversation_uid,\n   \
          \     \"text_content\": [item]  # åƒ…å‚³ä¸€å€‹ item\n    }\n    return requests.post(api_endpoint,\
          \ json=payload)\n\ndef main(\n    n8n_url: str,\n    n8n_path: str,\n  \
          \  backend_url: str = \"http://YOUR_BACKEND_SERVER_URL\",\n    conversation_uid:\
          \ str = \"æ¸¬è©¦UID-12345\"\n) -> Dict[str, Any]:\n    \"\"\"\n    Dify Code\
          \ Node é€²å…¥é»:\n      1) å‘ n8n ç™¼é€ GET/POST è«‹æ±‚ (è¦–ä½ çš„ n8n è¨­å®š) ä»¥å–å¾— { \"chain\"\
          : [...] }\n      2) parse_chain â†’ è§£æ chain\n      3) é€ä¸€æŠŠæ¯å€‹ item å‚³çµ¦ human_in_the_loop\n\
          \      4) å›å‚³æ‰€æœ‰å‘¼å«çµæœ\n\n    åƒæ•¸:\n      n8n_url:  n8n ä¸»æ©Ÿæˆ–ç¶²åŸŸ\n      n8n_path:\
          \ å…·é«” API è·¯å¾‘ (å¯èƒ½å« /webhook/...)\n      backend_url: human_in_the_loop çš„å¾Œç«¯ä½å€\
          \ (å‰åŠæ®µ)\n      conversation_uid: ç”¨æ–¼è­˜åˆ¥å°è©±çš„ ID\n    \"\"\"\n\n    # 1) å–å¾— n8n\
          \ çµæœ\n    n8n_endpoint = f\"{n8n_url}{n8n_path}\"\n\n    try:\n        response\
          \ = requests.get(n8n_endpoint, timeout=300)\n        response.raise_for_status()\n\
          \    except Exception as e:\n        return {\n            \"result\": \"\
          n8n fetch data error\"\n        }\n\n    # é æœŸ n8n è¿”å›çš„ JSON çµæ§‹: { \"chain\"\
          : [...] }\n    try:\n        n8n_result = response.json()\n    except Exception\
          \ as e:\n        return {\n            \"result\": \"error\"\n        }\n\
          \n    if \"chain\" not in n8n_result[0]:\n        return {\n           \
          \ \"result\": \"no data error\"\n        }\n\n    # 2) parse_chain\n   \
          \ chain_parsed = parse_chain(n8n_result[0][\"chain\"])\n\n    # 3) æ¯å€‹ item\
          \ é€ä¸€æ‰“ API\n    results = []\n    for item in chain_parsed:\n        try:\n\
          \            resp = send_to_human_in_the_loop(backend_url, conversation_uid,\
          \ item)\n            results.append({\n                \"type\": item[\"\
          type\"],\n                \"status_code\": resp.status_code,\n         \
          \       \"response_text\": resp.text\n            })\n        except Exception\
          \ as e:\n            results.append({\n                \"result\": \"parsed\
          \ error\"\n            })\n\n    # 4) å›å‚³æ‰€æœ‰å‘¼å«çµæœ\n    return {\n        \"\
          result\": \"API Success\"\n    }\n"
        code_language: python3
        desc: ''
        outputs:
          result:
            children: null
            type: string
        selected: false
        title: Interference UE Execute
        type: code
        variables:
        - value_selector:
          - env
          - N8N_ACTIVE_BASE_URL
          variable: n8n_url
        - value_selector:
          - env
          - Interference_UE_Execute_PATH
          variable: n8n_path
        - value_selector:
          - env
          - MITLAB_BACKEND
          variable: backend_url
        - value_selector:
          - conversation
          - conversation_uid
          variable: conversation_uid
      height: 52
      id: '17443724787310'
      position:
        x: -195.78128299351033
        y: -178.34871307113704
      positionAbsolute:
        x: -195.78128299351033
        y: -178.34871307113704
      selected: false
      sourcePosition: right
      targetPosition: left
      type: custom
      width: 242
    - data:
        author: test
        desc: ''
        height: 723
        selected: false
        showAuthor: true
        text: '{"root":{"children":[{"children":[{"detail":0,"format":0,"mode":"normal","style":"","text":"Overfitting","type":"text","version":1}],"direction":"ltr","format":"","indent":0,"type":"paragraph","version":1,"textFormat":0,"textStyle":""}],"direction":"ltr","format":"","indent":0,"type":"root","version":1}}'
        theme: blue
        title: ''
        type: ''
        width: 587
      height: 723
      id: '1744703182241'
      position:
        x: -318.388859860009
        y: -717.6952983003679
      positionAbsolute:
        x: -318.388859860009
        y: -717.6952983003679
      selected: false
      sourcePosition: right
      targetPosition: left
      type: custom-note
      width: 587
    - data:
        cases:
        - case_id: 'true'
          conditions:
          - comparison_operator: contains
            id: 0ef56352-bbc7-4598-a873-4a075c260960
            value: hi
            varType: string
            variable_selector:
            - sys
            - query
          - comparison_operator: contains
            id: 69336ed7-55a8-482e-b77c-8e3a2d53c0b8
            value: Hi
            varType: string
            variable_selector:
            - sys
            - query
          - comparison_operator: contains
            id: efd410e7-d1a1-4c0d-8f6f-eda5a88200b6
            value: HI
            varType: string
            variable_selector:
            - sys
            - query
          id: 'true'
          logical_operator: or
        desc: ''
        selected: false
        title: æ¢ä»¶åˆ†æ”¯ 5
        type: if-else
      height: 176
      id: '1744785597981'
      position:
        x: 735.5246313952741
        y: 445.6331139436679
      positionAbsolute:
        x: 735.5246313952741
        y: 445.6331139436679
      selected: false
      sourcePosition: right
      targetPosition: left
      type: custom
      width: 242
    - data:
        answer: ä½ å¥½ï¼Œæˆ‘æ˜¯SMOåŠ©ç†ï¼Œæ‚¨æä¾›çš„æ–‡æœ¬ä¸¦éæˆ‘å€‘å¯ä»¥è™•ç†å…§å®¹ï¼Œè«‹é‡æ–°è¼¸å…¥ã€‚
        desc: ''
        selected: false
        title: '[å›è¦†] Erroræ„åœ–è­˜åˆ¥éšæ®µ (1)'
        type: answer
        variables: []
      height: 132
      id: '17447856803140'
      position:
        x: 1043.5246313952734
        y: 619.6331139436677
      positionAbsolute:
        x: 1043.5246313952734
        y: 619.6331139436677
      selected: false
      sourcePosition: right
      targetPosition: left
      type: custom
      width: 242
    - data:
        authorization:
          config: null
          type: no-auth
        body:
          data:
          - id: key-value-7
            key: ''
            type: text
            value: "{\n    \"conversation_uid\": \"{{#conversation.conversation_uid#}}\"\
              ,\n    \"text_content\": [\n        {\n            \"type\": \"message\"\
              ,\n            \"content\": \"ä½ å¥½ï¼Œæˆ‘æ˜¯SMOåŠ©ç†ï¼Œæ‚¨æä¾›çš„æ–‡æœ¬ä¸¦éæˆ‘å€‘å¯ä»¥è™•ç†å…§å®¹ï¼Œè«‹é‡æ–°è¼¸å…¥ã€‚\"\n\
              \        }\n    ]\n}"
          type: raw-text
        desc: ''
        headers: ''
        method: post
        params: ''
        retry_config:
          max_retries: 3
          retry_enabled: false
          retry_interval: 100
        selected: false
        timeout:
          max_connect_timeout: 0
          max_read_timeout: 0
          max_write_timeout: 0
        title: '[å›è¦†] Erroræ„åœ–è­˜åˆ¥éšæ®µ (1)'
        type: http-request
        url: '{{#env.MITLAB_BACKEND#}}workflow_mgt/WorkflowManager/human_in_the_loop'
        variables: []
      height: 127
      id: '17447856854490'
      position:
        x: 1336.524631395273
        y: 624.6331139436677
      positionAbsolute:
        x: 1336.524631395273
        y: 624.6331139436677
      selected: false
      sourcePosition: right
      targetPosition: left
      type: custom
      width: 242
    viewport:
      x: 305.8520642634227
      y: 46.45625196306557
      zoom: 0.8312378961427858
