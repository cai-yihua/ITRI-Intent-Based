app:
  description: v2.0
  icon: ğŸ¤–
  icon_background: '#FFEAD5'
  mode: advanced-chat
  name: '[Demo] 20250528'
  use_icon_as_answer_icon: false
dependencies:
- current_identifier: null
  type: marketplace
  value:
    marketplace_plugin_unique_identifier: langgenius/openai:0.0.19@6b2b2e115b1b9d34a63eb26fadcc33d74330fd2ec06071bb30b8a24b1fab107a
kind: app
version: 0.1.5
workflow:
  conversation_variables:
  - description: jsonæ ¼å¼çš„å­—ä¸²
    id: 06ad3c5c-ea71-458b-940c-ece5e196a95d
    name: scenario_payload
    selector:
    - conversation
    - scenario_payload
    value: '{}'
    value_type: string
  - description: ''
    id: 743e3748-fc65-4dc4-82f6-f9f40a8739ad
    name: confirmation_prompt
    selector:
    - conversation
    - confirmation_prompt
    value: ''
    value_type: string
  - description: ''
    id: e486e7f0-3a39-42ca-845d-a5c220ad3680
    name: scenario_template
    selector:
    - conversation
    - scenario_template
    value: ''
    value_type: string
  - description: ''
    id: ba452efd-3daa-4f54-a5c2-1b6e7dc3e4da
    name: api_path
    selector:
    - conversation
    - api_path
    value: http://null/api/v1
    value_type: string
  - description: ''
    id: 801d88b9-e81f-4cdc-95cb-8bcfa3536dec
    name: is_completed
    selector:
    - conversation
    - is_completed
    value: 'false'
    value_type: string
  - description: ä½¿ç”¨è€…å‰›è©¢å•çš„ç‹€æ…‹
    id: 837b757b-c89c-4312-81a4-477d33296b64
    name: status
    selector:
    - conversation
    - status
    value: init
    value_type: string
  - description: ''
    id: 2dfeb785-9b24-42f0-9c8c-c041a7756c55
    name: conversation_uid
    selector:
    - conversation
    - conversation_uid
    value: ''
    value_type: string
  environment_variables:
  - description: ''
    id: 0cafe3ba-baf3-47e2-8189-d3e075df1d34
    name: Interference_UE_Execute_PATH
    selector:
    - env
    - Interference_UE_Execute_PATH
    value: 71279998-7aa1-4819-b2d6-3287b435fa5f
    value_type: string
  - description: ''
    id: 342203c4-3f69-47ba-91c0-87e2d6ff24d0
    name: Interference_UE_Predict_PATH
    selector:
    - env
    - Interference_UE_Predict_PATH
    value: d4f93f32-a552-41ae-a7d4-56e1907b41a5
    value_type: string
  - description: ''
    id: e6be9088-dfb7-49f8-9a66-d14ebaa82da4
    name: Query_UE_Throughput_PATH
    selector:
    - env
    - Query_UE_Throughput_PATH
    value: d9c7c32d-5147-4c09-8c20-0762307b1e3b
    value_type: string
  - description: ''
    id: 66e62211-c56f-463e-8b23-0a7dcef15e34
    name: SINR_PATH
    selector:
    - env
    - SINR_PATH
    value: 1f7d9e8a-ebe1-4cf0-93dc-d4b9f54ea3b1
    value_type: string
  - description: ''
    id: 6060580f-cbbd-4f6d-8158-deaf07342542
    name: MITLAB_BACKEND
    selector:
    - env
    - MITLAB_BACKEND
    value: http://172.24.20.17:30000/api/v1.0/
    value_type: string
  - description: ''
    id: df6b16f3-b5d7-4738-a409-8f58fd95c46d
    name: N8N_ACTIVE_BASE_URL
    selector:
    - env
    - N8N_ACTIVE_BASE_URL
    value: http://172.24.16.1:30000/webhook/
    value_type: string
  features:
    file_upload:
      allowed_file_extensions: []
      allowed_file_types:
      - video
      - audio
      - image
      - document
      allowed_file_upload_methods:
      - local_file
      - remote_url
      enabled: true
      fileUploadConfig:
        audio_file_size_limit: 50
        batch_count_limit: 5
        file_size_limit: 15
        image_file_size_limit: 10
        video_file_size_limit: 100
        workflow_file_upload_limit: 10
      image:
        enabled: false
        number_limits: 3
        transfer_methods:
        - local_file
        - remote_url
      number_limits: 1
    opening_statement: ä½ å¥½ï¼Œæˆ‘æ˜¯ITRI SMOè™›æ“¬åŠ©ç†
    retriever_resource:
      enabled: true
    sensitive_word_avoidance:
      enabled: false
    speech_to_text:
      enabled: false
    suggested_questions: []
    suggested_questions_after_answer:
      enabled: false
    text_to_speech:
      enabled: false
      language: ''
      voice: ''
  graph:
    edges:
    - data:
        isInIteration: false
        sourceType: llm
        targetType: if-else
      id: 1742448090528-source-1742448389805-target
      selected: false
      source: '1742448090528'
      sourceHandle: source
      target: '1742448389805'
      targetHandle: target
      type: custom
      zIndex: 0
    - data:
        isInIteration: false
        sourceType: if-else
        targetType: answer
      id: 1742448389805-false-1742442828989-target
      selected: false
      source: '1742448389805'
      sourceHandle: 'false'
      target: '1742442828989'
      targetHandle: target
      type: custom
      zIndex: 0
    - data:
        isInIteration: false
        sourceType: llm
        targetType: if-else
      id: 1742447067053-source-1742447332580-target
      selected: false
      source: '1742447067053'
      sourceHandle: source
      target: '1742447332580'
      targetHandle: target
      type: custom
      zIndex: 0
    - data:
        isInIteration: false
        sourceType: if-else
        targetType: llm
      id: 1742446926046-f84ddd9c-2ec2-4c9a-982f-dbf050004c96-1743501210955-target
      selected: false
      source: '1742446926046'
      sourceHandle: f84ddd9c-2ec2-4c9a-982f-dbf050004c96
      target: '1743501210955'
      targetHandle: target
      type: custom
      zIndex: 0
    - data:
        isInIteration: false
        sourceType: if-else
        targetType: llm
      id: 1742448389805-true-17435117558650-target
      selected: false
      source: '1742448389805'
      sourceHandle: 'true'
      target: '17435117558650'
      targetHandle: target
      type: custom
      zIndex: 0
    - data:
        isInIteration: false
        sourceType: llm
        targetType: answer
      id: 1743501210955-source-17435128925960-target
      selected: false
      source: '1743501210955'
      sourceHandle: source
      target: '17435128925960'
      targetHandle: target
      type: custom
      zIndex: 0
    - data:
        isInIteration: false
        sourceType: llm
        targetType: answer
      id: 17435117558650-source-17435131894560-target
      selected: false
      source: '17435117558650'
      sourceHandle: source
      target: '17435131894560'
      targetHandle: target
      type: custom
      zIndex: 0
    - data:
        isInIteration: false
        sourceType: if-else
        targetType: answer
      id: 1742447332580-false-17435146281790-target
      selected: false
      source: '1742447332580'
      sourceHandle: 'false'
      target: '17435146281790'
      targetHandle: target
      type: custom
      zIndex: 0
    - data:
        isInLoop: false
        sourceType: if-else
        targetType: if-else
      id: 1742446926046-false-1744785597981-target
      selected: false
      source: '1742446926046'
      sourceHandle: 'false'
      target: '1744785597981'
      targetHandle: target
      type: custom
      zIndex: 0
    - data:
        isInLoop: false
        sourceType: if-else
        targetType: answer
      id: 1744785597981-true-1742442730885-target
      selected: false
      source: '1744785597981'
      sourceHandle: 'true'
      target: '1742442730885'
      targetHandle: target
      type: custom
      zIndex: 0
    - data:
        isInLoop: false
        sourceType: if-else
        targetType: answer
      id: 1744785597981-false-17447856803140-target
      selected: false
      source: '1744785597981'
      sourceHandle: 'false'
      target: '17447856803140'
      targetHandle: target
      type: custom
      zIndex: 0
    - data:
        isInLoop: false
        sourceType: llm
        targetType: if-else
      id: 1747806238325-source-1742446926046-target
      selected: false
      source: '1747806238325'
      sourceHandle: source
      target: '1742446926046'
      targetHandle: target
      type: custom
      zIndex: 0
    - data:
        isInIteration: false
        isInLoop: false
        sourceType: llm
        targetType: if-else
      id: 1747810658255-source-1747810822495-target
      selected: false
      source: '1747810658255'
      sourceHandle: source
      target: '1747810822495'
      targetHandle: target
      type: custom
      zIndex: 0
    - data:
        isInIteration: false
        isInLoop: false
        sourceType: if-else
        targetType: llm
      id: 1747810822495-true-1747811265733-target
      selected: false
      source: '1747810822495'
      sourceHandle: 'true'
      target: '1747811265733'
      targetHandle: target
      type: custom
      zIndex: 0
    - data:
        isInIteration: false
        isInLoop: false
        sourceType: llm
        targetType: if-else
      id: 1747811265733-source-1747811441753-target
      selected: false
      source: '1747811265733'
      sourceHandle: source
      target: '1747811441753'
      targetHandle: target
      type: custom
      zIndex: 0
    - data:
        isInLoop: false
        sourceType: if-else
        targetType: llm
      id: 1747811441753-true-1747806238325-target
      selected: false
      source: '1747811441753'
      sourceHandle: 'true'
      target: '1747806238325'
      targetHandle: target
      type: custom
      zIndex: 0
    - data:
        isInIteration: false
        isInLoop: false
        sourceType: llm
        targetType: answer
      id: 1747811265733-source-1747811590429-target
      selected: false
      source: '1747811265733'
      sourceHandle: source
      target: '1747811590429'
      targetHandle: target
      type: custom
      zIndex: 0
    - data:
        isInLoop: false
        sourceType: if-else
        targetType: llm
      id: 1747810822495-a946eec2-6d24-45bb-a21f-93402f046df2-1747811265733-target
      selected: false
      source: '1747810822495'
      sourceHandle: a946eec2-6d24-45bb-a21f-93402f046df2
      target: '1747811265733'
      targetHandle: target
      type: custom
      zIndex: 0
    - data:
        isInLoop: false
        sourceType: if-else
        targetType: llm
      id: 1747810822495-14abe583-a4b8-4017-aa5b-d2a8f3dd3ccb-1747811265733-target
      selected: false
      source: '1747810822495'
      sourceHandle: 14abe583-a4b8-4017-aa5b-d2a8f3dd3ccb
      target: '1747811265733'
      targetHandle: target
      type: custom
      zIndex: 0
    - data:
        isInLoop: false
        sourceType: if-else
        targetType: llm
      id: 1747810822495-dc5dc520-ea0a-41ee-a69a-1472e0436c20-1747811265733-target
      selected: false
      source: '1747810822495'
      sourceHandle: dc5dc520-ea0a-41ee-a69a-1472e0436c20
      target: '1747811265733'
      targetHandle: target
      type: custom
      zIndex: 0
    - data:
        isInLoop: false
        sourceType: if-else
        targetType: llm
      id: 1747810822495-05f441c0-069f-4dad-99b4-7e266d83329b-1747811265733-target
      selected: false
      source: '1747810822495'
      sourceHandle: 05f441c0-069f-4dad-99b4-7e266d83329b
      target: '1747811265733'
      targetHandle: target
      type: custom
      zIndex: 0
    - data:
        isInLoop: false
        sourceType: if-else
        targetType: llm
      id: 1747811441753-a5093993-c497-4ded-838a-c49c51ce2dc3-1747806238325-target
      selected: false
      source: '1747811441753'
      sourceHandle: a5093993-c497-4ded-838a-c49c51ce2dc3
      target: '1747806238325'
      targetHandle: target
      type: custom
      zIndex: 0
    - data:
        isInLoop: false
        sourceType: if-else
        targetType: llm
      id: 1747811441753-38e9fd31-43a5-465e-903d-f6dc0abc7164-1747806238325-target
      selected: false
      source: '1747811441753'
      sourceHandle: 38e9fd31-43a5-465e-903d-f6dc0abc7164
      target: '1747806238325'
      targetHandle: target
      type: custom
      zIndex: 0
    - data:
        isInLoop: false
        sourceType: if-else
        targetType: llm
      id: 1747811441753-66af9874-1988-4863-8231-3359bea69bc2-1747806238325-target
      selected: false
      source: '1747811441753'
      sourceHandle: 66af9874-1988-4863-8231-3359bea69bc2
      target: '1747806238325'
      targetHandle: target
      type: custom
      zIndex: 0
    - data:
        isInLoop: false
        sourceType: if-else
        targetType: knowledge-retrieval
      id: 1742447332580-true-1742442861275-target
      selected: false
      source: '1742447332580'
      sourceHandle: 'true'
      target: '1742442861275'
      targetHandle: target
      type: custom
      zIndex: 0
    - data:
        isInLoop: false
        sourceType: if-else
        targetType: llm
      id: 1747829742913-true-1747810658255-target
      selected: false
      source: '1747829742913'
      sourceHandle: 'true'
      target: '1747810658255'
      targetHandle: target
      type: custom
      zIndex: 0
    - data:
        isInLoop: false
        sourceType: if-else
        targetType: assigner
      id: 1742447332580-true-1747830482885-target
      selected: false
      source: '1742447332580'
      sourceHandle: 'true'
      target: '1747830482885'
      targetHandle: target
      type: custom
      zIndex: 0
    - data:
        isInIteration: false
        isInLoop: false
        sourceType: knowledge-retrieval
        targetType: knowledge-retrieval
      id: 1742442861275-source-1747831616147-target
      selected: false
      source: '1742442861275'
      sourceHandle: source
      target: '1747831616147'
      targetHandle: target
      type: custom
      zIndex: 0
    - data:
        isInIteration: false
        isInLoop: false
        sourceType: code
        targetType: llm
      id: 1747831742018-source-1747832098636-target
      selected: false
      source: '1747831742018'
      sourceHandle: source
      target: '1747832098636'
      targetHandle: target
      type: custom
      zIndex: 0
    - data:
        isInIteration: false
        isInLoop: false
        sourceType: llm
        targetType: parameter-extractor
      id: 1747832098636-source-1747832329592-target
      selected: false
      source: '1747832098636'
      sourceHandle: source
      target: '1747832329592'
      targetHandle: target
      type: custom
      zIndex: 0
    - data:
        isInIteration: false
        isInLoop: false
        sourceType: parameter-extractor
        targetType: assigner
      id: 1747832329592-source-1747832920622-target
      selected: false
      source: '1747832329592'
      sourceHandle: source
      target: '1747832920622'
      targetHandle: target
      type: custom
      zIndex: 0
    - data:
        isInLoop: false
        sourceType: if-else
        targetType: code
      id: 1747829742913-989d8a40-210f-4f63-8bf4-1ca2261cd904-1747831742018-target
      selected: false
      source: '1747829742913'
      sourceHandle: 989d8a40-210f-4f63-8bf4-1ca2261cd904
      target: '1747831742018'
      targetHandle: target
      type: custom
      zIndex: 0
    - data:
        isInIteration: false
        isInLoop: false
        sourceType: assigner
        targetType: answer
      id: 1747832920622-source-1747833460007-target
      selected: false
      source: '1747832920622'
      sourceHandle: source
      target: '1747833460007'
      targetHandle: target
      type: custom
      zIndex: 0
    - data:
        isInLoop: false
        sourceType: start
        targetType: assigner
      id: 1742442590290-source-1743511206372-target
      selected: false
      source: '1742442590290'
      sourceHandle: source
      target: '1743511206372'
      targetHandle: target
      type: custom
      zIndex: 0
    - data:
        isInLoop: false
        sourceType: assigner
        targetType: if-else
      id: 1743511206372-source-1747829742913-target
      selected: false
      source: '1743511206372'
      sourceHandle: source
      target: '1747829742913'
      targetHandle: target
      type: custom
      zIndex: 0
    - data:
        isInLoop: false
        sourceType: answer
        targetType: http-request
      id: 1742442730885-source-17435132396410-target
      selected: false
      source: '1742442730885'
      sourceHandle: source
      target: '17435132396410'
      targetHandle: target
      type: custom
      zIndex: 0
    - data:
        isInLoop: false
        sourceType: answer
        targetType: http-request
      id: 17447856803140-source-17447856854490-target
      selected: false
      source: '17447856803140'
      sourceHandle: source
      target: '17447856854490'
      targetHandle: target
      type: custom
      zIndex: 0
    - data:
        isInLoop: false
        sourceType: answer
        targetType: http-request
      id: 17435128925960-source-1743509989605-target
      selected: false
      source: '17435128925960'
      sourceHandle: source
      target: '1743509989605'
      targetHandle: target
      type: custom
      zIndex: 0
    - data:
        isInLoop: false
        sourceType: http-request
        targetType: llm
      id: 1743509989605-source-1742448090528-target
      selected: false
      source: '1743509989605'
      sourceHandle: source
      target: '1742448090528'
      targetHandle: target
      type: custom
      zIndex: 0
    - data:
        isInLoop: false
        sourceType: answer
        targetType: http-request
      id: 17435131894560-source-17435117512250-target
      selected: false
      source: '17435131894560'
      sourceHandle: source
      target: '17435117512250'
      targetHandle: target
      type: custom
      zIndex: 0
    - data:
        isInLoop: false
        sourceType: http-request
        targetType: llm
      id: 17435117512250-source-1742447067053-target
      selected: false
      source: '17435117512250'
      sourceHandle: source
      target: '1742447067053'
      targetHandle: target
      type: custom
      zIndex: 0
    - data:
        isInLoop: false
        sourceType: answer
        targetType: http-request
      id: 1742442828989-source-17435138487230-target
      selected: false
      source: '1742442828989'
      sourceHandle: source
      target: '17435138487230'
      targetHandle: target
      type: custom
      zIndex: 0
    - data:
        isInLoop: false
        sourceType: answer
        targetType: http-request
      id: 17435146281790-source-17435146350620-target
      selected: false
      source: '17435146281790'
      sourceHandle: source
      target: '17435146350620'
      targetHandle: target
      type: custom
      zIndex: 0
    - data:
        isInIteration: false
        isInLoop: false
        sourceType: answer
        targetType: if-else
      id: 1747833460007-source-1747838949163-target
      selected: false
      source: '1747833460007'
      sourceHandle: source
      target: '1747838949163'
      targetHandle: target
      type: custom
      zIndex: 0
    - data:
        isInIteration: false
        isInLoop: false
        sourceType: if-else
        targetType: assigner
      id: 1747838949163-true-1747839031101-target
      selected: false
      source: '1747838949163'
      sourceHandle: 'true'
      target: '1747839031101'
      targetHandle: target
      type: custom
      zIndex: 0
    - data:
        isInLoop: false
        sourceType: if-else
        targetType: assigner
      id: 1747838949163-d7412361-4f82-459d-a25d-60104a990eb0-17478390872770-target
      selected: false
      source: '1747838949163'
      sourceHandle: d7412361-4f82-459d-a25d-60104a990eb0
      target: '17478390872770'
      targetHandle: target
      type: custom
      zIndex: 0
    - data:
        isInIteration: false
        isInLoop: false
        sourceType: knowledge-retrieval
        targetType: llm
      id: 1747831616147-source-1747984552657-target
      selected: false
      source: '1747831616147'
      sourceHandle: source
      target: '1747984552657'
      targetHandle: target
      type: custom
      zIndex: 0
    - data:
        isInLoop: false
        sourceType: llm
        targetType: http-request
      id: 1747984552657-source-17479843913150-target
      selected: false
      source: '1747984552657'
      sourceHandle: source
      target: '17479843913150'
      targetHandle: target
      type: custom
      zIndex: 0
    - data:
        isInLoop: false
        sourceType: http-request
        targetType: code
      id: 17479843913150-source-1747831742018-target
      selected: false
      source: '17479843913150'
      sourceHandle: source
      target: '1747831742018'
      targetHandle: target
      type: custom
      zIndex: 0
    - data:
        isInLoop: false
        sourceType: assigner
        targetType: code
      id: 17478390872770-source-1747987702090-target
      selected: false
      source: '17478390872770'
      sourceHandle: source
      target: '1747987702090'
      targetHandle: target
      type: custom
      zIndex: 0
    - data:
        isInIteration: false
        isInLoop: false
        sourceType: code
        targetType: parameter-extractor
      id: 1747987702090-source-1747988261914-target
      selected: false
      source: '1747987702090'
      sourceHandle: source
      target: '1747988261914'
      targetHandle: target
      type: custom
      zIndex: 0
    - data:
        isInLoop: false
        sourceType: http-request
        targetType: http-request
      id: 17479898049120-source-17479848446040-target
      selected: false
      source: '17479898049120'
      sourceHandle: source
      target: '17479848446040'
      targetHandle: target
      type: custom
      zIndex: 0
    - data:
        isInIteration: false
        isInLoop: false
        sourceType: if-else
        targetType: if-else
      id: 1747829742913-99d28b8b-cf84-4242-ad8a-b7e07772d6c4-1747990842053-target
      selected: false
      source: '1747829742913'
      sourceHandle: 99d28b8b-cf84-4242-ad8a-b7e07772d6c4
      target: '1747990842053'
      targetHandle: target
      type: custom
      zIndex: 0
    - data:
        isInLoop: false
        sourceType: if-else
        targetType: http-request
      id: 1747990842053-true-17479908826710-target
      selected: false
      source: '1747990842053'
      sourceHandle: 'true'
      target: '17479908826710'
      targetHandle: target
      type: custom
      zIndex: 0
    - data:
        isInLoop: false
        sourceType: http-request
        targetType: code
      id: 17479908826710-source-17478340188330-target
      selected: false
      source: '17479908826710'
      sourceHandle: source
      target: '17478340188330'
      targetHandle: target
      type: custom
      zIndex: 0
    - data:
        isInLoop: false
        sourceType: if-else
        targetType: http-request
      id: 1747990842053-89ba0132-a4ff-4c34-88ca-eafb768a1494-17479909154640-target
      selected: false
      source: '1747990842053'
      sourceHandle: 89ba0132-a4ff-4c34-88ca-eafb768a1494
      target: '17479909154640'
      targetHandle: target
      type: custom
      zIndex: 0
    - data:
        isInLoop: false
        sourceType: http-request
        targetType: http-request
      id: 17479912651100-source-17479906916690-target
      selected: false
      source: '17479912651100'
      sourceHandle: source
      target: '17479906916690'
      targetHandle: target
      type: custom
      zIndex: 0
    - data:
        isInLoop: false
        sourceType: parameter-extractor
        targetType: http-request
      id: 17479914772300-source-17479912651100-target
      selected: false
      source: '17479914772300'
      sourceHandle: source
      target: '17479912651100'
      targetHandle: target
      type: custom
      zIndex: 0
    - data:
        isInLoop: false
        sourceType: http-request
        targetType: code
      id: 17479912596970-source-17479914826570-target
      selected: false
      source: '17479912596970'
      sourceHandle: source
      target: '17479914826570'
      targetHandle: target
      type: custom
      zIndex: 0
    - data:
        isInLoop: false
        sourceType: code
        targetType: parameter-extractor
      id: 17479914826570-source-17479914772300-target
      selected: false
      source: '17479914826570'
      sourceHandle: source
      target: '17479914772300'
      targetHandle: target
      type: custom
      zIndex: 0
    - data:
        isInLoop: false
        sourceType: assigner
        targetType: http-request
      id: 1747839031101-source-17479924729840-target
      selected: false
      source: '1747839031101'
      sourceHandle: source
      target: '17479924729840'
      targetHandle: target
      type: custom
      zIndex: 0
    - data:
        isInLoop: false
        sourceType: http-request
        targetType: http-request
      id: 17479924729840-source-17479912596970-target
      selected: false
      source: '17479924729840'
      sourceHandle: source
      target: '17479912596970'
      targetHandle: target
      type: custom
      zIndex: 0
    - data:
        isInLoop: false
        sourceType: parameter-extractor
        targetType: http-request
      id: 1747988261914-source-17479925676070-target
      selected: false
      source: '1747988261914'
      sourceHandle: source
      target: '17479925676070'
      targetHandle: target
      type: custom
      zIndex: 0
    - data:
        isInLoop: false
        sourceType: http-request
        targetType: http-request
      id: 17479925676070-source-17479898049120-target
      selected: false
      source: '17479925676070'
      sourceHandle: source
      target: '17479898049120'
      targetHandle: target
      type: custom
      zIndex: 0
    - data:
        isInLoop: false
        sourceType: code
        targetType: assigner
      id: 17478340188330-source-17479931487170-target
      selected: false
      source: '17478340188330'
      sourceHandle: source
      target: '17479931487170'
      targetHandle: target
      type: custom
      zIndex: 0
    - data:
        isInLoop: false
        sourceType: http-request
        targetType: assigner
      id: 17479909154640-source-17479931487170-target
      source: '17479909154640'
      sourceHandle: source
      target: '17479931487170'
      targetHandle: target
      type: custom
      zIndex: 0
    - data:
        isInIteration: false
        isInLoop: false
        sourceType: answer
        targetType: code
      id: 1747811590429-source-1748431211528-target
      source: '1747811590429'
      sourceHandle: source
      target: '1748431211528'
      targetHandle: target
      type: custom
      zIndex: 0
    nodes:
    - data:
        desc: ''
        selected: false
        title: é–‹å§‹
        type: start
        variables:
        - label: conversation_uid
          max_length: 48
          options: []
          required: false
          type: text-input
          variable: conversation_uid
      height: 90
      id: '1742442590290'
      position:
        x: -3353.7374502637426
        y: -54
      positionAbsolute:
        x: -3353.7374502637426
        y: -54
      selected: false
      sourcePosition: right
      targetPosition: left
      type: custom
      width: 244
    - data:
        answer: ä½ å¥½ï¼Œæˆ‘æ˜¯SMOåŠ©ç†ï¼Œæ‚¨æä¾›çš„æ–‡æœ¬ä¸¦éæˆ‘å€‘å¯ä»¥è™•ç†å…§å®¹ï¼Œè«‹é‡æ–°è¼¸å…¥ã€‚
        desc: ''
        selected: false
        title: '[å›è¦†] Erroræ„åœ–è­˜åˆ¥éšæ®µ'
        type: answer
        variables: []
      height: 118
      id: '1742442730885'
      position:
        x: 1014.6013341457631
        y: 477.52588261991036
      positionAbsolute:
        x: 1014.6013341457631
        y: 477.52588261991036
      selected: false
      sourcePosition: right
      targetPosition: left
      type: custom
      width: 244
    - data:
        answer: '[ Warning ] ç›®å‰ç³»çµ±åƒ…æ”¯æ´å–®ä¸€æ„åœ–é¡å‹çš„æ“ä½œï¼Œè«‹é‡æ–°æè¿°æ‚¨çš„å–®ä¸€éœ€æ±‚'
        desc: ''
        selected: false
        title: '[å›è¦†] è¤‡é›œæ„åœ–éšæ®µ'
        type: answer
        variables: []
      height: 118
      id: '1742442828989'
      position:
        x: 2476.959105308413
        y: 470.45141161560025
      positionAbsolute:
        x: 2476.959105308413
        y: 470.45141161560025
      selected: false
      sourcePosition: right
      targetPosition: left
      type: custom
      width: 244
    - data:
        dataset_ids: []
        desc: ''
        multiple_retrieval_config:
          reranking_enable: true
          reranking_mode: weighted_score
          reranking_model:
            model: rerank-english-v2.0
            provider: langgenius/cohere/cohere
          score_threshold: null
          top_k: 1
          weights:
            keyword_setting:
              keyword_weight: 0
            vector_setting:
              embedding_model_name: text-embedding-3-small
              embedding_provider_name: langgenius/openai/openai
              vector_weight: 1
        query_variable_selector:
        - sys
        - query
        retrieval_mode: multiple
        selected: false
        title: '[RAG] æ„åœ–è³‡è¨Š'
        type: knowledge-retrieval
      height: 54
      id: '1742442861275'
      position:
        x: 3849.6610177716448
        y: 64.44723841624108
      positionAbsolute:
        x: 3849.6610177716448
        y: 64.44723841624108
      selected: false
      sourcePosition: right
      targetPosition: left
      type: custom
      width: 244
    - data:
        author: test
        desc: ''
        height: 598
        selected: false
        showAuthor: true
        text: '{"root":{"children":[{"children":[{"detail":0,"format":1,"mode":"normal","style":"font-size:
          16px;","text":"æ„åœ–è­˜åˆ¥éšæ®µ","type":"text","version":1}],"direction":"ltr","format":"left","indent":0,"type":"paragraph","version":1,"textFormat":1}],"direction":"ltr","format":"","indent":0,"type":"root","version":1}}'
        theme: blue
        title: ''
        type: ''
        width: 3117
      height: 598
      id: '1742442983144'
      position:
        x: 2.449444798709351
        y: 161.7411590976156
      positionAbsolute:
        x: 2.449444798709351
        y: 161.7411590976156
      selected: false
      sourcePosition: right
      targetPosition: left
      type: custom-note
      width: 3117
    - data:
        author: test
        desc: ''
        height: 726
        selected: false
        showAuthor: true
        text: '{"root":{"children":[{"children":[{"detail":0,"format":0,"mode":"normal","style":"","text":"æ„åœ–è™•ç†éšæ®µ","type":"text","version":1}],"direction":"ltr","format":"left","indent":0,"type":"paragraph","version":1,"textFormat":0}],"direction":"ltr","format":"","indent":0,"type":"root","version":1}}'
        theme: blue
        title: ' (1)'
        type: ''
        width: 1734
      height: 726
      id: '17424430040480'
      position:
        x: 3243.6618449226708
        y: -233.26816819075475
      positionAbsolute:
        x: 3243.6618449226708
        y: -233.26816819075475
      selected: false
      sourcePosition: right
      targetPosition: left
      type: custom-note
      width: 1734
    - data:
        author: test
        desc: ''
        height: 415
        selected: false
        showAuthor: true
        text: '{"root":{"children":[{"children":[{"detail":0,"format":0,"mode":"normal","style":"","text":"åƒæ•¸è£œå……éšæ®µ","type":"text","version":1}],"direction":"ltr","format":"left","indent":0,"type":"paragraph","version":1,"textFormat":0}],"direction":"ltr","format":"","indent":0,"type":"root","version":1}}'
        theme: blue
        title: '  (2)'
        type: ''
        width: 3796
      height: 415
      id: '17424431355940'
      position:
        x: 5344.168453624344
        y: -205.34628881428142
      positionAbsolute:
        x: 5344.168453624344
        y: -205.34628881428142
      selected: false
      sourcePosition: right
      targetPosition: left
      type: custom-note
      width: 3796
    - data:
        cases:
        - case_id: f84ddd9c-2ec2-4c9a-982f-dbf050004c96
          conditions:
          - comparison_operator: contains
            id: 2b9bc372-6143-4bb9-81d4-63963c848bd4
            value: 'TRUE'
            varType: string
            variable_selector:
            - '1747806238325'
            - text
          id: f84ddd9c-2ec2-4c9a-982f-dbf050004c96
          logical_operator: and
        desc: ''
        selected: false
        title: '[æ±ºç­–] ç¶²ç®¡SMOå…§å®¹åˆ†åˆ¥å™¨'
        type: if-else
      height: 126
      id: '1742446926046'
      position:
        x: 406.2471599541362
        y: 262
      positionAbsolute:
        x: 406.2471599541362
        y: 262
      selected: false
      sourcePosition: right
      targetPosition: left
      type: custom
      width: 244
    - data:
        context:
          enabled: false
          variable_selector: []
        desc: ''
        model:
          completion_params: {}
          mode: chat
          name: gpt-4.1
          provider: langgenius/openai/openai
        prompt_template:
        - id: 09ddf340-a502-4a03-89b5-b69469d3d650
          role: system
          text: "\U0001F539è§’è‰² (Role)\nä½ æ˜¯ä¸€å ã€Œç¶²ç®¡æ„åœ–åˆ†é¡å“¡ã€ï¼Œè² è²¬åˆ¤å®šä½¿ç”¨è€…æŒ‡ä»¤å±¬æ–¼å“ªä¸€å€‹æ—¢å®šæ„åœ–ï¼Œæˆ–åˆ¤ç‚º Noneã€‚\n\
            \n\U0001F539ä»»å‹™ (Task)\nå°å–®ä¸€ã€Œè¼¸å…¥æ–‡æœ¬ã€é€²è¡Œåˆ†é¡ï¼š\nå¾å››é …æ„åœ–ä¸­é¸å‡ºå”¯ä¸€æœ€ç¬¦åˆè€…ï¼›å¦‚å…¨ä¸ç¬¦åˆï¼Œå›å‚³ \"None\"\
            ã€‚\nè¼¸å‡ºå¿…é ˆåš´æ ¼éµå®ˆæŒ‡å®š JSONï¼Œä¸”ä¸å¾—æ·»åŠ ä»»ä½•é¡å¤–æ–‡å­—ã€‚\n\n\U0001F539æ¸¬è©¦ç‹€æ³å¤§é¡å®šç¾© (Test Category Definitions\
            \ = Intent Definitions)\n-æŸ¥çœ‹ UE çš„ååé‡\n é—œéµè¡Œç‚ºï¼éœ€æ±‚æè¿°ï¼šæŸ¥è©¢æˆ–ç¯©é¸ UE çš„é€£ç·šç‹€æ…‹ã€è¨Šè™Ÿå“è³ªã€ååé‡çµ±è¨ˆ\n\
            \ å…¸å‹é—œéµè©ï¼šUE throughputã€UE ç‹€æ…‹ã€UE é€Ÿç‡\n-æŸ¥è©¢ Cell è£¡é¢çš„ SINR ç†±åœ–\n é—œéµè¡Œç‚ºï¼éœ€æ±‚æè¿°ï¼šå–å¾—\
            \ Cell å…§ SINR æ•¸å€¼ã€åˆ†å¸ƒæˆ–è¦–è¦ºåŒ–ï¼ˆSINR Mapï¼Heat-mapï¼‰\n å…¸å‹é—œéµè©ï¼šSINR Mapã€ç†±åœ–ã€åˆ†å¸ƒåœ–\n-å¹²æ“¾æ¼”ç®—æ³•é æ¸¬\n\
            \ é—œéµè¡Œç‚ºï¼éœ€æ±‚æè¿°ï¼šä½¿ç”¨å¹²æ“¾æŠ‘åˆ¶ï¼å„ªåŒ–æ¼”ç®—æ³•é€²è¡Œé æ¸¬ã€è©•ä¼°æˆ–å»ºè­°\n å…¸å‹é—œéµè©ï¼šå¹²æ“¾é æ¸¬ã€æ¼”ç®—æ³•çµæœã€æ¨ä¼°\n-å¹²æ“¾æ¼”ç®—æ³•åŸ·è¡Œ\n é—œéµè¡Œç‚ºï¼éœ€æ±‚æè¿°ï¼šç›´æ¥åŸ·è¡Œå¹²æ“¾æŠ‘åˆ¶ï¼å„ªåŒ–æ¼”ç®—æ³•ï¼Œé€²è¡Œèª¿æ•´\n\
            \ å…¸å‹é—œéµè©ï¼šå•Ÿå‹•å¹²æ“¾æŠ‘åˆ¶ã€åŸ·è¡Œæ¼”ç®—æ³•\n\n\U0001F539æŒ‡å°åŸå‰‡ (Classification Guidelines for\
            \ Ensuring Mutual Exclusivity)\nå–®ä¸€æœ€ä½³åŒ¹é…ï¼šè‹¥æ–‡æœ¬åŒæ™‚æåŠå¤šé …æ„åœ–ï¼Œä¾ã€Œæœ€ä¸»è¦å¯åŸ·è¡Œè¡Œå‹•ã€é¸æ“‡å”¯ä¸€åˆ†é¡ã€‚\n\
            å‹•è©å°å‘ï¼šå…ˆé–å®šå‹•ä½œå‹•è©ï¼ˆæŸ¥è©¢ï¼é¡¯ç¤ºï¼é æ¸¬ï¼åŸ·è¡Œç­‰ï¼‰ï¼Œå†æ¯”å°åè©ï¼ˆUEã€SINR ç­‰ï¼‰ã€‚\nèªå¢ƒå„ªå…ˆï¼šåƒ…å‡ºç¾é—œéµè©ä½†ç¼ºä¹å°æ‡‰è¡Œç‚ºèªå¢ƒæ™‚ï¼Œä¸æ‡‰å¼·è¡Œæ­¸é¡ã€‚\n\
            æ’é™¤æ¢ä»¶ï¼šè‹¥å®Œå…¨ç„¡æ³•å°æ‡‰å››é¡æ„åœ–ï¼Œå‰‡æ¨™ç‚º \"None\"ã€‚\n\n\U0001F539æ€è·¯æ­¥é©Ÿ (Thinking Steps â€” åƒ…å…§éƒ¨æ€è€ƒï¼Œå‹¿è¼¸å‡º)\n\
            å‹•ä½œèˆ‡å°è±¡æŠ½å–ï¼šæ“·å–å‹•è©ï¼‹å®¢é«”ï¼ˆä¾‹å¦‚ã€ŒæŸ¥è©¢ UE ååé‡ã€ï¼‰ã€‚\næ¯”å°å®šç¾©ï¼šå°‡æŠ½å–çµæœèˆ‡å››é¡æ„åœ–é—œéµè¡Œç‚ºï¼é—œéµè©å°ç…§ã€‚\næ±ºå®šå”¯ä¸€æ„åœ–ï¼šè‹¥å¤šé‡åŒ¹é…ï¼Œé¸æ“‡ã€Œæœ€æ ¸å¿ƒä¸”å¯ç›´æ¥åŸ·è¡Œã€è€…ã€‚\n\
            ç”ŸæˆåŸå› ï¼šç”¨ç°¡æ½”ç‰‡èªèªªæ˜é—œéµå‹•è©ï¼åè©å¦‚ä½•æ”¯æŒæ­¤åˆ†é¡ã€‚\n\n\U0001F539è¼¸å…¥ (Input)\n{{#sys.query#}}\n\
            \n\n\U0001F539æœŸæœ›è¼¸å‡º (Output Format)\nåš´æ ¼åƒ…å›å‚³ä¸‹åˆ—å…¶ä¸­ä¸€ç¨® JSONï¼Œä¸å¾—å¤¾å¸¶è§£é‡‹æ–‡å­—æˆ–æ›è¡Œå¤–å…§å®¹ã€‚\n\
            è‹¥ç¬¦åˆå››å¤§æ„åœ–å…¶ä¸€\n{\n  \"intent\": \"<æ„åœ–åç¨±>\",\n  \"reason\": \"<æ­¸é¡ä¾æ“šï¼Œä¾‹å¦‚ï¼šåŒ…å«ã€æŸ¥è©¢\
            \ UE ååé‡ã€å­—æ¨£>\"\n}\n\nè‹¥å…¨ä¸ç¬¦åˆ\n{\n  \"intent\": \"None\",\n  \"reason\":\
            \ \"<èªªæ˜ç‚ºä½•ç„¡æ³•å°æ‡‰å››å¤§æ„åœ–>\"\n}\n\n\nâ–¶ï¸ ç¾åœ¨é–‹å§‹ï¼šè«‹ä¾ä¸Šè¿°è¦ç¯„åˆ¤å®šã€Œè¼¸å…¥æ–‡æœ¬ã€ä¸¦è¼¸å‡º JSONã€‚"
        selected: false
        title: '[LLM è™•ç†] æ–‡æœ¬è½‰å–®ä¸€æ„åœ–å™¨'
        type: llm
        variables: []
        vision:
          enabled: false
      height: 90
      id: '1742447067053'
      position:
        x: 3243.6618449226708
        y: 224.5194643120497
      positionAbsolute:
        x: 3243.6618449226708
        y: 224.5194643120497
      selected: false
      sourcePosition: right
      targetPosition: left
      type: custom
      width: 244
    - data:
        cases:
        - case_id: 'true'
          conditions:
          - comparison_operator: not contains
            id: bf0d6b33-24ef-423f-9ba1-50fbe2f5191b
            value: NONE
            varType: string
            variable_selector:
            - '1742447067053'
            - text
          id: 'true'
          logical_operator: and
        desc: ''
        selected: false
        title: '[æ±ºç­–] å–®ä¸€æ„åœ–æå–å™¨'
        type: if-else
      height: 126
      id: '1742447332580'
      position:
        x: 3529.9289232963324
        y: 224.5194643120497
      positionAbsolute:
        x: 3529.9289232963324
        y: 224.5194643120497
      selected: false
      sourcePosition: right
      targetPosition: left
      type: custom
      width: 244
    - data:
        context:
          enabled: false
          variable_selector: []
        desc: ''
        model:
          completion_params:
            temperature: 0.7
          mode: chat
          name: gpt-4o-mini
          provider: langgenius/openai/openai
        prompt_template:
        - id: 60043e91-9fda-43bc-941a-8d0e748d9b53
          role: system
          text: "\U0001F539è§’è‰² (Role)\nä½ æ˜¯ä¸€å ã€Œæ„åœ–æ•¸é‡æª¢æ¸¬å“¡ã€ã€‚ä½ çš„å°ˆé•·æ˜¯è¿…é€Ÿã€æº–ç¢ºåœ°åˆ¤æ–·ä¸€æ®µæ–‡å­—æ˜¯å¦åƒ…å« å–®ä¸€æ ¸å¿ƒæ„åœ–ï¼Œæˆ–åŒæ™‚è˜Šå«\
            \ å¤šå€‹ç¨ç«‹æ„åœ–ã€‚\n\n\U0001F539ä»»å‹™ (Task)\nè®€å–ã€Œå¾…åˆ¤æ–·æ–‡æœ¬ã€ï¼Œä¾ä¸‹åˆ—äºŒå…ƒè¦å‰‡è¼¸å‡ºçµæœï¼š\nintent å€¼å®šç¾©\n\
            single_intent\næ–‡å­—åªè¦æ±‚ ä¸€å€‹ å¯åŸ·è¡Œçš„æ ¸å¿ƒè¡Œå‹•æˆ–è©¢å•ï¼Œå…¶ä»–å…§å®¹åƒ…ç‚ºè¼”åŠ©èªªæ˜ã€‚\nmulti_intent\næ–‡å­—åŒæ™‚åŒ…å«\
            \ å…©å€‹ä»¥ä¸Š å½¼æ­¤ç¨ç«‹ã€å¯åˆ†é–‹åŸ·è¡Œçš„æ ¸å¿ƒè¡Œå‹•æˆ–è©¢å•ã€‚\n\n\U0001F539æ¸¬è©¦ç‹€æ³å¤§é¡å®šç¾© (Test Category Definitions)\n\
            é¡åˆ¥é—œéµç‰¹å¾µç¯„ä¾‹\nå–®ä¸€æ„åœ– (Single Intent)\nâ€¢ åªæœ‰ä¸€é …æ˜ç¢ºè«‹æ±‚æˆ–æŒ‡ä»¤\nâ€¢ å¯èƒ½é™„å¸¶å¤šå€‹æ¢ä»¶ï¼åƒæ•¸ï¼Œä½†ä¸å½±éŸ¿ã€Œåªæœ‰ä¸€ä»¶äº‹è¦åšã€çš„æœ¬è³ª\n\
            ã€Œå¹«æˆ‘æŸ¥ä¸€ä¸‹ 51 é¤¨çš„ UE ç‹€æ…‹ã€\nã€Œè«‹æŠŠç›®æ¨™ SINR è¨­å®šç‚º â€“3 dBã€\nã€Œæˆ‘å¸Œæœ› ITRI 51 é¤¨ 5 æ¨“å¹²æ“¾æŠ‘åˆ¶æ¼”ç®—æ³•å•Ÿå‹•æ™‚ï¼ŒCell\
            \ Center UEs çš„æµé‡è‡³å°‘è¦ç¶­æŒ 75%ã€\nå¤šé‡æ„åœ– (Multiple Intents)\nâ€¢ åŒå¥æˆ–å¤šå¥ä¸­å‡ºç¾å…©ä»¶ï¼ˆå«ï¼‰ä»¥ä¸Šç¨ç«‹è¡Œå‹•\n\
            â€¢ æ¢ä»¶å¥å°å‘ä¸åŒå¾ŒçºŒå‹•ä½œï¼Œæˆ–è¦æ±‚ä¸¦è¡Œè™•ç†å¤šä»¶äº‹\nã€Œå…ˆé¡¯ç¤º SINR Mapï¼Œå†åŒ¯å‡º CSVã€\nã€Œå¦‚æœ SINR ä½æ–¼ â€“5 dB å°±é‡å•ŸåŸºç«™ï¼Œå¦å‰‡å›å ±ç‹€æ…‹ã€\n\
            \n\U0001F539æŒ‡å°åŸå‰‡ (Classification Guidelines for Ensuring Mutual Exclusivity)\n\
            å‹•è©ç²’åº¦ï¼šä»¥ã€Œå¯è¢«å–®ç¨ä¸‹é”ä¸¦åŸ·è¡Œã€çš„å‹•ä½œç‚ºåˆ¤å®šå–®ä½ã€‚\næ¢ä»¶â‰ å¤šæ„åœ–ï¼šè‹¥æ¢ä»¶åƒ…é™åˆ¶åŒä¸€å‹•ä½œçš„è§¸ç™¼æ™‚æ©Ÿ/åƒæ•¸ï¼Œä»å±¬å–®ä¸€æ„åœ–ã€‚\nAND / THEN\
            \ / ALSO è§¸ç™¼è­¦ç¤ºï¼šåŒå¥å‡ºç¾å¤šå€‹ä¸¦åˆ—æˆ–é€£çºŒå‹•ä½œï¼Œå‚¾å‘å¤šæ„åœ–ã€‚\næ’ä»–æ€§ï¼šæ¯æ®µæ–‡æœ¬åªèƒ½æ¨™è¨˜ç‚º single_intent æˆ– multi_intent\
            \ å…¶ä¸­ä¹‹ä¸€ã€‚\n\n\U0001F539æ€è·¯æ­¥é©Ÿ (Thinking Steps â€” åƒ…å…§éƒ¨æ€è€ƒï¼Œå‹¿è¼¸å‡º)\nå‹•ä½œæå–ï¼šæƒæå‹•è©èˆ‡å‹•ä½œçŸ­èªï¼ˆå¦‚ã€ŒæŸ¥è©¢ã€ã€Œé¡¯ç¤ºã€ã€ŒåŒ¯å‡ºã€ï¼‰ã€‚\n\
            èšåˆæ¯”å°ï¼šåˆä½µåŒç¾©æˆ–åƒ…åƒæ•¸å·®ç•°çš„å‹•ä½œã€‚\næ•¸é‡åˆ¤å®šï¼š\nè‹¥æœ€çµ‚æ ¸å¿ƒå‹•ä½œ = 1 â†’ single_intent\nè‹¥ â‰¥ 2 â†’ multi_intent\n\
            ç”ŸæˆåŸå› ï¼šåˆ—èˆ‰é—œéµå‹•ä½œè©ï¼Œæˆ–èªªæ˜ç‚ºä½•åªæœ‰ï¼è¶…éä¸€å€‹æ„åœ–ã€‚\n\n\U0001F539è¼¸å…¥ (Input)\n{{#sys.query#}}\n\
            \n\n\U0001F539æœŸæœ›è¼¸å‡º (Output Format)\nåƒ…è¼¸å‡ºä»¥ä¸‹ JSONï¼Œä¸å¾—æ–°å¢ä»»ä½•èªªæ˜æ–‡å­—ï¼š\n{\n  \"intent\"\
            : \"single_intent\",\n  \"reason\": \"èªªæ˜ç‚ºä½•åˆ¤å®šåƒ…æœ‰ä¸€å€‹æ ¸å¿ƒæ„åœ–ï¼Œåˆ—èˆ‰é—œéµå‹•ä½œè©\"\n}\n\n\
            æˆ–\n{\n  \"intent\": \"multi_intent\",\n  \"reason\": \"èªªæ˜ç‚ºä½•åˆ¤å®šå­˜åœ¨å¤šå€‹æ ¸å¿ƒæ„åœ–ï¼Œåˆ—èˆ‰å„è‡ªçš„é—œéµå‹•ä½œè©\"\
            \n}\n\n\nâ–¶ï¸ ç¾åœ¨é–‹å§‹åˆ¤æ–·ã€Œå¾…åˆ¤æ–·æ–‡æœ¬ã€ä¸¦è¼¸å‡º JSONã€‚"
        selected: false
        title: '[LLM è™•ç†] å–®ä¸€æ„åœ–è¾¨è­˜å™¨'
        type: llm
        variables: []
        vision:
          enabled: false
      height: 90
      id: '1742448090528'
      position:
        x: 1581.826896483987
        y: 262
      positionAbsolute:
        x: 1581.826896483987
        y: 262
      selected: false
      sourcePosition: right
      targetPosition: left
      type: custom
      width: 244
    - data:
        cases:
        - case_id: 'true'
          conditions:
          - comparison_operator: contains
            id: 581b06eb-cb6f-4bfb-a796-b26475c573e1
            value: single_intent
            varType: string
            variable_selector:
            - '1742448090528'
            - text
          id: 'true'
          logical_operator: and
        desc: ''
        selected: false
        title: '[æ±ºç­–] å–®ä¸€æ„åœ–æ±ºç­–'
        type: if-else
      height: 126
      id: '1742448389805'
      position:
        x: 1864.46040477732
        y: 262
      positionAbsolute:
        x: 1864.46040477732
        y: 262
      selected: false
      sourcePosition: right
      targetPosition: left
      type: custom
      width: 244
    - data:
        context:
          enabled: false
          variable_selector: []
        desc: ''
        model:
          completion_params:
            temperature: 0.7
          mode: chat
          name: gpt-4o-mini
          provider: langgenius/openai/openai
        prompt_template:
        - id: f43cc2ef-8d3b-4e5d-838b-425975a4664e
          role: system
          text: 'è«‹æ ¹æ“šä¸‹åˆ—è³‡è¨Šï¼Œä»¥ä¸€å¥è©±å›è¦†ä½¿ç”¨è€…ã€‚è«‹åœ¨å¥å­é–‹é ­åŠ ä¸Šã€Œ[ Info ]ã€ã€‚

            æƒ…å¢ƒï¼šä½ ç¾åœ¨æ˜¯ SMO ç¶²ç®¡æ„åœ–çš„åˆ¤åˆ¥å™¨ï¼Œè«‹æ ¹æ“šä¸‹æ–¹çš„ä½¿ç”¨è€…å•é¡ŒåŠå…ˆå‰çš„çµæœå›è¦†ï¼Œçµ„ç¹”ä¸€å¥è©±é€²è¡Œå›æ‡‰ã€‚


            ä½¿ç”¨è€…çš„å•é¡Œï¼š

            {{#sys.query#}}


            å…ˆå‰çš„çµæœå›è¦†ï¼š

            {{#1747806238325.text#}}

            '
        selected: false
        title: '[LLM å›è¦†] ç¶²ç®¡SMOå…§å®¹åˆ†åˆ¥å™¨'
        type: llm
        variables: []
        vision:
          enabled: false
      height: 90
      id: '1743501210955'
      position:
        x: 735.5246313952741
        y: 256.7219683569084
      positionAbsolute:
        x: 735.5246313952741
        y: 256.7219683569084
      selected: false
      sourcePosition: right
      targetPosition: left
      type: custom
      width: 244
    - data:
        authorization:
          config: null
          type: no-auth
        body:
          data:
          - id: key-value-4
            key: ''
            type: text
            value: "{\n  \"conversation_uid\": \"{{#conversation.conversation_uid#}}\"\
              ,\n  \"text_content\": [\n    {\n      \"type\": \"message\",\n    \
              \  \"content\": \"{{#1743501210955.text#}}\"\n    }\n  ]\n}"
          type: raw-text
        desc: ''
        headers: ''
        method: post
        params: ''
        retry_config:
          max_retries: 1
          retry_enabled: false
          retry_interval: 100
        selected: false
        timeout:
          max_connect_timeout: 0
          max_read_timeout: 0
          max_write_timeout: 0
        title: '[å›è¦†] ç¶²ç®¡SMOå…§å®¹åˆ†åˆ¥å™¨'
        type: http-request
        url: '{{#env.MITLAB_BACKEND#}}workflow_mgt/WorkflowManager/human_in_the_loop'
        variables: []
      height: 129
      id: '1743509989605'
      position:
        x: 1290.400918146286
        y: 262
      positionAbsolute:
        x: 1290.400918146286
        y: 262
      selected: false
      sourcePosition: right
      targetPosition: left
      type: custom
      width: 244
    - data:
        desc: ''
        items:
        - input_type: variable
          operation: over-write
          value:
          - '1742442590290'
          - conversation_uid
          variable_selector:
          - conversation
          - conversation_uid
          write_mode: over-write
        selected: false
        title: å„²å­˜conversation_uid
        type: assigner
        version: '2'
      height: 88
      id: '1743511206372'
      position:
        x: -2465.7779480214044
        y: -54
      positionAbsolute:
        x: -2465.7779480214044
        y: -54
      selected: false
      sourcePosition: right
      targetPosition: left
      type: custom
      width: 244
    - data:
        author: test
        desc: ''
        height: 482
        selected: false
        showAuthor: true
        text: '{"root":{"children":[{"children":[{"detail":0,"format":1,"mode":"normal","style":"font-size:
          16px;","text":"ç¢ºå®šèŠå¤©UID","type":"text","version":1}],"direction":"ltr","format":"","indent":0,"type":"paragraph","version":1,"textFormat":1}],"direction":"ltr","format":"","indent":0,"type":"root","version":1}}'
        theme: blue
        title: ''
        type: ''
        width: 639
      height: 482
      id: '1743511256837'
      position:
        x: -2660.17324807174
        y: -249.92663875555468
      positionAbsolute:
        x: -2660.17324807174
        y: -249.92663875555468
      selected: false
      sourcePosition: right
      targetPosition: left
      type: custom-note
      width: 639
    - data:
        authorization:
          config: null
          type: no-auth
        body:
          data:
          - id: key-value-5
            key: ''
            type: text
            value: "{\n  \"conversation_uid\": \"{{#conversation.conversation_uid#}}\"\
              ,\n  \"text_content\": [\n    {\n      \"type\": \"message\",\n    \
              \  \"content\": \"{{#17435117558650.text#}}\"\n    }\n  ]\n}"
          type: raw-text
        desc: ''
        headers: ''
        method: post
        params: ''
        retry_config:
          max_retries: 3
          retry_enabled: false
          retry_interval: 100
        selected: false
        timeout:
          max_connect_timeout: 0
          max_read_timeout: 0
          max_write_timeout: 0
        title: '[å›è¦†] å–®ä¸€æ„åœ–è¾¨è­˜å™¨'
        type: http-request
        url: '{{#env.MITLAB_BACKEND#}}workflow_mgt/WorkflowManager/human_in_the_loop'
        variables: []
      height: 129
      id: '17435117512250'
      position:
        x: 2812.209706274428
        y: 224.5194643120497
      positionAbsolute:
        x: 2812.209706274428
        y: 224.5194643120497
      selected: false
      sourcePosition: right
      targetPosition: left
      type: custom
      width: 244
    - data:
        context:
          enabled: false
          variable_selector: []
        desc: ''
        model:
          completion_params:
            temperature: 0.7
          mode: chat
          name: gpt-4o-mini
          provider: langgenius/openai/openai
        prompt_template:
        - id: f43cc2ef-8d3b-4e5d-838b-425975a4664e
          role: system
          text: 'è«‹æ ¹æ“šä»¥ä¸‹è³‡è¨Šï¼Œä»¥ä¸€å¥è©±å›è¦†ä½¿ç”¨è€…ï¼Œä¸¦åœ¨å¥é¦–åŠ ä¸Šã€Œ[ Info ]ã€ã€‚

            æƒ…å¢ƒï¼šä½ æ˜¯ä¸€å€‹ SMO ç¶²ç®¡æ„åœ–çš„åˆ¤åˆ¥å™¨ï¼Œè² è²¬è§£é‡‹ä½¿ç”¨è€…éœ€æ±‚æ˜¯å¦å±¬æ–¼å–®ä¸€æ„åœ–ã€‚

            è«‹æ•´åˆä½¿ç”¨è€…å•é¡Œèˆ‡å…ˆå‰çš„çµæœå›è¦†ï¼Œçµ„ç¹”å‡ºä¸€å¥è©±ç­”è¦†ã€‚


            ä½¿ç”¨è€…çš„å•é¡Œï¼š

            {{#sys.query#}}


            å…ˆå‰çš„çµæœå›è¦†ï¼š

            {{#1742448090528.text#}}'
        selected: false
        title: '[LLM å›è¦†] å–®ä¸€æ„åœ–è¾¨è­˜å™¨'
        type: llm
        variables: []
        vision:
          enabled: false
      height: 90
      id: '17435117558650'
      position:
        x: 2167.246725870651
        y: 224.5194643120497
      positionAbsolute:
        x: 2167.246725870651
        y: 224.5194643120497
      selected: false
      sourcePosition: right
      targetPosition: left
      type: custom
      width: 244
    - data:
        answer: '{{#1743501210955.text#}}'
        desc: ''
        selected: false
        title: '[å›è¦†] ç¶²ç®¡SMOå…§å®¹åˆ†åˆ¥å™¨'
        type: answer
        variables: []
      height: 105
      id: '17435128925960'
      position:
        x: 1014.6013341457631
        y: 256.7219683569084
      positionAbsolute:
        x: 1014.6013341457631
        y: 256.7219683569084
      selected: false
      sourcePosition: right
      targetPosition: left
      type: custom
      width: 244
    - data:
        answer: '{{#17435117558650.text#}}'
        desc: ''
        selected: false
        title: '[å›è¦†] å–®ä¸€æ„åœ–è¾¨è­˜å™¨'
        type: answer
        variables: []
      height: 105
      id: '17435131894560'
      position:
        x: 2486.0199611249927
        y: 224.5194643120497
      positionAbsolute:
        x: 2486.0199611249927
        y: 224.5194643120497
      selected: false
      sourcePosition: right
      targetPosition: left
      type: custom
      width: 244
    - data:
        authorization:
          config: null
          type: no-auth
        body:
          data:
          - id: key-value-7
            key: ''
            type: text
            value: "{\n    \"conversation_uid\": \"{{#conversation.conversation_uid#}}\"\
              ,\n    \"text_content\": [\n        {\n            \"type\": \"message\"\
              ,\n            \"content\": \"ä½ å¥½ï¼Œæˆ‘æ˜¯SMOåŠ©ç†ï¼Œå¸Œæœ›æˆ‘ç‚ºä½ åšä»€éº¼å—ï¼Ÿ\"\n        }\n \
              \   ]\n}"
          type: raw-text
        desc: ''
        headers: ''
        method: post
        params: ''
        retry_config:
          max_retries: 3
          retry_enabled: false
          retry_interval: 100
        selected: false
        timeout:
          max_connect_timeout: 0
          max_read_timeout: 0
          max_write_timeout: 0
        title: '[å›è¦†] Erroræ„åœ–è­˜åˆ¥éšæ®µ'
        type: http-request
        url: '{{#env.MITLAB_BACKEND#}}workflow_mgt/WorkflowManager/human_in_the_loop'
        variables: []
      height: 129
      id: '17435132396410'
      position:
        x: 1339.2473170799228
        y: 477.52588261991036
      positionAbsolute:
        x: 1339.2473170799228
        y: 477.52588261991036
      selected: false
      sourcePosition: right
      targetPosition: left
      type: custom
      width: 244
    - data:
        authorization:
          config: null
          type: no-auth
        body:
          data:
          - id: key-value-6
            key: ''
            type: text
            value: "{\n  \"conversation_uid\": \"{{#conversation.conversation_uid#}}\"\
              ,\n  \"text_content\": [\n    {\n      \"type\": \"message\",\n    \
              \  \"content\": \"[ Warning ] ç›®å‰ç³»çµ±åƒ…æ”¯æ´å–®ä¸€æ„åœ–é¡å‹çš„æ“ä½œï¼Œè«‹é‡æ–°æè¿°æ‚¨çš„å–®ä¸€éœ€æ±‚ã€‚\"\n    }\n\
              \  ]\n}"
          type: raw-text
        desc: ''
        headers: ''
        method: post
        params: ''
        retry_config:
          max_retries: 3
          retry_enabled: false
          retry_interval: 100
        selected: false
        timeout:
          max_connect_timeout: 0
          max_read_timeout: 0
          max_write_timeout: 0
        title: '[å›è¦†] è¤‡é›œæ„åœ–éšæ®µ'
        type: http-request
        url: '{{#env.MITLAB_BACKEND#}}workflow_mgt/WorkflowManager/human_in_the_loop'
        variables: []
      height: 129
      id: '17435138487230'
      position:
        x: 2812.209706274428
        y: 470.45141161560025
      positionAbsolute:
        x: 2812.209706274428
        y: 470.45141161560025
      selected: false
      sourcePosition: right
      targetPosition: left
      type: custom
      width: 244
    - data:
        answer: '[ Error ] ç„¡æ³•å°æ‡‰åˆ°ä»»ä½•å·²æä¾›çš„æ„åœ–'
        desc: ''
        selected: false
        title: '[å›è¦†] Erroræ–‡æœ¬è½‰å–®ä¸€æ„åœ–å™¨'
        type: answer
        variables: []
      height: 102
      id: '17435146281790'
      position:
        x: 3891.2649175225115
        y: 370.9791896542712
      positionAbsolute:
        x: 3891.2649175225115
        y: 370.9791896542712
      selected: false
      sourcePosition: right
      targetPosition: left
      type: custom
      width: 244
    - data:
        authorization:
          config: null
          type: no-auth
        body:
          data:
          - id: key-value-9
            key: ''
            type: text
            value: "{\n    \"conversation_uid\": \"{{#conversation.conversation_uid#}}\"\
              ,\n    \"text_content\": [\n        {\n            \"type\": \"message\"\
              ,\n            \"content\": \"[ Error ] ç„¡æ³•å°æ‡‰åˆ°ä»»ä½•å·²æä¾›çš„æ„åœ–\"\n        }\n\
              \    ]\n}"
          type: raw-text
        desc: ''
        headers: ''
        method: post
        params: ''
        retry_config:
          max_retries: 3
          retry_enabled: false
          retry_interval: 100
        selected: false
        timeout:
          max_connect_timeout: 0
          max_read_timeout: 0
          max_write_timeout: 0
        title: '[å›è¦†] Erroræ–‡æœ¬è½‰å–®ä¸€æ„åœ–å™¨'
        type: http-request
        url: '{{#env.MITLAB_BACKEND#}}workflow_mgt/WorkflowManager/human_in_the_loop'
        variables: []
      height: 129
      id: '17435146350620'
      position:
        x: 4215.662334841373
        y: 370.9791896542712
      positionAbsolute:
        x: 4215.662334841373
        y: 370.9791896542712
      selected: false
      sourcePosition: right
      targetPosition: left
      type: custom
      width: 244
    - data:
        cases:
        - case_id: 'true'
          conditions:
          - comparison_operator: contains
            id: 0ef56352-bbc7-4598-a873-4a075c260960
            value: hi
            varType: string
            variable_selector:
            - sys
            - query
          - comparison_operator: contains
            id: 69336ed7-55a8-482e-b77c-8e3a2d53c0b8
            value: Hi
            varType: string
            variable_selector:
            - sys
            - query
          - comparison_operator: contains
            id: efd410e7-d1a1-4c0d-8f6f-eda5a88200b6
            value: HI
            varType: string
            variable_selector:
            - sys
            - query
          id: 'true'
          logical_operator: or
        desc: ''
        selected: false
        title: æ¢ä»¶åˆ†æ”¯ 5
        type: if-else
      height: 178
      id: '1744785597981'
      position:
        x: 735.5246313952741
        y: 445.6331139436679
      positionAbsolute:
        x: 735.5246313952741
        y: 445.6331139436679
      selected: false
      sourcePosition: right
      targetPosition: left
      type: custom
      width: 244
    - data:
        answer: ä½ å¥½ï¼Œæˆ‘æ˜¯SMOåŠ©ç†ï¼Œæ‚¨æä¾›çš„æ–‡æœ¬ä¸¦éæˆ‘å€‘å¯ä»¥è™•ç†å…§å®¹ï¼Œè«‹é‡æ–°è¼¸å…¥ã€‚
        desc: ''
        selected: false
        title: '[å›è¦†] Erroræ„åœ–è­˜åˆ¥éšæ®µ (1)'
        type: answer
        variables: []
      height: 118
      id: '17447856803140'
      position:
        x: 1014.6013341457631
        y: 607.445406057522
      positionAbsolute:
        x: 1014.6013341457631
        y: 607.445406057522
      selected: false
      sourcePosition: right
      targetPosition: left
      type: custom
      width: 244
    - data:
        authorization:
          config: null
          type: no-auth
        body:
          data:
          - id: key-value-7
            key: ''
            type: text
            value: "{\n    \"conversation_uid\": \"{{#conversation.conversation_uid#}}\"\
              ,\n    \"text_content\": [\n        {\n            \"type\": \"message\"\
              ,\n            \"content\": \"ä½ å¥½ï¼Œæˆ‘æ˜¯SMOåŠ©ç†ï¼Œæ‚¨æä¾›çš„æ–‡æœ¬ä¸¦éæˆ‘å€‘å¯ä»¥è™•ç†å…§å®¹ï¼Œè«‹é‡æ–°è¼¸å…¥ã€‚\"\n\
              \        }\n    ]\n}"
          type: raw-text
        desc: ''
        headers: ''
        method: post
        params: ''
        retry_config:
          max_retries: 3
          retry_enabled: false
          retry_interval: 100
        selected: false
        timeout:
          max_connect_timeout: 0
          max_read_timeout: 0
          max_write_timeout: 0
        title: '[å›è¦†] Erroræ„åœ–è­˜åˆ¥éšæ®µ (1)'
        type: http-request
        url: '{{#env.MITLAB_BACKEND#}}workflow_mgt/WorkflowManager/human_in_the_loop'
        variables: []
      height: 129
      id: '17447856854490'
      position:
        x: 1345.4160000398592
        y: 607.445406057522
      positionAbsolute:
        x: 1345.4160000398592
        y: 607.445406057522
      selected: false
      sourcePosition: right
      targetPosition: left
      type: custom
      width: 244
    - data:
        context:
          enabled: false
          variable_selector: []
        desc: ''
        model:
          completion_params: {}
          mode: chat
          name: gpt-4o
          provider: langgenius/openai/openai
        prompt_template:
        - id: a5f03a92-b5c2-4e98-aecb-c6503908c548
          role: system
          text: "\U0001F539è§’è‰² (Role)\nä½ æ˜¯ä¸€å ã€ŒSMO (Service Management & Orchestration)\
            \ ç›¸é—œæ€§åˆ†é¡å“¡ã€ï¼Œå…·å‚™ç¶²ç®¡é ˜åŸŸçŸ¥è­˜ï¼Œè² è²¬åˆ¤æ–·è¼¸å…¥æ–‡æœ¬æ˜¯å¦å±¬æ–¼ SMO ç¯„ç–‡ã€‚\n\U0001F539ä»»å‹™ (Task)\nå°çµ¦å®šæ–‡æœ¬é€²è¡ŒäºŒå…ƒåˆ†é¡ï¼š\n\
            TRUE â†’ èˆ‡ SMO ç›¸é—œ\nFALSE â†’ èˆ‡ SMO ç„¡é—œ\nä¸¦åœ¨ã€Œreasonã€æ¬„ä½èªªæ˜åˆ¤æ–·ä¾æ“šã€‚\n\U0001F539æ¸¬è©¦ç‹€æ³å¤§é¡å®šç¾©\
            \ (Test Category Definitions)\nè¦–ç‚º SMO ç›¸é—œ (TRUE) çš„æƒ…å¢ƒåŒ…å«ä½†ä¸é™æ–¼ï¼š\næŠ‘åˆ¶å–®ä¸€å ´åŸŸè¨Šè™Ÿå¹²æ“¾\n\
            æŸ¥è©¢å–®ä¸€å ´åŸŸåŸºç«™è³‡è¨Š\nå¹²æ“¾æŠ‘åˆ¶æ¼”ç®—æ³•é æ¸¬\nå–å¾— UE è³‡è¨Šï¼ˆå¦‚é€£ç·šç‹€æ…‹ã€è¨Šè™Ÿå“è³ªã€SINR Map ç­‰ï¼‰\næœªè½å…¥ä¸Šè¿°å››é¡ï¼Œæˆ–ç´”å±¬å…¶ä»–é ˜åŸŸï¼ˆå¦‚å•†æ¥­ç­–ç•¥ã€è¡ŒéŠ·ã€è²¡å‹™ã€äººè³‡ç­‰ï¼‰ï¼Œå‰‡åˆ¤å®šç‚º\
            \ FALSEã€‚\n\U0001F539æŒ‡å°åŸå‰‡ (Classification Guidelines for Ensuring Mutual\
            \ Exclusivity)\næ’ä»–æ€§ï¼šæ¯å‰‡æ–‡æœ¬åªèƒ½è½å…¥ TRUE æˆ– FALSE ä¹‹ä¸€ï¼Œä¸å¾—åŒæ™‚æ¨™è¨˜å…©è€…ã€‚\né—œéµè© â‰  å”¯ä¸€ä¾æ“šï¼šè‹¥åƒ…çœ‹åˆ°å­—é¢é—œéµè©å»ç„¡ç¶²ç®¡èªå¢ƒï¼Œé ˆç¶œåˆèªæ„æ±ºå®šã€‚\n\
            æ¨¡ç³Šæ•˜è¿°ï¼šè‹¥å…§å®¹å«ç³Šä½†æ˜é¡¯æŒ‡å‘ç¶²è·¯ç›£æ§ï¼ç®¡æ§ï¼Œæ‡‰åå‘ TRUEï¼›è‹¥å®Œå…¨ç„¡ä½è­‰ï¼Œåå‘ FALSEã€‚\nä¸€æ­¥åˆ°ä½ï¼Œä¸ç•™ç°å€ï¼šè‹¥ä»æœ‰ç–‘æ…®ï¼Œæ‡‰å›åˆ°æ¸¬è©¦å¤§é¡å®šç¾©é‡æ–°æ¯”å°ï¼Œåšå‡ºæœ€çµ‚æ±ºç­–ã€‚\n\
            \U0001F539æ€è·¯æ­¥é©Ÿ (Thinking Steps)\nâš ï¸ è«‹åœ¨å…§éƒ¨æ€è€ƒä»¥ä¸‹æ­¥é©Ÿå³å¯ï¼Œåƒ…è¼¸å‡ºæœ€çµ‚ JSONï¼Œä¸è¦æ´©æ¼æ€è€ƒéç¨‹ã€‚\n\
            é€å¥æƒæï¼šæ‰¾å‡ºèˆ‡ç¶²ç®¡ã€é›»ä¿¡ã€å¹²æ“¾ã€åŸºç«™ã€UE ç­‰ç›¸é—œè©ã€‚\nèªå¢ƒåˆ¤è®€ï¼šåˆ¤æ–·é€™äº›è©æ˜¯å¦ç”¨æ–¼ã€Œç®¡ç† / ç·¨æ’ / ç›£æ§ã€èªæ„ï¼Œè€Œéåƒ…ä½œæ¯”å–»æˆ–éæŠ€è¡“è¨è«–ã€‚\n\
            æ¯”å°æ¸¬è©¦å¤§é¡ï¼šç¢ºèªæ˜¯å¦ç¬¦åˆ 1â€“4 ä»»ä¸€æƒ…å¢ƒã€‚\nå¾—å‡ºçµè«–ï¼šæ¨™è¨˜ TRUE / FALSEï¼Œä¸¦æ•´ç†é—œéµä¾æ“šå¯«å…¥ã€Œreasonã€ã€‚\n\U0001F539\
            è¼¸å…¥ (Input)\narduino\nè¤‡è£½ç·¨è¼¯{{#sys.query#}}\n\n\U0001F539æœŸæœ›è¼¸å‡ºæ ¼å¼ (Expected\
            \ Output Format)\nä»¥ JSON å›å‚³ï¼Œæ¬„ä½èˆ‡èªªæ˜å¦‚ä¸‹ï¼š\njson\nè¤‡è£½ç·¨è¼¯{\n  \"result\": \"TRUE\"\
            ,            // æˆ– \"FALSE\"\n  \"reason\": \"ç°¡è¦èªªæ˜åŸå› ï¼›è‹¥ç‚º TRUEï¼Œåˆ—å‡º SMO é—œéµå­—ä¸¦èªªæ˜ï¼›è‹¥ç‚º\
            \ FALSEï¼Œèªªæ˜ä¸ç›¸é—œåŸå› \"\n}\n\n\nâ–¶ï¸ ç¾åœ¨é–‹å§‹åˆ¤æ–·ï¼š\nè«‹ä¾ä¸Šè¿°è¦ç¯„ï¼Œåƒ…è¼¸å‡ºæœ€çµ‚ JSONã€‚"
        selected: false
        title: '[ LLM ] ç¶²ç®¡æ„åœ–åˆ†é¡å™¨'
        type: llm
        variables: []
        vision:
          enabled: false
      height: 90
      id: '1747806238325'
      position:
        x: 31.765494294837367
        y: 262
      positionAbsolute:
        x: 31.765494294837367
        y: 262
      selected: false
      sourcePosition: right
      targetPosition: left
      type: custom
      width: 244
    - data:
        author: test
        desc: ''
        height: 987
        selected: false
        showAuthor: true
        text: '{"root":{"children":[{"children":[{"detail":0,"format":1,"mode":"normal","style":"font-size:
          16px;","text":"æ–‡æœ¬è¼¸å…¥åˆ†é¡å™¨","type":"text","version":1}],"direction":"ltr","format":"","indent":0,"type":"paragraph","version":1,"textFormat":1,"textStyle":"font-size:
          16px;"}],"direction":"ltr","format":"","indent":0,"type":"root","version":1}}'
        theme: blue
        title: ''
        type: ''
        width: 1847
      height: 987
      id: '1747810565154'
      position:
        x: -1882.3745874950266
        y: -233.26816819075475
      positionAbsolute:
        x: -1882.3745874950266
        y: -233.26816819075475
      selected: false
      sourcePosition: right
      targetPosition: left
      type: custom-note
      width: 1847
    - data:
        context:
          enabled: false
          variable_selector: []
        desc: ''
        model:
          completion_params: {}
          mode: chat
          name: gpt-4o-mini
          provider: langgenius/openai/openai
        prompt_template:
        - id: dc2d8106-2e65-46e2-b47b-be337a538f6e
          role: system
          text: "# æ¨¡çµ„åŒ–æ–‡æœ¬åˆ†é¡å™¨ Prompt\n\n## 1. è§’è‰² (Role)\nè«‹ä½ æ‰®æ¼”ä¸€å€‹ç²¾ç¢ºçš„æ–‡æœ¬åˆ†é¡å™¨ã€‚\n\n## 2. ä»»å‹™\
            \ (Task)\nä½ çš„ä»»å‹™æ˜¯æ ¹æ“šä»¥ä¸‹ã€Œæ¸¬è©¦ç‹€æ³å¤§é¡å®šç¾©ã€å°‡ã€Œå¾…åˆ†é¡æ–‡æœ¬ã€åˆ†é…åˆ°æœ€åˆé©çš„é¡åˆ¥ä¸­ï¼Œä¸¦æŒ‰ç…§æŒ‡å®šçš„ JSON æ ¼å¼è¼¸å‡ºçµæœã€‚åœ¨åˆ†é¡æ™‚ï¼Œè«‹å„ªå…ˆè­˜åˆ¥æ–‡æœ¬ä¸­æ˜¯å¦å­˜åœ¨ä¸€å€‹æˆ–å¤šå€‹æ¸…æ™°ã€å¯åŸ·è¡Œçš„æ ¸å¿ƒæŒ‡ä»¤ï¼Œ**ä¸¦åˆ¤æ–·å…¶åˆ†é¡çš„ä¸»è¦æŒ‘æˆ°é»ã€‚**\n\
            \n## 3. æ¸¬è©¦ç‹€æ³å¤§é¡å®šç¾© (Test Category Definitions)\nè«‹ä»”ç´°ç†è§£ä»¥ä¸‹æ¯å€‹é¡åˆ¥çš„å´é‡é»ï¼Œä»¥è¼”åŠ©æ‚¨é€²è¡Œå…·æœ‰å€åˆ†åº¦çš„åˆ†é¡ï¼š\n\
            \n1.  **åŸºæœ¬æ¸…æ™°æŒ‡ä»¤åŠå…¶è¡¨è¿°è®Šç•° (Basic Clear Instructions and common expression variations)**\n\
            \    * æ ¸å¿ƒç‰¹å¾µï¼šæ–‡æœ¬çš„æ ¸å¿ƒæ„åœ–æ˜¯ä¸€å€‹**æ¸…æ™°ã€å–®ä¸€çš„è¡Œå‹•æˆ–æŸ¥è©¢**ã€‚æŒ‡ä»¤çš„ä¸»è¦æŒ‘æˆ°**ä¸¦éæºæ–¼åƒæ•¸çš„è¤‡é›œæ€§æˆ–æ¢ä»¶é‚è¼¯çš„æ·±åº¦ï¼Œè€Œæ˜¯ä¾†è‡ªæ–¼èªè¨€è¡¨è¿°çš„ç´°å¾®è®ŠåŒ–**ï¼ˆå¦‚åŒç¾©è©ã€èªåºã€å£èªåŒ–è¡¨é”ã€è¼•å¾®éŒ¯æ¼ç­‰ï¼‰æˆ–å°æ­¤å–®ä¸€è¡Œå‹•çš„**ç›´æ¥ã€æ˜“æ–¼ç†è§£çš„é™å®š**ï¼ˆä¾‹å¦‚ï¼ŒæŒ‡å®šå–®ä¸€åœ°é»ã€æ™‚é–“æˆ–ç°¡å–®æ¨¡å¼ï¼‰ã€‚å³ä½¿å­˜åœ¨æ¢ä»¶ï¼Œé€™äº›æ¢ä»¶ä¹Ÿæ˜¯ç›´æ¥ä¿®é£¾æ­¤å–®ä¸€è¡Œå‹•çš„åŸ·è¡Œæ–¹å¼ï¼Œä¸”**ä¸æ¶‰åŠå°è¤‡é›œæ•¸æ“šçµæ§‹çš„è§£ææˆ–å¤šé‡ã€ç›¸äº’ä¾è³´çš„åƒæ•¸é…ç½®**ã€‚\n\
            \    * åˆ¤æ–·é—œéµï¼šæŒ‡ä»¤æ˜¯å¦åœç¹ä¸€å€‹æ˜“æ–¼è­˜åˆ¥çš„å–®ä¸€æ ¸å¿ƒè¡Œå‹•ï¼Ÿå…¶è¤‡é›œæ€§æ˜¯å¦ä¸»è¦é«”ç¾ç‚ºèªè¨€å±¤é¢çš„è®Šç•°ï¼Œè€Œéåƒæ•¸æœ¬èº«çš„çµæ§‹æˆ–æ¢ä»¶é‚è¼¯çš„åµŒå¥—æ·±åº¦ï¼Ÿ**å¦‚æœæŒ‡ä»¤çš„ä¸»è¦éƒ¨åˆ†æ˜¯ä¸€å€‹ç›´æ¥çš„å‹•ä½œï¼Œé™„åŠ çš„æ¢ä»¶/åƒæ•¸ç›¸å°ç°¡å–®ä¸”ä¸æ§‹æˆä¸»è¦çš„ç†è§£æˆ–åŸ·è¡Œç“¶é ¸ï¼Œå‰‡æ­¸æ–¼æ­¤é¡ã€‚**\n\
            \    * å…¸å‹ç¯„ä¾‹ï¼š\n        * \"æˆ‘æƒ³æŸ¥çœ‹æ‰€æœ‰ UE çš„é€£ç·šç‹€æ…‹\"\n        * \"é¡¯ç¤ºç›®å‰çš„ SINR åˆ†å¸ƒåœ–ï¼Œä¸¦æ¨™è¨»ä½æ–¼-5dBçš„å€åŸŸã€‚\"\
            \ (å–®ä¸€è¡Œå‹•ã€Œé¡¯ç¤ºã€ï¼Œé™„åŠ ç°¡å–®æ¨™è¨»è¦æ±‚)\n        * \"è«‹å¹«æˆ‘è¦åŠƒ ITRI 51 é¤¨äº”æ¨“çš„ UE ä½ç½®ï¼Œå„ªå…ˆè€ƒæ…®è¦†è“‹ç¯„åœã€‚\"\
            \ (å–®ä¸€è¡Œå‹•ã€Œè¦åŠƒã€ï¼Œé™„åŠ ç°¡å–®å„ªå…ˆç´š)\n        * \"æˆ‘å¸Œæœ›ITRI 51 é¤¨ 5 æ¨“çš„å¹²æ“¾æŠ‘åˆ¶æ¼”ç®—æ³•å•Ÿå‹•ã€‚\" (å–®ä¸€è¡Œå‹•å’Œåœ°é»)\n\
            \        * \"ç•¶å¹²æ“¾æŠ‘åˆ¶å•Ÿå‹•æ™‚ï¼Œç¢ºä¿Cell Center UEçš„æµé‡ä¸ä½æ–¼70%ã€‚\" (è‹¥ã€Œå¹²æ“¾æŠ‘åˆ¶ã€æ˜¯ç•¶å‰ä¸Šä¸‹æ–‡çš„å–®ä¸€ä¸»è¦è¡Œå‹•ï¼Œæ­¤ç‚ºå°è©²è¡Œå‹•çš„åŸ·è¡Œæ¨™æº–çš„ç°¡å–®é™å®š)\n\
            \n2.  **è‡ªç„¶èªè¨€å›ºæœ‰è¤‡é›œæ€§ (Inherent Natural Language Complexity)**\n    * æ ¸å¿ƒç‰¹å¾µï¼šæ–‡æœ¬çš„ä¸»è¦æŒ‘æˆ°æºæ–¼**è‡ªç„¶èªè¨€æœ¬èº«çš„æ¨¡ç³Šæ€§ã€å†—é¤˜æ€§ã€éçµæ§‹åŒ–é–’èŠæˆ–ä¸é€£è²«çš„è¡¨é”ï¼Œé€™äº›åš´é‡é˜»ç¤™äº†å°ä»»ä½•æ¸…æ™°æ ¸å¿ƒæ„åœ–ï¼ˆç„¡è«–ç°¡å–®æˆ–è¤‡é›œï¼‰çš„æœ‰æ•ˆæå–**ã€‚\n\
            \    * åˆ¤æ–·é—œéµï¼šæ˜¯å¦ç”±æ–¼èªè¨€çš„æ··äº‚ã€å†—é¤˜æˆ–æ¨¡ç³Šï¼Œå°è‡´é›£ä»¥æˆ–ç„¡æ³•ç¢ºä¿¡åœ°è­˜åˆ¥å‡ºä¸€å€‹æˆ–å¤šå€‹å¯åŸ·è¡Œçš„æ ¸å¿ƒæŒ‡ä»¤ï¼Ÿ**å¦‚æœæ–‡æœ¬çš„ä¸»è¦å•é¡Œæ˜¯ã€Œä¸çŸ¥é“ç”¨æˆ¶åˆ°åº•æƒ³å¹¹ä»€éº¼ã€ï¼Œå‰‡æ­¸æ–¼æ­¤é¡ã€‚**\n\
            \    * å…¸å‹ç¯„ä¾‹ï¼š\n        * \"å“¦å°äº†ï¼Œæˆ‘å‰›æ‰åœ¨çœ‹é‚£å€‹51é¤¨äº”æ¨“çš„ç¶²è·¯ï¼Œå°±æ˜¯æƒ³äº†è§£ä¸€ä¸‹æ•´é«”çš„ç‹€æ³ï¼Œå—¯... ä½ èƒ½å¹«æˆ‘é¡¯ç¤ºä¸€ä¸‹\
            \ ITRI 51 é¤¨äº”æ¨“æ‰€æœ‰ UE çš„è¨Šè™Ÿå“è³ªè³‡è¨Šå—ï¼Ÿå› ç‚ºæœ€è¿‘æ„Ÿè¦ºå¥½åƒæœ‰äº›ç”¨æˆ¶åæ‡‰è¨Šè™Ÿä¸å¤ªç©©å®šï¼Œæ‰€ä»¥æƒ³ç¢ºèªä¸€ä¸‹ï¼Œéº»ç…©äº†å•Šã€‚\"\n   \
            \     * \"æˆ‘è¨˜å¾—ä¹‹å‰å¥½åƒæœ‰æåˆ°ä¸€å€‹åŠŸèƒ½ï¼Œå°±æ˜¯é‚£å€‹...å‘ƒ...è·Ÿå¹²æ“¾æœ‰é—œçš„ï¼Œå°ï¼Œå¹²æ“¾æŠ‘åˆ¶æ¼”ç®—æ³•çš„é æ¸¬çµæœï¼Œèƒ½ä¸èƒ½å¹«æˆ‘ç¾åœ¨çœ‹ä¸€ä¸‹ï¼Ÿæˆ‘æƒ³å¤§æ¦‚äº†è§£ä¸€ä¸‹æƒ…æ³ï¼Œå› ç‚ºä¸‹åˆé–‹æœƒå¯èƒ½æœƒç”¨åˆ°ï¼Œè¬è¬ã€‚\"\
            \n\n3.  **çµæ§‹åŒ–ä¿¡æ¯èˆ‡ç‰¹å®šåƒæ•¸çš„è™•ç† (Handling of Structured Information and Specific\
            \ Parameters)**\n    * æ ¸å¿ƒç‰¹å¾µï¼šæ–‡æœ¬çš„æ ¸å¿ƒæ„åœ–ï¼ˆå¯èƒ½åœ¨æ¦‚å¿µä¸Šæ˜¯å–®ä¸€çš„ï¼Œå¦‚ã€ŒåŸ·è¡ŒæŸæ“ä½œã€ï¼‰çš„æ­£ç¢ºåŸ·è¡Œ**é«˜åº¦ä¾è³´æ–¼æº–ç¢ºè­˜åˆ¥ã€æå–ä¸¦è™•ç†ä¸€çµ„å…·æœ‰ç‰¹å®šçµæ§‹ã€å¤šå€‹ç›¸äº’é—œè¯ã€æˆ–æŠ€è¡“æ€§å¼·çš„æ•¸æ“šé»ã€åƒæ•¸å€¼æˆ–å°ˆæœ‰è¡“èªã€‚æŒ‡ä»¤çš„ä¸»è¦æŒ‘æˆ°é»åœ¨æ–¼é€™äº›åƒæ•¸çš„æ­£ç¢ºè§£æã€é©—è­‰å’Œæ‡‰ç”¨ï¼Œè€Œéåƒ…åƒ…æ˜¯ç†è§£é«˜å±¤æ¬¡çš„è¡Œå‹•æ„åœ–ã€‚**\n\
            \    * åˆ¤æ–·é—œéµï¼šæŒ‡ä»¤çš„åŸ·è¡Œæ˜¯å¦**å¼·çƒˆä¾è³´æ–¼ä¸€å€‹ã€Œåƒæ•¸åˆ—è¡¨ã€æˆ–ã€Œé…ç½®é›†ã€çš„æ­£ç¢ºå¡«å……å’Œç†è§£**ï¼Ÿé€™äº›åƒæ•¸æœ¬èº«æ˜¯å¦æŠ€è¡“æ€§å¼·ã€æ•¸é‡è¼ƒå¤šã€æˆ–éœ€è¦éµå¾ªç‰¹å®šæ ¼å¼æˆ–ç›¸äº’ç´„æŸï¼Ÿ**å¦‚æœæŒ‡ä»¤çš„æ ¸å¿ƒå…§å®¹æ›´åƒæ˜¯åœ¨å¡«å¯«ä¸€å€‹è©³ç´°çš„æŠ€è¡“è¡¨å–®æˆ–APIè«‹æ±‚é«”ï¼Œå‰‡æ­¸æ–¼æ­¤é¡ã€‚**\n\
            \    * å…¸å‹ç¯„ä¾‹ï¼š\n        * \"è«‹åœ¨ ITRI 51 é¤¨äº”æ¨“åŸ·è¡Œå¹²æ“¾æŠ‘åˆ¶ï¼Œè¨­å®šCenter/Edge UEs æ¯”ä¾‹ç‚º0.6ï¼Œæœ€å°RBæ•¸ç‚º8ï¼Œä¸”æ¼”ç®—æ³•æ¨¡å¼ç‚º'æ¨¡å¼A'ã€‚\"\
            \ (å¤šå€‹ç‰¹å®šæŠ€è¡“åƒæ•¸çš„çµ„åˆé…ç½®)\n        * \"é‡å° ID ç‚º 'UE-001' è‡³ 'UE-010' çš„è¨­å‚™ï¼Œæ‡‰ç”¨ç­–ç•¥ 'Policy-X'ï¼Œä¸¦è¨˜éŒ„è©³ç´°æ—¥èªŒç­‰ç´šç‚º\
            \ 'DEBUG'ã€‚\"\n        * \"æˆ‘å¸Œæœ›ITRI 51 é¤¨ 5 æ¨“å¹²æ“¾æŠ‘åˆ¶æ¼”ç®—æ³•å•Ÿå‹•æ™‚ï¼Œç•¶ Cell Edge UEs å€‹æ•¸æ¯”è¼ƒå¤šçš„æ™‚å€™ï¼ŒCell\
            \ Center UEs çš„æµé‡è‡³å°‘è¦ç¶­æŒ 75%ã€‚\" (æ­¤ä¾‹ç”±æ–¼åŒ…å«äº†åœ°é»ã€æ¼”ç®—æ³•ã€å°UEæ•¸é‡çš„æ¢ä»¶åˆ¤æ–·ã€ä»¥åŠå°å¦ä¸€çµ„UEæµé‡çš„å…·é«”è¦æ±‚ï¼Œå…¶ä¸»è¦æŒ‘æˆ°æ›´åå‘æ–¼æ­£ç¢ºè§£æå’Œæ‡‰ç”¨é€™çµ„ç›¸äº’é—œè¯çš„åƒæ•¸å’Œæ¢ä»¶ï¼Œå› æ­¤æ›´é©åˆæ­¸æ–¼æ­¤é¡\
            \ Category 3)\n\n4.  **è¤‡é›œæ„åœ–çµæ§‹èˆ‡æ¨ç†éœ€æ±‚ (Complex Intent Structures and Reasoning\
            \ Demands)**\n    * æ ¸å¿ƒç‰¹å¾µï¼šæ–‡æœ¬çš„ä¸»è¦æŒ‘æˆ°åœ¨æ–¼å…¶å…§éƒ¨åŒ…å«äº†**å¤šå€‹ç¨ç«‹çš„æ ¸å¿ƒæ„åœ–/è¡Œå‹•éœ€è¦è¢«å”åŒè™•ç†ï¼Œæˆ–è€…åŒ…å«éœ€è¦ç³»çµ±åŸºæ–¼æ¢ä»¶è©•ä¼°åœ¨ä¸åŒæ ¸å¿ƒè¡Œå‹•è·¯å¾‘ä¹‹é–“åšå‡ºé¸æ“‡çš„çœŸæ­£æ±ºç­–åˆ†æ”¯é‚è¼¯ã€‚**\
            \ é€™ä¸åƒ…åƒ…æ˜¯ç‚ºå–®ä¸€è¡Œå‹•é…ç½®åƒæ•¸ï¼Œè€Œæ˜¯æ¶‰åŠç®¡ç†å¤šå€‹è¡Œå‹•æˆ–æ±ºå®šæ¡å–å“ªå€‹è¡Œå‹•ã€‚\n    * åˆ¤æ–·é—œéµï¼šæ–‡æœ¬æ˜¯å¦è¦æ±‚ç³»çµ±åŸ·è¡Œ**å¤šæ–¼ä¸€å€‹çš„ã€å„è‡ªå¯è¢«è¦–ç‚ºä¸»è¦è¡Œå‹•çš„ä»»å‹™**ï¼Ÿæ¢ä»¶èªå¥çš„çµæœæ˜¯å¦æœƒå°è‡´ç³»çµ±åŸ·è¡Œ**å®Œå…¨ä¸åŒçš„æ ¸å¿ƒè¡Œå‹•æˆ–é€²å…¥ä¸åŒçš„ä¸»è¦æ¥­å‹™æµç¨‹**ï¼Œè€Œä¸åƒ…åƒ…æ˜¯èª¿æ•´ç•¶å‰å–®ä¸€æ ¸å¿ƒè¡Œå‹•çš„åƒæ•¸ï¼Ÿ\n\
            \    * å…¸å‹ç¯„ä¾‹ï¼š\n        * \"é¡¯ç¤º SINR Mapï¼Œå¦‚æœå¹³å‡ SINR ä½æ–¼é–¾å€¼ï¼Œå‰‡å•Ÿå‹•å¹²æ“¾æŠ‘åˆ¶ï¼Œç„¶å¾Œé‡æ–°ç”Ÿæˆ UE\
            \ ä½ç½®è¦åŠƒã€‚\" (ä¸‰å€‹ç¨ç«‹çš„æ ¸å¿ƒè¡Œå‹•åºåˆ—ï¼Œå…¶ä¸­ä¸€å€‹æœ‰æ¢ä»¶è§¸ç™¼)\n        * \"åˆ—å‡º ITRI 51 é¤¨äº”æ¨“æ‰€æœ‰ UE çš„è¨Šè™Ÿå“è³ªï¼Œä¸¦ä¸”åŸ·è¡Œ\
            \ UE éƒ¨ç½²ä½ç½®è¦åŠƒï¼Œçœ‹çœ‹èƒ½ä¸èƒ½æ”¹å–„æ•´é«”SINRã€‚\"\n        * \"æˆ‘æƒ³åŒæ™‚æŸ¥çœ‹ SINR åˆ†å¸ƒåœ–å’Œå„ UE çš„é€£ç·šç‹€æ…‹ï¼Œåœ°é»åœ¨\
            \ ITRI 51 é¤¨äº”æ¨“ï¼Œä¸¦å°‡çµæœåŒ¯å‡ºã€‚\"\n\n5.  **å…¶ä»–ç‰¹æ®Šèˆ‡é‚Šç•Œæ¢ä»¶æ¸¬è©¦ (Other Special and Boundary\
            \ Condition Tests)**\n    * æ ¸å¿ƒç‰¹å¾µï¼šæ–‡æœ¬çš„ä¸»è¦æŒ‘æˆ°åœ¨æ–¼å®ƒä»£è¡¨äº†ä¸€äº›åœ¨é‚è¼¯ä¸Šè¼ƒç‚ºç‰¹æ®Šï¼ˆä¾‹å¦‚ï¼Œæ˜ç¢ºçš„å¦å®šæŒ‡ä»¤ï¼‰æˆ–åœ¨å½¢å¼ä¸Šè™•æ–¼ç³»çµ±è™•ç†èƒ½åŠ›é‚Šç·£çš„æƒ…æ³ï¼ˆä¾‹å¦‚ï¼Œæ¥µç«¯ç°¡çŸ­ã€ç¼ºä¹ä¸Šä¸‹æ–‡çš„è¼¸å…¥ï¼Œæˆ–æ ¼å¼ç•°å¸¸çš„è«‹æ±‚ï¼‰ã€‚é€™äº›é€šå¸¸ä¸å®Œå…¨å±¬æ–¼ä¸Šè¿°å››å€‹é¡åˆ¥çš„å…¸å‹ç‰¹å¾µï¼Œè€Œæ˜¯ç”¨æ–¼æ¸¬è©¦ç³»çµ±çš„å®Œå‚™æ€§å’Œç‰¹æ®Šæƒ…æ³è™•ç†èƒ½åŠ›ã€‚\n\
            \    * åˆ¤æ–·é—œéµï¼šæŒ‡ä»¤æ˜¯å¦ä¸ç¬¦åˆå‰å››é¡çš„å…¸å‹ç‰¹å¾µï¼Œè€Œæ˜¯ä»£è¡¨ä¸€ç¨®é‚è¼¯ä¸Šçš„ä¾‹å¤–ï¼ˆå¦‚å¦å®šï¼‰ã€å½¢å¼ä¸Šçš„é‚Šç•Œæƒ…æ³ï¼ˆå¦‚æ¥µåº¦ç°¡æ½”æˆ–æ ¼å¼éŒ¯èª¤ï¼‰æˆ–ç„¡æ³•æ­¸é¡çš„ç‰¹æ®Šè«‹æ±‚ï¼Ÿ\n\
            \    * å…¸å‹ç¯„ä¾‹ï¼š\n        * \"ä¸è¦åœ¨ ITRI 51 é¤¨äº”æ¨“åŸ·è¡Œå¹²æ“¾æŠ‘åˆ¶ã€‚\"\n        * \"SINR Map?\"\
            \n        * \"åœæ­¢ç›®å‰çš„ UE éƒ¨å±¬ä½ç½®è¦åŠƒã€‚\"\n        * \"51é¤¨äº”æ¨“UEç‹€æ…‹\"\n\n## 4. å¾…åˆ†é¡æ–‡æœ¬\
            \ (Text to Classify)\n{{#sys.query#}}\n\n\n## 5. è¼¸å‡ºè¦æ±‚ (Output Requirements)\n\
            ä½ å¿…é ˆåš´æ ¼æŒ‰ç…§ä»¥ä¸‹ JSON æ ¼å¼è¼¸å‡ºçµæœï¼Œä¸¦ä¸”ä¸åŒ…å«ä»»ä½•é¡å¤–çš„è§£é‡‹æˆ–æ–‡å­—ï¼š\n\n```json\n{\n  \"category_id\"\
            : <åˆ†é¡ID>,\n  \"category_name\": \"<åˆ†é¡åç¨±>\",\n  \"reason\": \"<è§£é‡‹ç‚ºä½•å°‡æ–‡æœ¬æ­¸é¡æ–¼æ­¤çš„åŸå› ï¼Œéœ€å…·é«”èªªæ˜åˆ¤æ–·ä¾æ“š>\"\
            \n}\nè«‹é–‹å§‹åˆ†é¡ã€Œå¾…åˆ†é¡æ–‡æœ¬ã€ã€‚"
        selected: false
        title: æ–‡æœ¬åˆ†é¡å™¨
        type: llm
        variables: []
        vision:
          enabled: false
      height: 90
      id: '1747810658255'
      position:
        x: -1490.2821683120958
        y: 270
      positionAbsolute:
        x: -1490.2821683120958
        y: 270
      selected: false
      sourcePosition: right
      targetPosition: left
      type: custom
      width: 244
    - data:
        cases:
        - case_id: 'true'
          conditions:
          - comparison_operator: contains
            id: 38b1682f-b81b-4942-abcc-c45554ab793c
            value: å…¶ä»–ç‰¹æ®Šèˆ‡é‚Šç•Œæ¢ä»¶æ¸¬è©¦
            varType: string
            variable_selector:
            - '1747810658255'
            - text
          id: 'true'
          logical_operator: and
        - case_id: a946eec2-6d24-45bb-a21f-93402f046df2
          conditions:
          - comparison_operator: contains
            id: e98b3c24-87de-4521-b69d-ebcab8558c5b
            value: è¤‡é›œæ„åœ–çµæ§‹èˆ‡æ¨ç†éœ€æ±‚
            varType: string
            variable_selector:
            - '1747810658255'
            - text
          id: a946eec2-6d24-45bb-a21f-93402f046df2
          logical_operator: and
        - case_id: 14abe583-a4b8-4017-aa5b-d2a8f3dd3ccb
          conditions:
          - comparison_operator: contains
            id: 121d5d6f-13ce-4d28-83c6-362ecc42e939
            value: è‡ªç„¶èªè¨€å›ºæœ‰è¤‡é›œæ€§
            varType: string
            variable_selector:
            - '1747810658255'
            - text
          id: 14abe583-a4b8-4017-aa5b-d2a8f3dd3ccb
          logical_operator: and
        - case_id: dc5dc520-ea0a-41ee-a69a-1472e0436c20
          conditions:
          - comparison_operator: contains
            id: b4d683d3-9694-4b57-a0d5-eda914535cfb
            value: çµæ§‹åŒ–ä¿¡æ¯èˆ‡ç‰¹å®šåƒæ•¸çš„è™•ç†
            varType: string
            variable_selector:
            - '1747810658255'
            - text
          id: dc5dc520-ea0a-41ee-a69a-1472e0436c20
          logical_operator: and
        - case_id: 05f441c0-069f-4dad-99b4-7e266d83329b
          conditions:
          - comparison_operator: contains
            id: f37d28e7-f173-4798-8400-1b0a259f10a4
            value: åŸºæœ¬æ¸…æ™°æŒ‡ä»¤åŠå…¶è¡¨è¿°è®Šç•°
            varType: string
            variable_selector:
            - '1747810658255'
            - text
          id: 05f441c0-069f-4dad-99b4-7e266d83329b
          logical_operator: and
        desc: ''
        selected: false
        title: '[ æ¢ä»¶åˆ†æ”¯ ] æ–‡æœ¬åˆ†é¡'
        type: if-else
      height: 318
      id: '1747810822495'
      position:
        x: -1213.565066509283
        y: 270
      positionAbsolute:
        x: -1213.565066509283
        y: 270
      selected: false
      sourcePosition: right
      targetPosition: left
      type: custom
      width: 244
    - data:
        context:
          enabled: false
          variable_selector: []
        desc: ''
        model:
          completion_params: {}
          mode: chat
          name: gpt-4o
          provider: langgenius/openai/openai
        prompt_template:
        - edition_type: basic
          id: 0cf5c036-3d85-45ab-b8f3-44f20b874825
          role: system
          text: "**Prompt: åˆ†é¡å¼•å°å¼æ‡‰ç­”å™¨ (æ¨¡çµ„åŒ–ç‰ˆæœ¬)**\n\n**ç¬¬ä¸€éƒ¨åˆ†ï¼šè§’è‰²å®šç¾©èˆ‡ç›®æ¨™**\nä½ çš„è§’è‰²æ˜¯ä½œç‚ºä¸€å€‹æ¨‚æ–¼åŠ©äººçš„AIåŠ©ç†ï¼Œå³ã€Œåˆ†é¡å¼•å°å¼æ‡‰ç­”å™¨ã€ï¼Œèƒ½è‡ªç„¶åœ°èˆ‡ä½¿ç”¨è€…æºé€šï¼Œä¸¦æ¸…æ™°åœ°è§£é‡‹ç³»çµ±å¦‚ä½•ç†è§£èˆ‡è™•ç†ä»–å€‘çš„æŒ‡ä»¤ï¼Œä»¥åŠç³»çµ±çš„èƒ½åŠ›ç¯„åœã€‚ç›®æ¨™æ˜¯å¼•å°ä½¿ç”¨è€…æå‡ºç³»çµ±èƒ½æœ‰æ•ˆè™•ç†çš„æ¸…æ™°æŒ‡ä»¤ï¼Œä¸¦åœ¨æŒ‡ä»¤å·²è¶³å¤ æ¸…æ™°æ™‚çµ¦äºˆç›´æ¥è‚¯å®šã€‚\n\
            \n**ç¬¬äºŒéƒ¨åˆ†ï¼šè¼¸å…¥è®Šæ•¸**\nç³»çµ±æœƒå°‡ä¸€æ®µ JSON æ–‡æœ¬ï¼ˆä¾†è‡ªè®Šæ•¸ {{#1747810658255.text#}}ï¼‰æä¾›çµ¦ä½ ã€‚æ­¤ JSON\
            \ æ–‡æœ¬ä¸­å¿…å®šåŒ…å« \"category_name\" (é¡åˆ¥åç¨±) å’Œ \"reason\" (åŸå› æè¿°) é€™å…©å€‹æ¬„ä½ã€‚\nåŒæ™‚ï¼Œç³»çµ±ä¹Ÿæœƒæä¾›ä½¿ç”¨è€…åŸå§‹çš„è¼¸å…¥æ–‡æœ¬ï¼ˆä¾†è‡ªè®Šæ•¸\
            \ {{#sys.query#}}ï¼‰ã€‚\n\n**ç¬¬ä¸‰éƒ¨åˆ†ï¼šæ ¸å¿ƒå›æ‡‰é‚è¼¯èˆ‡è¦å‰‡**\nè«‹åš´æ ¼éµå¾ªä»¥ä¸‹è¦å‰‡é€²è¡Œå›æ‡‰ï¼š\n\n**3.1. ä¸»è¦åˆ†é¡åˆ¤æ–·ï¼š**\n\
            \    ç³»çµ±å°‡ä¾æ“š {{#1747810658255.text#}} ä¸­çš„ \"category_name\" å€¼ï¼Œé¸æ“‡ä¸¦åŸ·è¡Œä»¥ä¸‹ç›¸æ‡‰çš„ã€Œè™•ç†æ¨¡çµ„ã€ã€‚\n\
            \n**3.2. è™•ç†æ¨¡çµ„ Aï¼šé©ç”¨æ–¼ã€Œç‰¹æ®Šã€ã€ã€Œè¤‡é›œã€æˆ–ã€Œè¡¨é”è®Šç•°ã€çš„æŒ‡ä»¤é¡åˆ¥**\n    æ­¤æ¨¡çµ„é©ç”¨æ–¼ç•¶ {{#1747810658255.text#}}\
            \ ä¸­çš„ \"category_name\" æ˜¯ä»¥ä¸‹ä»»ä¸€å€¼æ™‚ï¼š\n    * \"å…¶ä»–ç‰¹æ®Šèˆ‡é‚Šç•Œæ¢ä»¶æ¸¬è©¦\"\n    * \"è¤‡é›œæ„åœ–çµæ§‹èˆ‡æ¨ç†éœ€æ±‚\"\
            \n    * \"åŸºæœ¬æ¸…æ™°æŒ‡ä»¤åŠå…¶è¡¨è¿°è®Šç•° (Basic Clear Instructions and common expression\
            \ variations)\"\n\n    **3.2.1. å…§éƒ¨æŒ‡ä»¤åˆ†æéšæ®µ (LLMå…§éƒ¨æ­¥é©Ÿ1):**\n        [LLMè«‹å…ˆä»”ç´°åˆ†æ\
            \ {{#sys.query#}} çš„å…§å®¹ã€‚ç›®æ¨™æ˜¯æå–ä½¿ç”¨è€…å®Œæ•´çš„ã€å¯æ“ä½œçš„æ ¸å¿ƒæ„åœ–ï¼ŒåŒ…æ‹¬æ‰€æœ‰ç›¸é—œçš„å°è±¡ã€åƒæ•¸ã€æ¢ä»¶ï¼ˆ**åŒ…æ‹¬æ‰€æœ‰åµŒå¥—æˆ–ä¸¦åˆ—çš„æ¢ä»¶**ï¼‰å’Œä¿®é£¾è©ï¼ˆå¦‚åœ°é»ã€æ™‚é–“ã€â€œè‡³å°‘â€ã€â€œæœ€å¤šâ€ç­‰é–¾å€¼æˆ–ç¯„åœã€è§¸ç™¼æ¢ä»¶ç­‰ï¼‰ã€‚å°‡æ­¤å®Œæ•´æ„åœ–è½‰æ›æˆä¸€å€‹è‡ªèº«å°±èƒ½å®Œæ•´è¡¨é”è©²æ„åœ–çš„ã€çµæ§‹æ¸…æ™°ã€ç„¡æ­§ç¾©çš„æŒ‡ä»¤æ•˜è¿°ã€‚æˆ‘å€‘å°‡æ­¤ç¨±ç‚ºã€Œå»ºè­°æŒ‡ä»¤ã€ã€‚é€™å€‹ã€Œå»ºè­°æŒ‡ä»¤ã€æ‡‰åŠ›æ±‚å®Œæ•´åæ˜ åŸå§‹æŒ‡ä»¤ä¸­çš„æ‰€æœ‰é—œéµè¦ç¯„ï¼Œè€Œä¸åƒ…åƒ…æ˜¯æœ€ç°¡åŒ–çš„æ ¸å¿ƒå‹•ä½œã€‚\n\
            \        ç¯„ä¾‹A: è‹¥ {{#sys.query#}} æ˜¯ â€œå¤©æ°£å¥½åƒä¸éŒ¯ï¼Œæˆ‘ä¸‹åˆæœ‰å€‹æœƒï¼Œå¹«æˆ‘çœ‹çœ‹ä¸‰é»åˆ°å››é»Aæœƒè­°å®¤æœ‰æ²’æœ‰ç©ºï¼Œç„¶å¾Œè¨‚ä¸€ä¸‹â€ï¼Œå‰‡ã€Œå»ºè­°æŒ‡ä»¤ã€å¯èƒ½æ˜¯\
            \ â€œæŸ¥è©¢Aæœƒè­°å®¤ä»Šå¤©ä¸‹åˆ3é»åˆ°4é»çš„é è¨‚æƒ…æ³ï¼Œä¸¦é è¨‚è©²æ™‚æ®µâ€ã€‚\n        ç¯„ä¾‹B: è‹¥ {{#sys.query#}} æ˜¯ ã€Œå¯ä¸å¯ä»¥é¡¯ç¤ºä¸€ä¸‹æ‰€æœ‰UEçš„ç‹€æ³ï¼Ÿã€ã€ã€Œèƒ½çµ¦æˆ‘çœ‹ä¸€ä¸‹æ‰€æœ‰UEçš„ç‹€æ³å—ï¼Ÿã€ã€ã€Œæˆ‘æƒ³å¤šå–æ¯èŒ¶ï¼Œä¸éåœ¨æ­¤ä¹‹å‰ï¼Œä½ å¯ä»¥å‘Šè¨´æˆ‘æˆ‘å€‘çš„UEç‹€æ…‹å—ï¼Ÿã€ã€ã€Œå…ˆç­‰ç­‰ï¼Œæˆ‘é›»è…¦æœ‰ç‚¹å¡ï¼Œèƒ½éº»ç…©ä½ è·‘ä¸‹å¹²æ“¾æŠ‘åˆ¶æ¼”ç®—æ³•å—ï¼Ÿã€ã€ã€Œæœ€è¿‘æœ‰é»ç–²å€¦ï¼Œä¸éå°äº†ï¼Œè«‹å•æ‰€æœ‰UEçš„ç‹€æ…‹éƒ½æ­£å¸¸å—ï¼Ÿã€æˆ–é¡ä¼¼çš„åŒ…å«é™„åŠ æƒ…å¢ƒä½†æ ¸å¿ƒæ„åœ–æ˜ç¢ºçš„èªå¥ï¼Œå‰‡ã€Œå»ºè­°æŒ‡ä»¤ã€æ‡‰ç‚ºå…¶æ ¸å¿ƒè«‹æ±‚çš„ç°¡åŒ–å½¢å¼ï¼Œå¦‚\
            \ ã€Œé¡¯ç¤ºæ‰€æœ‰UEçš„ç‹€æ³ã€æˆ–ã€Œé‹è¡Œå¹²æ“¾æŠ‘åˆ¶æ¼”ç®—æ³•ã€ã€‚\n        ç¯„ä¾‹C: è‹¥ {{#sys.query#}} æ„åœ–ä¸æ˜é¡¯æˆ–éæ–¼å«ç³Šï¼Œè«‹ç”Ÿæˆä¸€å€‹åŸºæ–¼å¸¸è¦‹ç›¸é—œä»»å‹™çš„åˆç†çŒœæ¸¬çš„ã€Œå»ºè­°æŒ‡ä»¤ã€ã€‚\n\
            \        ç¯„ä¾‹D: é‡å°åŒ…å«å¤šé‡æˆ–åµŒå¥—æ¢ä»¶çš„è¤‡é›œæŒ‡ä»¤ï¼ŒåŠ›æ±‚å°‡æ‰€æœ‰æ¢ä»¶å’Œç›®æ¨™æ¸…æ™°ç´å…¥ã€Œå»ºè­°æŒ‡ä»¤ã€ã€‚\n            è‹¥ {{#sys.query#}}\
            \ æ˜¯ \"æˆ‘å¸Œæœ›ITRI 51 é¤¨ 5 æ¨“å¹²æ“¾æŠ‘åˆ¶æ¼”ç®—æ³•å•Ÿå‹•æ™‚ï¼ŒCell Center UEs çš„æµé‡è‡³å°‘è¦ç¶­æŒ 75%\"ï¼Œå‰‡ã€Œå»ºè­°æŒ‡ä»¤ã€å¯ç‚ºï¼šã€Œè¨­å®šè¦å‰‡ï¼šç•¶ITRI\
            \ 51é¤¨5æ¨“çš„å¹²æ“¾æŠ‘åˆ¶æ¼”ç®—æ³•å•Ÿå‹•æ™‚ï¼ŒCell Center UEsçš„æµé‡éœ€è‡³å°‘ç¶­æŒåœ¨75%ã€ã€‚\n            è‹¥ {{#sys.query#}}\
            \ æ˜¯ \"æˆ‘å¸Œæœ›ITRI 51 é¤¨ 5 æ¨“å¹²æ“¾æŠ‘åˆ¶æ¼”ç®—æ³•å•Ÿå‹•æ™‚ï¼Œç•¶ Cell Edge UEs å€‹æ•¸æ¯”è¼ƒå¤šçš„æ™‚å€™ï¼ŒCell Center\
            \ UEs çš„æµé‡è‡³å°‘è¦ç¶­æŒ 75%\"ï¼Œå‰‡ã€Œå»ºè­°æŒ‡ä»¤ã€å¯ç‚ºï¼šã€Œè¨­å®šè¦å‰‡ï¼šç•¶ITRI 51é¤¨5æ¨“çš„å¹²æ“¾æŠ‘åˆ¶æ¼”ç®—æ³•å•Ÿå‹• ä¸” åŒæ™‚Cell Edge\
            \ UEså€‹æ•¸è¼ƒå¤šï¼ˆæˆ–é”åˆ°æŸç¨®å®šç¾©çš„â€œè¼ƒå¤šâ€ç‹€æ…‹ï¼‰æ™‚ï¼ŒCell Center UEsçš„æµé‡éœ€è‡³å°‘ç¶­æŒåœ¨75%ã€ã€‚ (LLMè¨»ï¼šå°æ–¼â€œæ¯”è¼ƒå¤šâ€é€™é¡æ¨¡ç³Šæ¢ä»¶ï¼Œè‹¥ç³»çµ±ç„¡æ³•ç›´æ¥è¨­å®šï¼Œå»ºè­°æŒ‡ä»¤å¯å¦‚å¯¦åæ˜ ï¼Œæˆ–åœ¨å¾ŒçºŒæ¾„æ¸…ã€‚)\n\
            \            è‹¥ {{#sys.query#}} æ˜¯ \"æˆ‘å¸Œæœ›ITRI 51 é¤¨ 5 æ¨“å¹²æ“¾æŠ‘åˆ¶æ¼”ç®—æ³•å•Ÿå‹•æ™‚ï¼Œç•¶ Cell Edge\
            \ UEs å€‹æ•¸å æ¯”å¤§æ–¼ç­‰æ–¼ 65% çš„æ™‚å€™ï¼ŒCell Center UEs çš„æµé‡è‡³å°‘è¦ç¶­æŒ 75%\"ï¼Œå‰‡ã€Œå»ºè­°æŒ‡ä»¤ã€å¯ç‚ºï¼šã€Œè¨­å®šè¦å‰‡ï¼šç•¶ITRI\
            \ 51é¤¨5æ¨“çš„å¹²æ“¾æŠ‘åˆ¶æ¼”ç®—æ³•å•Ÿå‹• ä¸” åŒæ™‚Cell Edge UEså€‹æ•¸å æ¯”å¤§æ–¼æˆ–ç­‰æ–¼65%æ™‚ï¼ŒCell Center UEsçš„æµé‡éœ€è‡³å°‘ç¶­æŒåœ¨75%ã€ã€‚]\n\
            \n    **3.2.2. æ¸…æ™°åº¦åˆ¤æ–·ä¸å›æ‡‰åˆ†æ”¯éšæ®µ (LLMå…§éƒ¨æ­¥é©Ÿ2):**\n        [LLMè«‹æ¯”è¼ƒä½¿ç”¨è€…åŸå§‹æŒ‡ä»¤ {{#sys.query#}}\
            \ èˆ‡åœ¨[LLMå…§éƒ¨æ­¥é©Ÿ1]ä¸­ç”Ÿæˆçš„ï¼ˆåŠ›æ±‚å®Œæ•´çš„ï¼‰ã€Œå»ºè­°æŒ‡ä»¤ã€ã€‚LLM æ‡‰é€²è¡Œä»¥ä¸‹åˆ¤æ–·ï¼š\n            a. ã€Œå»ºè­°æŒ‡ä»¤ã€æ˜¯å¦æº–ç¢ºä¸”å®Œæ•´åœ°æ•ç²äº†\
            \ {{#sys.query#}} ä¸­æœ€ä¸»è¦ã€å¯æ“ä½œçš„æ ¸å¿ƒæ„åœ–åŠå…¶æ‰€æœ‰é—œéµçš„åƒæ•¸ã€æ¢ä»¶ï¼ˆåŒ…æ‹¬æ‰€æœ‰åµŒå¥—å’Œä¸¦åˆ—æ¢ä»¶ï¼‰å’Œä¿®é£¾è©ï¼Ÿ\n      \
            \      b. åœ¨ {{#sys.query#}} ä¸­ï¼Œé™¤äº†å¯æ˜ç¢ºå°æ‡‰åˆ°ã€Œå»ºè­°æŒ‡ä»¤ã€çš„æ ¸å¿ƒè«‹æ±‚éƒ¨åˆ†å¤–ï¼Œæ˜¯å¦å­˜åœ¨ä»»ä½•å…¶ä»–èªå¥ï¼Œé€™äº›èªå¥æœƒé€ æˆä»¥ä¸‹ä»»ä¸€æƒ…æ³ï¼š\n\
            \                i.  èˆ‡æ ¸å¿ƒè«‹æ±‚ï¼ˆå³ã€Œå»ºè­°æŒ‡ä»¤ã€ï¼‰çš„æ„åœ–æˆ–å…¶åŸ·è¡Œåƒæ•¸ç”¢ç”Ÿç›´æ¥çš„é‚è¼¯çŸ›ç›¾ï¼Ÿ\n             \
            \   ii. ç‚ºæ ¸å¿ƒè«‹æ±‚çš„åŸ·è¡Œè¨­å®šäº†ä¸€å€‹æ˜ç¢ºçš„ã€å°šæœªè¢«æ»¿è¶³çš„ã€éœ€è¦AIæˆ–ä½¿ç”¨è€…å…ˆå®Œæˆå…¶ä»–å‹•ä½œæ‰èƒ½è§£é™¤çš„ç¡¬æ€§å‰ç½®æ¢ä»¶ï¼ˆä¾‹å¦‚ï¼Œä¸€å€‹æ¸…æ™°çš„ä¾è³´é—œä¿‚ï¼šâ€œç­‰Xå®Œæˆå¾Œï¼Œä½ å†å»åšYâ€ï¼‰ï¼Ÿ\n\
            \                iii. æˆ–ä½¿å¾—æ ¸å¿ƒè«‹æ±‚çš„æ„åœ–ã€å°è±¡æˆ–å¿…è¦åƒæ•¸ï¼ˆç›¸è¼ƒæ–¼å·²åŠ›æ±‚å®Œæ•´çš„ã€Œå»ºè­°æŒ‡ä»¤ã€æ‰€å‘ˆç¾çš„æ¸…æ™°åº¦è€Œè¨€ï¼‰è®Šå¾—ç„¡æ³•ç¢ºå®šæˆ–é¡¯è‘—æ›´åŠ æ¨¡ç³Šï¼Ÿ\n\
            \            (LLMè«‹æ³¨æ„ï¼šå¦‚æœ {{#sys.query#}} ä¸­çš„é™„åŠ èªå¥åƒ…ç‚ºå¸¸è¦‹çš„é–‹å ´ç™½å¦‚â€œå°äº†â€ã€â€œæˆ‘æƒ³è«‹å•ä¸€ä¸‹â€ã€â€œæˆ‘å¸Œæœ›â€ã€ç„¡é—œç·Šè¦çš„å€‹äººè©•è«–å¦‚â€œæˆ‘æœ€è¿‘æœ‰é»ç´¯â€ã€ç„¡å¯¦è³ªé˜»ç¤™æ€§çš„æƒ…å¢ƒæè¿°å¦‚â€œæˆ‘é›»è…¦æœ‰ç‚¹å¡â€ã€æˆ–ä¸å½±éŸ¿æ ¸å¿ƒæŒ‡ä»¤ç†è§£èˆ‡åŸ·è¡Œçš„è¼•å¾®å°è©±æ€§å»¶é²å¦‚â€œå…ˆç­‰ç­‰â€ï¼Œå‰‡é€™äº›é™„åŠ èªå¥æœ¬èº«ä¸æ‡‰è¢«è¦–ç‚ºæ»¿è¶³ä¸Šè¿°\
            \ i, ii, æˆ– iii ä¸­ä»»ä½•ä¸€æ¢çš„é˜»ç¤™æ€§å› ç´ ï¼Œå› ç‚ºã€Œå»ºè­°æŒ‡ä»¤ã€å·²åŠªåŠ›åŒ…å«æ‰€æœ‰é‡è¦ä¿¡æ¯ã€‚)\n            c. ã€Œå»ºè­°æŒ‡ä»¤ã€è‡ªèº«æ˜¯å¦å·²ç¶“åŒ…å«äº†åŸ·è¡Œè©²æŒ‡ä»¤æ‰€éœ€çš„æ‰€æœ‰æ˜ç¢ºåƒæ•¸å’Œæ¢ä»¶ï¼Œé”åˆ°äº†å¯ç›´æ¥åŸ·è¡Œçš„ç¨‹åº¦ï¼ˆæˆ–è€…ï¼Œå¦‚æœã€Œå»ºè­°æŒ‡ä»¤ã€æ˜¯ä¸€å€‹ç›®æ¨™è¨­å®šï¼Œé‚£éº¼å®ƒæ˜¯å¦åŒ…å«äº†æ‰€æœ‰è¨­å®šè©²ç›®æ¨™æ‰€éœ€çš„æ˜ç¢ºæ¢ä»¶ï¼‰ï¼Ÿ\n\
            \        ]\n\n        * **åˆ†æ”¯ A.1: è‹¥åŸå§‹æŒ‡ä»¤ï¼ˆç¶“ç”±ã€Œå»ºè­°æŒ‡ä»¤ã€çš„å®Œæ•´è½‰è¿°å¾Œï¼‰å·²è¢«åˆ¤æ–·ç‚ºå¯¦è³ªæ¸…æ™°ä¸”å¯ç›´æ¥åŸ·è¡Œæˆ–è¨­å®š**\n\
            \            å¦‚æœ [LLMåœ¨å…§éƒ¨æ­¥é©Ÿ2ä¸­åˆ¤æ–·æ¢ä»¶ a å’Œ c å‡ç‚ºçœŸï¼Œä¸”æ ¹æ“šæ¢ä»¶ b çš„è©•ä¼°ï¼Œ{{#sys.query#}}\
            \ ä¸­ç›¸å°æ–¼å®Œæ•´çš„ã€Œå»ºè­°æŒ‡ä»¤ã€è€Œè¨€ï¼Œå…¶é¤˜çš„é™„åŠ èªå¥ä¸­ã€Œä¸å­˜åœ¨ã€ä¸Šè¿° i, ii, iii æ‰€æè¿°çš„ä»»ä½•é˜»ç¤™æ€§æƒ…æ³]ï¼š\n         \
            \   ä½  **å¿…é ˆ** è¼¸å‡ºï¼š\n            ã€Œå¥½çš„ï¼Œæ‚¨çš„æŒ‡ä»¤ã€Œ{{#sys.query#}}ã€ä¸­çš„æ ¸å¿ƒæ„åœ–éå¸¸æ¸…æ™°ã€‚æˆ‘å·²ç†è§£ç‚ºï¼šã€Œ[æ­¤è™•å¡«å¯«LLMå…§éƒ¨æ­¥é©Ÿ1ç”Ÿæˆçš„ã€åŠ›æ±‚å®Œæ•´çš„ã€Œå»ºè­°æŒ‡ä»¤ã€]ã€ã€‚æˆ‘å°‡ç‚ºæ‚¨è™•ç†ã€‚ã€\n\
            \            (LLMè«‹æ³¨æ„ï¼šæ­¤å›æ‡‰æ—¨åœ¨è‚¯å®šä½¿ç”¨è€…æŒ‡ä»¤æ ¸å¿ƒæ„åœ–çš„æ¸…æ™°æ€§ï¼Œä¸¦é€šéè¤‡è¿°åŠ›æ±‚å®Œæ•´çš„ã€Œå»ºè­°æŒ‡ä»¤ã€ä¾†ç¢ºèªç†è§£ã€‚é€šå¸¸ä¸éœ€è¦åœ¨æ­¤è´…è¿°\
            \ {{#1747810658255.text#}} ä¸­çš„ \"reason\"ã€‚)\n\n        * **åˆ†æ”¯ A.2: è‹¥åŸå§‹æŒ‡ä»¤éœ€é€²ä¸€æ­¥æ¾„æ¸…æˆ–å¼•å°**\n\
            \            å¦å‰‡ï¼ˆå³LLMåœ¨å…§éƒ¨æ­¥é©Ÿ2ä¸­åˆ¤æ–·æ¢ä»¶aæˆ–cä¸ç‚ºçœŸï¼Œæˆ–ã€Œå»ºè­°æŒ‡ä»¤ã€æœªèƒ½å®Œæ•´æ•ç²æ‰€æœ‰é—œéµä¿¡æ¯ï¼Œæˆ–æ ¹æ“šæ¢ä»¶bçš„è©•ä¼°ï¼Œé™„åŠ èªå¥ä¸­ã€Œå­˜åœ¨ã€i,\
            \ ii, iiiæ‰€æè¿°çš„ä»»ä¸€é˜»ç¤™æ€§æƒ…æ³æ™‚ï¼Œè¡¨æ˜ {{#sys.query#}} çš„æ ¸å¿ƒè«‹æ±‚åŠå…¶æ¢ä»¶ä»ä¸å¤ æ¸…æ™°ï¼Œæˆ–AIç”Ÿæˆçš„ã€Œå»ºè­°æŒ‡ä»¤ã€ä¸å¤ å®Œå–„ï¼Œéœ€è¦æ¾„æ¸…ï¼‰ï¼š\n\
            \            ä½  **å¿…é ˆ** ç¹¼çºŒä½¿ç”¨ä»¥ä¸‹è©³ç´°å›æ‡‰æ¨¡æ¿ï¼Œä¸¦ä½¿ç”¨åœ¨[LLMå…§éƒ¨æ­¥é©Ÿ1]ä¸­ç”Ÿæˆçš„ï¼ˆå¯èƒ½ä»éœ€å®Œå–„çš„ï¼‰ã€Œå»ºè­°æŒ‡ä»¤ã€ä¾†å¡«å……æ¨¡æ¿ä¸­çš„å»ºè­°éƒ¨åˆ†ï¼š\n\
            \n            ã€Œæ‚¨å¥½ï¼Œé—œæ–¼æ‚¨çš„æŒ‡ä»¤ã€Œ{{#sys.query#}}ã€ï¼Œå…¶ä¸­ä¼¼ä¹åŒ…å«äº†ä¸€äº›è¼ƒç‚ºé–“æ¥æˆ–æ··åˆçš„è¡¨è¿°ã€‚\n     \
            \       æˆ‘å€‘çš„åˆ†æï¼ˆæ­¤åˆ†æåŸºæ–¼ {{#1747810658255.text#}} ä¸­ \"reason\" æ¬„ä½çš„æè¿°ï¼š[LLMè«‹æ ¹æ“š\
            \ \"reason\" æ¬„ä½å…§å®¹ï¼Œç”¨ä¸€åˆ°å…©å¥è‡ªç„¶ã€å£èªåŒ–çš„æ–¹å¼ï¼Œç°¡è¦èªªæ˜è©²æŒ‡ä»¤çš„é—œéµç‰¹æ€§æˆ–ç‚ºä½•å®ƒè¢«èªç‚ºæ˜¯ç‰¹æ®Š/è¤‡é›œ/æˆ–å¦‚æ­¤ç¯„ä¾‹ä¸­è¡¨é”ä¸Šçš„è®Šç•°ï¼Œé¿å…ç›´æ¥è¤‡è£½æŠ€è¡“æ€§æè¿°ï¼Œä¾‹å¦‚ï¼šâ€œå®ƒå¯èƒ½å¤¾é›œäº†é–’èŠï¼Œæˆ–ä¸»è¦è«‹æ±‚ä¸å¤ å…·é«”â€æˆ–â€œå®ƒçš„ä¸»è¦æŒ‘æˆ°åœ¨æ–¼èªè¨€è¡¨é”çš„è®Šç•°ï¼Œé€™è®“æˆ‘å€‘è¼ƒé›£ç›´æ¥ç†è§£æ‚¨çš„ç¢ºåˆ‡éœ€æ±‚ã€‚â€]ï¼‰æŒ‡å‡ºï¼Œç›´æ¥å®Œæ•´åŸ·è¡Œæ‚¨åŸå§‹æè¿°ä¸­çš„æ‰€æœ‰éƒ¨åˆ†ï¼Œå¯èƒ½è¶…å‡ºäº†æˆ‘å€‘ç›®å‰çš„è™•ç†èƒ½åŠ›ï¼Œæˆ–è€…æˆ‘å€‘å¯ä»¥é€éç¢ºèªæ ¸å¿ƒæ„åœ–ä¾†æ›´å¥½åœ°æœå‹™æ‚¨ã€‚\n\
            \n            æˆ‘å€‘ç³»çµ±èƒ½æœ€å¥½åœ°å›æ‡‰æ˜ç¢ºä¸”ç›´æ¥çš„æŒ‡ä»¤ã€‚\n\n            é‡å°æ‚¨æåˆ°çš„å…§å®¹ï¼Œæˆ‘å€‘å˜—è©¦ç†è§£æ‚¨çš„æ ¸å¿ƒæ„åœ–ã€‚æ‚¨æ˜¯ä¸æ˜¯ä¸»è¦æƒ³åŸ·è¡Œåƒé€™æ¨£çš„æŒ‡ä»¤ï¼šã€Œ[æ­¤è™•å¡«å¯«LLMå…§éƒ¨æ­¥é©Ÿ1ç”Ÿæˆçš„ã€Œå»ºè­°æŒ‡ä»¤ã€]ã€ï¼Ÿ\n\
            \n            å¦‚æœé€™å€‹ç°¡åŒ–å¾Œçš„æŒ‡ä»¤ç¢ºå¯¦æ˜¯æ‚¨æƒ³åŸ·è¡Œçš„ä¸»è¦æ“ä½œï¼Œæˆ–è€…æ‚¨å¸Œæœ›åŸºæ–¼æ­¤é€²è¡Œä¿®æ”¹ï¼Œè«‹æ‚¨ç›´æ¥è¼¸å…¥è©²æŒ‡ä»¤æˆ–ä¿®æ”¹å¾Œçš„ç‰ˆæœ¬ï¼Œæˆ‘æœƒç›¡åŠ›ç‚ºæ‚¨è™•ç†ã€‚éå¸¸æ„Ÿè¬æ‚¨çš„ç†è§£èˆ‡åˆä½œï¼ã€\n\
            \n**3.3. è™•ç†æ¨¡çµ„ Bï¼šé©ç”¨æ–¼æ‰€æœ‰å…¶ä»–æœªè¢«æ¨¡çµ„Aæ•ç²çš„æŒ‡ä»¤é¡åˆ¥**\n    æ­¤æ¨¡çµ„é©ç”¨æ–¼ç•¶ {{#1747810658255.text#}}\
            \ ä¸­çš„ \"category_name\" ä¸ç¬¦åˆã€Œè™•ç†æ¨¡çµ„ Aã€(3.2) ä¸­åˆ—å‡ºçš„ä»»ä½•æ¢ä»¶æ™‚ï¼š\n    ä½  **å¿…é ˆ** ç›´æ¥è¼¸å‡ºä»¥ä¸‹é€™æ®µæ–‡å­—ã€‚å°‡æ–‡å­—ä¸­çš„\
            \ \"[æ­¤è™•å¡«å¯«JSONä¸­çš„reasonå…§å®¹]\" æ›¿æ›ç‚ºå¯¦éš›å¾ {{#1747810658255.text#}} ä¸­æå–åˆ°çš„ \"reason\"\
            \ æ¬„ä½çš„å€¼ï¼ˆæ­¤å›æ‡‰ä¸æåŠ \"category_name\"ï¼‰ï¼š\n    ã€Œå¥½çš„ï¼Œç­è§£ã€‚é—œæ–¼ï¼š[æ­¤è™•å¡«å¯«JSONä¸­çš„reasonå…§å®¹]ã€‚æˆ‘å°‡ç‚ºæ‚¨è™•ç†ã€‚ã€\n\
            \n**ç¬¬å››éƒ¨åˆ†ï¼šçµ±ä¸€è¼¸å‡ºè¦æ±‚**\n* ä½ çš„**å”¯ä¸€è¼¸å‡º**å¿…é ˆæ˜¯ä¸Šè¿°å¹¾ç¨®æƒ…æ³ä¸­ç¬¦åˆæ¢ä»¶çš„æŒ‡å®šæ ¼å¼æ–‡å­—ï¼Œä¸è¦è·³è¡Œä¸”æ•´é«”é¢¨æ ¼ä¿æŒè‡ªç„¶ã€ç°¡æ½”ã€ç›´æ¥ã€å‹å–„ã€‚\n\
            * **çµ•å°ä¸è¦**è¼¸å‡ºä»»ä½• Python ä»£ç¢¼ã€ä»»ä½•é—œæ–¼ä½ å¦‚ä½•è§£æ JSON æˆ–åšæ±ºç­–çš„æè¿°ã€ä»»ä½•åŸå§‹ JSON å…§å®¹ã€æˆ–ä»»ä½•é™¤äº†æŒ‡å®šå›æ‡‰æ ¼å¼ä¹‹å¤–çš„æ–‡å­—ã€‚\n\
            * æœ‰è¦å¹«ä½¿ç”¨è€…åŸ·è¡Œçš„è©±ï¼Œè¨˜å¾—é™„ä¸Š\"æˆ‘å°‡ç‚ºæ‚¨è™•ç†\"çš„å­—çœ¼ã€‚"
        selected: false
        title: '[ LLM ] åˆ†é¡å¼•å°å¼æ‡‰ç­”å™¨'
        type: llm
        variables: []
        vision:
          enabled: false
      height: 90
      id: '1747811265733'
      position:
        x: -935.3322481399596
        y: 300.74373086275045
      positionAbsolute:
        x: -935.3322481399596
        y: 300.74373086275045
      selected: false
      sourcePosition: right
      targetPosition: left
      type: custom
      width: 244
    - data:
        cases:
        - case_id: 'true'
          conditions:
          - comparison_operator: contains
            id: 097d66bb-c3ea-431e-a100-51ae53a70fd0
            value: æˆ‘å°‡å¹«ä½ åŸ·è¡Œ
            varType: string
            variable_selector:
            - '1747811265733'
            - text
          id: 'true'
          logical_operator: and
        - case_id: a5093993-c497-4ded-838a-c49c51ce2dc3
          conditions:
          - comparison_operator: contains
            id: de4e766e-55c1-46bf-b29b-bec692e8bca5
            value: æˆ‘å°‡ç‚ºæ‚¨è™•ç†
            varType: string
            variable_selector:
            - '1747811265733'
            - text
          id: a5093993-c497-4ded-838a-c49c51ce2dc3
          logical_operator: and
        - case_id: 38e9fd31-43a5-465e-903d-f6dc0abc7164
          conditions:
          - comparison_operator: contains
            id: 4a29d366-6d8a-4aef-bc80-66e4517a7cf6
            value: æˆ‘å€‘å°‡ç‚ºæ‚¨è™•ç†
            varType: string
            variable_selector:
            - '1747811265733'
            - text
          id: 38e9fd31-43a5-465e-903d-f6dc0abc7164
          logical_operator: and
        - case_id: 66af9874-1988-4863-8231-3359bea69bc2
          conditions:
          - comparison_operator: contains
            id: 034cc4c5-16cc-4c3d-ac24-c61d722ce0e7
            value: æˆ‘å€‘å°‡å¹«ä½ åŸ·è¡Œ
            varType: string
            variable_selector:
            - '1747811265733'
            - text
          id: 66af9874-1988-4863-8231-3359bea69bc2
          logical_operator: and
        desc: ''
        selected: false
        title: '[ æ¢ä»¶åˆ†æ”¯] åˆ†é¡å¼•å°å¼æ‡‰ç­”å™¨'
        type: if-else
      height: 270
      id: '1747811441753'
      position:
        x: -631.3322481399596
        y: 300.74373086275045
      positionAbsolute:
        x: -631.3322481399596
        y: 300.74373086275045
      selected: false
      sourcePosition: right
      targetPosition: left
      type: custom
      width: 244
    - data:
        answer: '

          {{#1747811265733.text#}}'
        desc: ''
        selected: false
        title: '[ å›å¾© ] åˆ†é¡å¼•å°å¼æ‡‰ç­”å™¨'
        type: answer
        variables: []
      height: 105
      id: '1747811590429'
      position:
        x: -631.3322481399596
        y: 607.445406057522
      positionAbsolute:
        x: -631.3322481399596
        y: 607.445406057522
      selected: false
      sourcePosition: right
      targetPosition: left
      type: custom
      width: 244
    - data:
        cases:
        - case_id: 'true'
          conditions:
          - comparison_operator: is
            id: 4cfe9e6f-54d7-4005-a2db-facae8904314
            value: init
            varType: string
            variable_selector:
            - conversation
            - status
          id: 'true'
          logical_operator: and
        - case_id: 99d28b8b-cf84-4242-ad8a-b7e07772d6c4
          conditions:
          - comparison_operator: is
            id: 5a8ceeb3-e7d1-4b1f-823c-0a123985346f
            value: fill_parameter_done
            varType: string
            variable_selector:
            - conversation
            - status
          id: 99d28b8b-cf84-4242-ad8a-b7e07772d6c4
          logical_operator: and
        - case_id: 989d8a40-210f-4f63-8bf4-1ca2261cd904
          conditions:
          - comparison_operator: contains
            id: 2d2965d0-0e31-4d0d-8ada-014bfa289d3f
            value: fill_parameter
            varType: string
            variable_selector:
            - conversation
            - status
          id: 989d8a40-210f-4f63-8bf4-1ca2261cd904
          logical_operator: and
        desc: ''
        selected: false
        title: '[ æ¢ä»¶åˆ†æ”¯ ] å·¥ä½œæµç‹€æ…‹åˆ¤æ–·'
        type: if-else
      height: 222
      id: '1747829742913'
      position:
        x: -1821.9642473189176
        y: -47.9182230300415
      positionAbsolute:
        x: -1821.9642473189176
        y: -47.9182230300415
      selected: false
      sourcePosition: right
      targetPosition: left
      type: custom
      width: 244
    - data:
        desc: ''
        items:
        - input_type: constant
          operation: set
          value: fill_parameter
          variable_selector:
          - conversation
          - status
          write_mode: over-write
        selected: false
        title: è®Šæ•¸åˆ†é…å™¨ 2
        type: assigner
        version: '2'
      height: 88
      id: '1747830482885'
      position:
        x: 3859.405232068553
        y: -171.91822303004153
      positionAbsolute:
        x: 3859.405232068553
        y: -171.91822303004153
      selected: false
      sourcePosition: right
      targetPosition: left
      type: custom
      width: 244
    - data:
        dataset_ids: []
        desc: ''
        multiple_retrieval_config:
          reranking_enable: true
          reranking_mode: weighted_score
          top_k: 4
          weights:
            keyword_setting:
              keyword_weight: 0
            vector_setting:
              embedding_model_name: text-embedding-3-small
              embedding_provider_name: langgenius/openai/openai
              vector_weight: 1
        query_variable_selector:
        - '1742442590290'
        - sys.query
        retrieval_mode: multiple
        selected: false
        title: '[RAG] æƒ…å¢ƒæ¨¡æ¿'
        type: knowledge-retrieval
      height: 54
      id: '1747831616147'
      position:
        x: 4108.498311650139
        y: 64.44723841624108
      positionAbsolute:
        x: 4108.498311650139
        y: 64.44723841624108
      selected: false
      sourcePosition: right
      targetPosition: left
      type: custom
      width: 244
    - data:
        code: "import json\nfrom typing import Any, Dict, List\n\ndef _collect_contents(node:\
          \ Any) -> List[str]:\n    \"\"\"å°‡è¼¸å…¥è½‰æˆã€contentã€å­—ä¸²é™£åˆ—ï¼›å…è¨± node ç‚º dict / list\
          \ / scalarã€‚\"\"\"\n    contents: List[str] = []\n    data = node.get(\"\
          result\", node) if isinstance(node, dict) else node\n    if not isinstance(data,\
          \ list):\n        data = [data]\n    for item in data:\n        if isinstance(item,\
          \ dict) and \"content\" in item:\n            contents.append(item[\"content\"\
          ])\n    return contents\n\ndef _is_empty(obj: Any) -> bool:\n    \"\"\"\
          åˆ¤æ–· Noneã€ç©ºå­—ä¸²ã€ç©º list/dict éƒ½ç®—ã€ç©ºã€ã€‚\"\"\"\n    return obj is None or (isinstance(obj,\
          \ (str, list, dict)) and len(obj) == 0)\n\ndef main(arg1: Any = None, arg2:\
          \ Any = None, arg3: Any = None, **kwargs) -> Dict[str, str]:\n    # è‹¥ arg2\
          \ / arg3 ç‚ºç©º â†’ ç”¨ [] å–ä»£ï¼Œé¿å… _collect_contents å‡ºéŒ¯\n    if _is_empty(arg2):\n\
          \        arg2 = []\n    if _is_empty(arg3):\n        arg3 = []\n\n    intent_info\
          \ = _collect_contents(arg1) + _collect_contents(arg2)\n    result_payload\
          \ = {\n        \"intent_info\": intent_info,\n        \"scenario_template\"\
          : _collect_contents(arg3)\n    }\n    return {\"result\": json.dumps(result_payload,\
          \ ensure_ascii=False)}\n"
        code_language: python3
        desc: ''
        outputs:
          result:
            children: null
            type: string
        selected: false
        title: '[Code]åƒæ•¸èšåˆå™¨'
        type: code
        variables:
        - value_selector:
          - sys
          - query
          variable: arg1
        - value_selector:
          - '1742442861275'
          - result
          variable: arg2
        - value_selector:
          - '1747831616147'
          - result
          variable: arg3
      height: 54
      id: '1747831742018'
      position:
        x: 5047.405232068553
        y: -46.29993162852463
      positionAbsolute:
        x: 5047.405232068553
        y: -46.29993162852463
      selected: false
      sourcePosition: right
      targetPosition: left
      type: custom
      width: 244
    - data:
        context:
          enabled: true
          variable_selector:
          - conversation
          - scenario_template
        desc: ''
        memory:
          query_prompt_template: '{{#sys.query#}}'
          role_prefix:
            assistant: ''
            user: ''
          window:
            enabled: false
            size: 50
        model:
          completion_params: {}
          mode: chat
          name: gpt-4.1
          provider: langgenius/openai/openai
        prompt_template:
        - id: ff9070b7-8c96-497d-a8f5-c43a06eb5072
          role: system
          text: "##è§’è‰²##\nä½ æ˜¯å°ˆæ³¨æ–¼èªæ„ç†è§£åƒæ•¸æå–èˆ‡çµæ§‹åŒ–è¼¸å‡ºçš„æ™ºæ…§ä»£ç†ã€‚ä½ èƒ½è§£æã€Œæƒ…å¢ƒæ¨¡æ¿ã€èˆ‡ã€Œä½¿ç”¨è€…è¼¸å…¥ã€èˆ‡ã€Œæ„åœ–æè¿°ã€ï¼Œè‡ªå‹•è£œé½Š API\
            \ æ‰€éœ€çš„åƒæ•¸ï¼Œä¸¦ç”¢ç”Ÿæ©Ÿå™¨å¯ç›´æ¥å‘¼å«çš„å®Œæ•´ payloadã€‚\n\n##ä»»å‹™##\n1. è®€å– æƒ…å¢ƒæ¨¡æ¿ï¼ˆå«å…¨åŸŸé™åˆ¶ã€å…±ç”¨åƒæ•¸ã€ç­–ç•¥ç›¸é—œè¨­å®šï¼‰ã€‚\n\
            2. å¾ user_text ä¸­æ“·å–æˆ–æ¨æ–·æ¯ä¸€é …åƒæ•¸çš„å€¼ã€‚\n\t    a.è‹¥ validation_rules å­˜åœ¨ï¼Œå…ˆé©—è­‰æ ¼å¼ï¼æ•¸å€¼å€é–“ã€‚\n\
            \t    b.è‹¥ default_value é null ä¸” user_prompt æœªçµ¦å€¼ â†’ æ¡ç”¨é è¨­ã€‚\n\t    c.è‹¥ä»ç‚º\
            \ null ä¸” required: true â†’ è¦–ç‚ºã€Œå¾…ç¢ºèªã€ã€‚\n\t    d.è‹¥user_textä¸å¤ å®Œæ­£ï¼Œå¾intent_descriptionä¸­æŠ“å–æ›´è©³ç´°çš„é…ç½®ç´°ç¯€ï¼Œå…·é«”æœƒåˆ°ç­–ç•¥å±¤ç´š\n\
            4. ä¾ä¸‹åˆ—é‚è¼¯æ±ºå®š is_completedï¼š\n      a.trueï¼šæ‰€æœ‰ required: true çš„æ¬„ä½çš†å·²å…·å‚™åˆæ³•å€¼ã€‚\n\
            \      b.falseï¼šä»æœ‰ required: trueã€å€¼ç‚º null çš„æ¬„ä½ã€‚\n5. ç”¢ç”Ÿ confirmation_promptï¼š\n\
            \      a.è‹¥ is_completed=true â†’ å¥—ç”¨ confirmation_prompt_templateï¼Œæ’å…¥å·²å®Œæˆçš„åƒæ•¸æ‘˜è¦ï¼Œä¾›ä½¿ç”¨è€…æœ€çµ‚ç¢ºèªã€‚\n\
            \      b.è‹¥ is_completed=false â†’ ä¾åƒæ•¸çš„ ask_prompt èˆ‡ç¼ºå€¼åˆ—è¡¨ï¼Œåˆæˆæ˜ç¢ºçš„è¿½å•å¥ã€‚\n6. çµ„è£è¼¸å‡ºï¼š\n\
            \      a.api_path ç›´æ¥å–è‡ª api_endpoint.pathã€‚\n      b.payload ä¿ç•™æƒ…å¢ƒæ¨¡æ¿åŸé †åºï¼Œå°‡æ¯å€‹åƒæ•¸å°æ‡‰çš„\
            \ name èˆ‡æœ€çµ‚å€¼å¡«å…¥ï¼›ç¼ºå€¼ç¶­æŒ nullã€‚\n      c.åµŒå¥—çµæ§‹ï¼ˆå¦‚ strategies å…§éƒ¨åƒæ•¸ï¼‰äº¦åŒæ¨£è£œå€¼æˆ–ä¿ç•™ nullã€‚\n\
            \      d.å¦‚æœæœ‰æŒ‡å®šç­–ç•¥å‰‡è¼¸å‡ºçš„åƒæ•¸å­é›†åˆé…ç½®ç›´æ¥æ¡ç­–ç•¥é…ç½®\n    \n##æ¨¡æ¿ç¯„ä¾‹##\n{\n  # ===== åŸºæœ¬è³‡è¨Š\
            \ =====\n  scenario_id:       <string>,        # Scenario å”¯ä¸€è­˜åˆ¥\n  scenario_name:\
            \     <string>,        # ä¸­æ–‡é¡¯ç¤ºåç¨±\n  description:       <string>,      \
            \  # åŠŸèƒ½æè¿°\n  example_utterances:[<string>, ...], # ä»£è¡¨æ€§è§¸ç™¼èªå¥é™£åˆ—\n\n  # =====\
            \ API ç«¯é» =====\n  api_endpoint: {\n    path:   <string>,  # REST è·¯å¾‘\n\
            \    method: <string>   # HTTP å‹•è©ï¼šGET | POST | PUT | DELETE ...\n  },\n\
            \n  # ===== å…¨åŸŸé™åˆ¶æ¢ä»¶ =====\n  time_constraints: {\n\t  required:       \
            \ <boolean>,          # true | false\n    start_time:    <string|null>,\
            \  # ISO-8601 | relative | null\n    end_time:      <string|null>,  #\
            \ ISO-8601 | relative | null\n    default_value: <any|null>,     # é è¨­æ™‚é–“ï¼›ç„¡å‰‡\
            \ null\n    ask_prompt:    <string|null>   # ç¼ºå€¼æ™‚çš„æå•å¥\n  },\n  location_constraints:\
            \ {\n\t  required:        <boolean>,          # true | false\n    default_value:\
            \ <string|null>,  # é è¨­åœ°é»æ–‡å­—\n    coordinates:   <string|null>,  # \"lat,lng\"\
            \ æˆ– null\n    scope: {\n      type:         <string>,      # single |\
            \ radius | bounding_box | floor_range | custom\n      value:        <any>,\
            \         # åŠå¾‘ã€å…¬å°ºã€æ¨“å±¤ç¯„åœç­‰\n      unit:         <string|null>, # meter |\
            \ kilometer | floor | null\n      default_value:<any|null>     # ç¯„åœé è¨­ï¼›ç„¡å‰‡\
            \ null\n    },\n    ask_prompt:  <string|null>,    # ç¼ºå€¼æ™‚çš„æå•å¥\n    entity_type:\
            \ <string|null>     # LOCATION ç­‰\n  },\n  \n   # ===== æ‰€æœ‰åƒæ•¸ï¼ˆå…ˆä¸è€ƒæ…®ç­–ç•¥ï¼Œé…ç½®åƒæ•¸é è¨­å€¼ï¼Œæœ‰ç­–ç•¥å†è¦†è“‹ï¼‰=====\n\
            \  common_parameters: [\n    {\n      name:            <string>,     \
            \      # åƒæ•¸éµå\n      type:            <string>,           # number | integer\
            \ | string | boolean | enum\n      required:        <boolean>,       \
            \   # true | false\n      default_value:   <any|null>,         # ç³»çµ±é è¨­ï¼Œç„¡å‰‡\
            \ null\n      ask_prompt:      <string|null>,      # ç¼ºå€¼æ™‚çš„æå•å¥\n      validation_rules:<object|null>,\
            \      # { min_value, max_value, regex } æˆ– null\n      entity_type:  \
            \   <string|null>       # NERï¼åˆ†é¡ç”¨å¯¦é«”é¡å‹\n    },\n    ...\n  ],\n\n  # =====\
            \ ç­–ç•¥é¸æ“‡å™¨ï¼ˆä¸å­˜åœ¨å¯çœç•¥ï¼‰=====\n  strategy_selector: {\n    name:          <string>,\
            \        # ä¸»åƒæ•¸éµå\n    type:          <string>,        # enum\n    required:\
            \      <boolean>,       # true | false\n    default_value: <any|null>,\
            \      # é è¨­ç­–ç•¥ï¼›\n    ask_prompt:    <string|null>,   # ç¼ºå€¼æ™‚çš„æå•å¥\n    value_mappings:{\
            \                # ä½¿ç”¨è€…å­—ä¸² â†’ internal_key\n      <string>: <string>,\n \
            \     ...\n    },\n    entity_type:   <string|null>    # OPTIMIZATION_STRATEGY\
            \ ç­‰\n  },\n\n  # ===== ç­–ç•¥å°ˆå±¬åƒæ•¸ï¼ˆæœ‰strategyæ‰éœ€å¡«å¯«ï¼Œæ¯å€‹ internal_key ä¸€çµ„ï¼‰=====\n\
            \  strategies: {\n    <internal_key>: {\n      display_name: <string>,\
            \       # äººé¡æè¿°åç¨±\n      ask_prompt:      <string|null>,   # ç¼ºå€¼æ™‚çš„æå•å¥\n\
            \      parameters: [\n        {\n          name:            <string>,\n\
            \          type:            <string>,        # number | integer | string\
            \ | boolean | enum\n          required:        <boolean>,       # true\
            \ | false\n          value:   <any>,\n          validation_rules:<object|null>,\
            \   # { min_value, max_value, regex } æˆ– null\n          entity_type: \
            \    <string|null>    # NERï¼åˆ†é¡ç”¨\n        },\n        ...\n      ]\n  \
            \  },\n    ...\n  },\n\n  # ===== åŸ·è¡Œå‰ç¢ºèª =====\n  confirmation_prompt_template:\
            \ <string>,   # é€é {{è®Šæ•¸}} æ’æ§½ç›´æ¥æ’å…¥åŸ·è¡Œæ™‚å€¼ï¼Œä¸¦ç”¨ {[if]}/{[elif]}/{[else]}/{[end_if]}\
            \ å€å¡ŠæŒ‰æ¢ä»¶å‹•æ…‹é¡¯ç¤ºæ–‡å­—ã€‚LLM åœ¨æ¸²æŸ“æ™‚å…ˆåˆ¤æ–·æ¢ä»¶ã€å†æ›¿æ›è®Šæ•¸ï¼Œå°±èƒ½ç”¨ä¸€ä»½æ¨¡æ¿è¦†è“‹å¤šç¨®ç­–ç•¥èˆ‡åƒæ•¸çµ„åˆï¼Œç”¢ç”Ÿæ¸…æ™°ä¸”å½ˆæ€§çš„æœ€çµ‚ç¢ºèªè¨Šæ¯ã€‚\n\
            \t\n  # ===== å›è¦†æ¨¡æ…‹ =====\n  output_modalities: [<string>, ...]       \
            \ # Text | Image | Structured ...\n}\n      \n##è¼¸å‡ºæ ¼å¼##\n{\n  \"is_completed\"\
            : <boolean>,\n  \"confirmation_prompt\": \"<string>\",\n  \"scenario_template\"\
            : { /* æ ¹æ“šå·²çŸ¥è³‡è¨Šæ›´æ–°valueå¾Œæƒ…å¢ƒæ¨¡æ¿çš„å·¢ç‹€ JSON ç‰©ä»¶ */ }\"\n  \"api_path\": \"<string>\"\
            ,\n  \"payload\": { /* èˆ‡æƒ…å¢ƒæ¨¡æ¿ç›¸ç¬¦çš„å·¢ç‹€ JSON ç‰©ä»¶ */ }\n}"
        - id: b9ebe34b-154a-4226-833c-b2bb7c2ea8c0
          role: user
          text: '####ä½¿ç”¨è€…è¼¸å…¥ã€intent_infoã€scenario template####

            {{#1747831742018.result#}}

            ####ä¸Šä¸‹æ–‡####

            {{#context#}}'
        selected: false
        title: æƒ…å¢ƒè½‰æ›å™¨
        type: llm
        variables: []
        vision:
          enabled: false
      height: 90
      id: '1747832098636'
      position:
        x: 5351.405232068553
        y: -46.29993162852463
      positionAbsolute:
        x: 5351.405232068553
        y: -46.29993162852463
      selected: false
      sourcePosition: right
      targetPosition: left
      type: custom
      width: 244
    - data:
        desc: ''
        instruction: ''
        model:
          completion_params:
            temperature: 0.7
          mode: chat
          name: gpt-4o-mini
          provider: langgenius/openai/openai
        parameters:
        - description: is_completedæ˜¯è¼¸å‡ºçš„å…¶ä¸­ä¸€å€‹å¸ƒæ—è®Šæ•¸
          name: is_completed
          required: true
          type: string
        - description: confirmation_prompt
          name: confirmation_prompt
          required: true
          type: string
        - description: workflow webhookçš„URL
          name: api_path
          required: true
          type: string
        - description: æä¾›webhookæ‰€éœ€çš„å®Œæ•´payload
          name: payload
          required: true
          type: string
        - description: æ ¹æ“šä½¿ç”¨è€…éœ€æ±‚æ›´æ–°åƒæ•¸å¾Œçš„scenario_template
          name: scenario_template
          required: true
          type: string
        query:
        - '1747832098636'
        - text
        reasoning_mode: prompt
        selected: false
        title: '[æå–]æ¨¡æ¿è®Šæ•¸'
        type: parameter-extractor
        variables: []
        vision:
          enabled: false
      height: 90
      id: '1747832329592'
      position:
        x: 5657.239084952011
        y: -46.29993162852463
      positionAbsolute:
        x: 5657.239084952011
        y: -46.29993162852463
      selected: false
      sourcePosition: right
      targetPosition: left
      type: custom
      width: 244
    - data:
        desc: ''
        items:
        - input_type: variable
          operation: over-write
          value:
          - '1747832329592'
          - confirmation_prompt
          variable_selector:
          - conversation
          - confirmation_prompt
          write_mode: over-write
        - input_type: variable
          operation: over-write
          value:
          - '1747832329592'
          - scenario_template
          variable_selector:
          - conversation
          - scenario_template
          write_mode: over-write
        - input_type: variable
          operation: over-write
          value:
          - '1747832329592'
          - api_path
          variable_selector:
          - conversation
          - api_path
          write_mode: over-write
        - input_type: variable
          operation: over-write
          value:
          - '1747832329592'
          - payload
          variable_selector:
          - conversation
          - scenario_payload
          write_mode: over-write
        - input_type: variable
          operation: over-write
          value:
          - '1747832329592'
          - is_completed
          variable_selector:
          - conversation
          - is_completed
          write_mode: over-write
        selected: false
        title: è®Šæ•¸åˆ†é…å™¨ 3
        type: assigner
        version: '2'
      height: 200
      id: '1747832920622'
      position:
        x: 5959.405232068553
        y: -46.29993162852463
      positionAbsolute:
        x: 5959.405232068553
        y: -46.29993162852463
      selected: false
      sourcePosition: right
      targetPosition: left
      type: custom
      width: 244
    - data:
        answer: '{{#conversation.confirmation_prompt#}}

          ç›®å‰çš„æƒ…å¢ƒåŸ·è¡Œåƒæ•¸ç‚º

          {{#conversation.scenario_payload#}}'
        desc: ''
        selected: false
        title: ç›´æ¥å›è¦† 10
        type: answer
        variables: []
      height: 124
      id: '1747833460007'
      position:
        x: 6263.405232068553
        y: -46.29993162852463
      positionAbsolute:
        x: 6263.405232068553
        y: -46.29993162852463
      selected: false
      sourcePosition: right
      targetPosition: left
      type: custom
      width: 244
    - data:
        code: "import requests\nfrom typing import Any, Dict, List, Union\n\ndef parse_chain(chain_data:\
          \ List[Dict[str, Any]]) -> List[Dict[str, Any]]:\n    \"\"\"\n    è§£æ n8n\
          \ å›å‚³çš„ chainï¼Œä¾ type åšä¸åŒè™•ç†ã€‚\n    - message: ç›´æ¥å›å‚³ contentï¼ˆæ–‡å­—ï¼‰\n    - image:\
          \   ä¸å† fetchï¼Œå‡è¨­å…§å®¹å·²ç¶“æ˜¯ base64 æˆ–ç‰©ä»¶ï¼Œç›´æ¥ä¿ç•™\n    - table:   å°‡ columns/data å°è£ç‚ºä¸€å€‹\
          \ content ç‰©ä»¶\n    - å…¶ä»–:    ç•¶æœªçŸ¥å‹åˆ¥ï¼Œå›å‚³æç¤ºæ–‡å­—\n    \"\"\"\n    parsed_list = []\n\
          \    for item in chain_data:\n        item_type = item.get(\"type\", \"\"\
          ).lower()\n        content = item.get(\"content\")\n\n        if item_type\
          \ == \"message\":\n            # ç´”æ–‡å­—\n            parsed_list.append({\n\
          \                \"type\": \"message\",\n                \"content\": content\n\
          \            })\n\n        elif item_type == \"image\":\n            data_dict\
          \ = content.get(\"data\", {})\n            base64_data = data_dict.get(\"\
          data\")\n            # ç›´æ¥ä¿¡ä»» n8n å·²ç¶“å›å‚³äº†å®Œæ•´è³‡è¨Š (ä¾‹å¦‚ base64 æˆ– dataç‰©ä»¶)\n       \
          \     # å¯ä»¥ä¾ä½ å¯¦éš›ç‹€æ³æ±ºå®šè¦ä¸è¦å†åšé€²ä¸€æ­¥åˆ¤æ–·\n            parsed_list.append({\n       \
          \         \"type\": \"image\",\n                \"content\": base64_data\n\
          \            })\n\n        elif item_type == \"table\":\n            # å‡è¨­\
          \ n8n ç›´æ¥åœ¨ item è£¡æä¾› columns / data\n            columns = content.get(\"\
          columns\", [])\n            data = content.get(\"data\", [])\n         \
          \   parsed_list.append({\n                \"type\": \"table\",\n       \
          \         \"content\": {\n                    \"columns\": columns,\n  \
          \                  \"data\": data\n                }\n            })\n\n\
          \        else:\n            # æœªçŸ¥å‹åˆ¥ â†’ ä»¥æ–‡å­—é¡¯ç¤º\n            parsed_list.append({\n\
          \                \"type\": \"message\",\n                \"content\": f\"\
          [æœªçŸ¥ type={item_type}] {content}\"\n            })\n\n    return parsed_list\n\
          \ndef send_to_human_in_the_loop(\n    backend_url: str,\n    conversation_uid:\
          \ str,\n    item: Dict[str, Any]\n) -> requests.Response:\n    \"\"\"\n\
          \    å°‡ã€Œå–®ä¸€ itemã€é€åˆ° human_in_the_loop APIã€‚\n    text_content å‚³ä¸€å€‹ listï¼Œè£¡é¢åªæœ‰æ­¤\
          \ itemã€‚\n    \"\"\"\n    api_endpoint = f\"{backend_url}workflow_mgt/WorkflowManager/human_in_the_loop\"\
          \n    payload = {\n        \"conversation_uid\": conversation_uid,\n   \
          \     \"text_content\": [item]  # åƒ…å‚³ä¸€å€‹ item\n    }\n    return requests.post(api_endpoint,\
          \ json=payload)\n\ndef main(\n    n8n_url: str,\n    n8n_path: str,\n  \
          \  backend_url: str = \"http://YOUR_BACKEND_SERVER_URL\",\n    conversation_uid:\
          \ str = \"æ¸¬è©¦UID-12345\",\n    payload: str = \"\"  \n) -> Dict[str, Any]:\n\
          \    \"\"\"\n    Dify Code Node é€²å…¥é»:\n      1) å‘ n8n ç™¼é€ GET/POST è«‹æ±‚ (è¦–ä½ çš„\
          \ n8n è¨­å®š) ä»¥å–å¾— { \"chain\": [...] }\n      2) parse_chain â†’ è§£æ chain\n  \
          \    3) é€ä¸€æŠŠæ¯å€‹ item å‚³çµ¦ human_in_the_loop\n      4) å›å‚³æ‰€æœ‰å‘¼å«çµæœ\n\n    åƒæ•¸:\n\
          \      n8n_url:  n8n ä¸»æ©Ÿæˆ–ç¶²åŸŸ\n      n8n_path: å…·é«” API è·¯å¾‘ (å¯èƒ½å« /webhook/...)\n\
          \      backend_url: human_in_the_loop çš„å¾Œç«¯ä½å€ (å‰åŠæ®µ)\n      conversation_uid:\
          \ ç”¨æ–¼è­˜åˆ¥å°è©±çš„ ID\n    \"\"\"\n\n    # --- 1) å°‡å­—ä¸² payload è½‰æˆ JSON dict --------------------------\n\
          \    try:\n        payload_dict = json.loads(payload)            # â‘¢ è½‰æˆ\
          \ dict   ### <--- è®Šå‹•\n    except json.JSONDecodeError:\n        return {\"\
          result\": \"payload format error\"}\n\n    # --- 2) é€é POST æŠŠ payload_dict\
          \ æ‰“åˆ° n8n ----------------------\n    n8n_endpoint = f\"{n8n_url}{n8n_path}\"\
          \n\n    try:\n        # æ”¹æˆ POSTï¼Œä¸¦ç”¨ json åƒæ•¸å‚³é                           ###\
          \ <--- è®Šå‹•\n        response = requests.post(n8n_endpoint, json=payload_dict,\
          \ timeout=300)\n        response.raise_for_status()\n    except Exception:\n\
          \        return {\"result\": \"n8n fetch data error\"}\n\n    # é æœŸ n8n è¿”å›çš„\
          \ JSON çµæ§‹: { \"chain\": [...] }\n    try:\n        n8n_result = response.json()\n\
          \    except Exception as e:\n        return {\n            \"result\": \"\
          error\"\n        }\n\n    if \"chain\" not in n8n_result[0]:\n        return\
          \ {\n            \"result\": \"no data error\"\n        }\n\n    # 2) parse_chain\n\
          \    chain_parsed = parse_chain(n8n_result[0][\"chain\"])\n\n    # 3) æ¯å€‹\
          \ item é€ä¸€æ‰“ API\n    results = []\n    for item in chain_parsed:\n      \
          \  try:\n            resp = send_to_human_in_the_loop(backend_url, conversation_uid,\
          \ item)\n            results.append({\n                \"type\": item[\"\
          type\"],\n                \"status_code\": resp.status_code,\n         \
          \       \"response_text\": resp.text\n            })\n        except Exception\
          \ as e:\n            results.append({\n                \"result\": \"parsed\
          \ error\"\n            })\n\n    # 4) å›å‚³æ‰€æœ‰å‘¼å«çµæœ\n    return {\n        \"\
          result\": \"API Success\"\n    }\n"
        code_language: python3
        desc: ''
        outputs:
          result:
            children: null
            type: string
        selected: false
        title: åŸ·è¡Œå«æœ‰å‘¼å«APIçš„Code (1)
        type: code
        variables:
        - value_selector:
          - env
          - MITLAB_BACKEND
          variable: backend_url
        - value_selector:
          - conversation
          - conversation_uid
          variable: conversation_uid
        - value_selector:
          - env
          - N8N_ACTIVE_BASE_URL
          variable: n8n_url
        - value_selector:
          - conversation
          - api_path
          variable: n8n_path
        - value_selector:
          - conversation
          - scenario_payload
          variable: payload
      height: 54
      id: '17478340188330'
      position:
        x: -809.4588580897446
        y: -171.91822303004153
      positionAbsolute:
        x: -809.4588580897446
        y: -171.91822303004153
      selected: false
      sourcePosition: right
      targetPosition: left
      type: custom
      width: 244
    - data:
        cases:
        - case_id: 'true'
          conditions:
          - comparison_operator: contains
            id: 8df973ed-cd22-4212-acce-342e6b6a0992
            value: 'true'
            varType: string
            variable_selector:
            - conversation
            - is_completed
          id: 'true'
          logical_operator: and
        - case_id: d7412361-4f82-459d-a25d-60104a990eb0
          conditions:
          - comparison_operator: contains
            id: d9f928c6-2e5c-4133-9399-c2ba695e00f0
            value: 'false'
            varType: string
            variable_selector:
            - conversation
            - is_completed
          id: d7412361-4f82-459d-a25d-60104a990eb0
          logical_operator: and
        desc: ''
        selected: false
        title: æ¢ä»¶åˆ†æ”¯ 8
        type: if-else
      height: 174
      id: '1747838949163'
      position:
        x: 6566.405232068553
        y: -46.29993162852463
      positionAbsolute:
        x: 6566.405232068553
        y: -46.29993162852463
      selected: false
      sourcePosition: right
      targetPosition: left
      type: custom
      width: 244
    - data:
        desc: ''
        items:
        - input_type: constant
          operation: set
          value: fill_parameter_done
          variable_selector:
          - conversation
          - status
          write_mode: over-write
        selected: false
        title: è®Šæ•¸åˆ†é…å™¨ 4
        type: assigner
        version: '2'
      height: 88
      id: '1747839031101'
      position:
        x: 6869.405232068553
        y: -46.29993162852463
      positionAbsolute:
        x: 6869.405232068553
        y: -46.29993162852463
      selected: false
      sourcePosition: right
      targetPosition: left
      type: custom
      width: 244
    - data:
        desc: ''
        items:
        - input_type: constant
          operation: set
          value: fill_parameter
          variable_selector:
          - conversation
          - status
          write_mode: over-write
        selected: false
        title: è®Šæ•¸åˆ†é…å™¨ 4 (1)
        type: assigner
        version: '2'
      height: 88
      id: '17478390872770'
      position:
        x: 6869.405232068553
        y: 46.308747658194164
      positionAbsolute:
        x: 6869.405232068553
        y: 46.308747658194164
      selected: false
      sourcePosition: right
      targetPosition: left
      type: custom
      width: 244
    - data:
        authorization:
          config: null
          type: no-auth
        body:
          data:
          - id: key-value-9
            key: ''
            type: text
            value: "{\n    \"conversation_uid\": \"{{#conversation.conversation_uid#}}\"\
              ,\n    \"text_content\": [\n        {\n            \"type\": \"message\"\
              ,\n            \"content\": \"{{#1747984552657.text#}}\"\n        }\n\
              \    ]\n}"
          type: raw-text
        desc: ''
        headers: ''
        method: post
        params: ''
        retry_config:
          max_retries: 3
          retry_enabled: false
          retry_interval: 100
        selected: false
        timeout:
          max_connect_timeout: 0
          max_read_timeout: 0
          max_write_timeout: 0
        title: '[å›è¦†] æ„åœ–è½‰Scenarioè¾¨è­˜å™¨'
        type: http-request
        url: '{{#env.MITLAB_BACKEND#}}workflow_mgt/WorkflowManager/human_in_the_loop'
        variables: []
      height: 129
      id: '17479843913150'
      position:
        x: 4680.244448667529
        y: 45.256903521969264
      positionAbsolute:
        x: 4680.244448667529
        y: 45.256903521969264
      selected: false
      sourcePosition: right
      targetPosition: left
      type: custom
      width: 244
    - data:
        context:
          enabled: true
          variable_selector:
          - '1742442861275'
          - result
        desc: ''
        model:
          completion_params: {}
          mode: chat
          name: gpt-4o-mini
          provider: langgenius/openai/openai
        prompt_template:
        - id: 89b76307-e015-4f85-bad1-6344d7da745d
          role: system
          text: 'è«‹æ ¹æ“šä»¥ä¸‹è³‡è¨Šï¼Œä»¥ä¸€å¥è©±å›è¦†ä½¿ç”¨è€…ï¼Œä¸¦åœ¨å¥é¦–åŠ ä¸Šã€Œ[ Info ]ã€ã€‚

            æƒ…å¢ƒï¼šä½ æ˜¯ä¸€å€‹ SMO ç¶²ç®¡æ„åœ–çš„åˆ¤åˆ¥å™¨ï¼Œè² è²¬è§£é‡‹ä½¿ç”¨è€…éœ€æ±‚å°æ‡‰åˆ°çš„RAGè³‡è¨Šã€‚

            è«‹æ•´åˆä½¿ç”¨è€…å•é¡Œèˆ‡å…ˆå‰çš„çµæœå›è¦†ï¼Œçµ„ç¹”å‡ºä¸€å¥è©±ç­”è¦†ã€‚


            ä½¿ç”¨è€…çš„å•é¡Œï¼š

            {{#sys.query#}}


            å…ˆå‰çš„RAGçµæœï¼š

            {{#context#}}'
        selected: false
        title: '[LLMå›è¦†] æ„åœ–è½‰Scenarioè¾¨è­˜å™¨'
        type: llm
        variables: []
        vision:
          enabled: false
      height: 90
      id: '1747984552657'
      position:
        x: 4412.498311650139
        y: 64.44723841624108
      positionAbsolute:
        x: 4412.498311650139
        y: 64.44723841624108
      selected: false
      sourcePosition: right
      targetPosition: left
      type: custom
      width: 244
    - data:
        authorization:
          config: null
          type: no-auth
        body:
          data:
          - id: key-value-9
            key: ''
            type: text
            value: "{\n    \"conversation_uid\": \"{{#conversation.conversation_uid#}}\"\
              ,\n    \"text_content\": [\n        {\n            \"type\": \"message\"\
              ,\n            \"content\": {{#1747988261914.human_in_the_loop_payload#}}\n\
              \        }\n    ]\n}"
          type: raw-text
        desc: ''
        headers: ''
        method: post
        params: ''
        retry_config:
          max_retries: 3
          retry_enabled: false
          retry_interval: 100
        selected: false
        timeout:
          max_connect_timeout: 0
          max_read_timeout: 0
          max_write_timeout: 0
        title: '[å›è¦†] æ„åœ–è½‰Scenarioè¾¨è­˜å™¨ (2)'
        type: http-request
        url: '{{#env.MITLAB_BACKEND#}}workflow_mgt/WorkflowManager/human_in_the_loop'
        variables: []
      height: 129
      id: '17479848446040'
      position:
        x: 8512.311134530011
        y: 6.540192701338924
      positionAbsolute:
        x: 8512.311134530011
        y: 6.540192701338924
      selected: false
      sourcePosition: right
      targetPosition: left
      type: custom
      width: 244
    - data:
        code: "\ndef main(arg1: str) -> dict:\n    return {\n        \"result\": arg1,\n\
          \    }\n"
        code_language: python3
        desc: ''
        outputs:
          result:
            children: null
            type: string
        selected: false
        title: ä»£ç¢¼åŸ·è¡Œ 3
        type: code
        variables:
        - value_selector:
          - conversation
          - scenario_payload
          variable: arg1
      height: 54
      id: '1747987702090'
      position:
        x: 7142.390376483633
        y: 6.540192701338924
      positionAbsolute:
        x: 7142.390376483633
        y: 6.540192701338924
      selected: false
      sourcePosition: right
      targetPosition: left
      type: custom
      width: 244
    - data:
        desc: ''
        instruction: ''
        model:
          completion_params:
            temperature: 0.7
          mode: chat
          name: gpt-4o-mini
          provider: langgenius/openai/openai
        parameters:
        - description: å°‡payloadè½‰stringè³‡æ–™å‹æ…‹
          name: human_in_the_loop_payload
          required: true
          type: string
        query:
        - '1747987702090'
        - result
        reasoning_mode: prompt
        selected: false
        title: åƒæ•¸æå–å™¨ 2
        type: parameter-extractor
        variables: []
        vision:
          enabled: false
      height: 90
      id: '1747988261914'
      position:
        x: 7421.792965216007
        y: 6.540192701338924
      positionAbsolute:
        x: 7421.792965216007
        y: 6.540192701338924
      selected: false
      sourcePosition: right
      targetPosition: left
      type: custom
      width: 244
    - data:
        authorization:
          config: null
          type: no-auth
        body:
          data:
          - id: key-value-9
            key: ''
            type: text
            value: "{\n    \"conversation_uid\": \"{{#conversation.conversation_uid#}}\"\
              ,\n    \"text_content\": [\n        {\n            \"type\": \"message\"\
              ,\n            \"content\": \"ç›®å‰çš„æƒ…å¢ƒåŸ·è¡Œåƒæ•¸ç‚ºï¼š\"\n        }\n    ]\n}"
          type: raw-text
        desc: ''
        headers: ''
        method: post
        params: ''
        retry_config:
          max_retries: 3
          retry_enabled: false
          retry_interval: 100
        selected: false
        timeout:
          max_connect_timeout: 0
          max_read_timeout: 0
          max_write_timeout: 0
        title: '[å›è¦†] æ„åœ–è½‰Scenarioè¾¨è­˜å™¨ (3)'
        type: http-request
        url: '{{#env.MITLAB_BACKEND#}}workflow_mgt/WorkflowManager/human_in_the_loop'
        variables: []
      height: 129
      id: '17479898049120'
      position:
        x: 8192.10516469652
        y: 6.540192701338924
      positionAbsolute:
        x: 8192.10516469652
        y: 6.540192701338924
      selected: false
      sourcePosition: right
      targetPosition: left
      type: custom
      width: 244
    - data:
        authorization:
          config: null
          type: no-auth
        body:
          data:
          - id: key-value-9
            key: ''
            type: text
            value: "{\n    \"conversation_uid\": \"{{#conversation.conversation_uid#}}\"\
              ,\n    \"text_content\": [\n        {\n            \"type\": \"message\"\
              ,\n            \"content\": \"æ˜¯å¦è¦åŸ·è¡Œå·¥ä½œæµ?\"\n        }\n    ]\n}"
          type: raw-text
        desc: ''
        headers: ''
        method: post
        params: ''
        retry_config:
          max_retries: 3
          retry_enabled: false
          retry_interval: 100
        selected: false
        timeout:
          max_connect_timeout: 0
          max_read_timeout: 0
          max_write_timeout: 0
        title: '[å›è¦†] æ„åœ–è½‰Scenarioè¾¨è­˜å™¨ (3)'
        type: http-request
        url: '{{#env.MITLAB_BACKEND#}}workflow_mgt/WorkflowManager/human_in_the_loop'
        variables: []
      height: 129
      id: '17479906916690'
      position:
        x: 8853.235999583574
        y: -179.7191101416311
      positionAbsolute:
        x: 8853.235999583574
        y: -179.7191101416311
      selected: false
      sourcePosition: right
      targetPosition: left
      type: custom
      width: 244
    - data:
        cases:
        - case_id: 'true'
          conditions:
          - comparison_operator: contains
            id: 5e1b033b-486e-46c3-b3aa-f3558bb488ac
            value: æ˜¯
            varType: string
            variable_selector:
            - sys
            - query
          id: 'true'
          logical_operator: and
        - case_id: 89ba0132-a4ff-4c34-88ca-eafb768a1494
          conditions:
          - comparison_operator: contains
            id: 2fce63e2-3635-4681-aafd-852b4806fdd0
            value: å¦
            varType: string
            variable_selector:
            - sys
            - query
          id: 89ba0132-a4ff-4c34-88ca-eafb768a1494
          logical_operator: and
        desc: ''
        selected: false
        title: æ¢ä»¶åˆ†æ”¯ 9
        type: if-else
      height: 174
      id: '1747990842053'
      position:
        x: -1520.5964996423036
        y: -119.0629581036621
      positionAbsolute:
        x: -1520.5964996423036
        y: -119.0629581036621
      selected: false
      sourcePosition: right
      targetPosition: left
      type: custom
      width: 244
    - data:
        authorization:
          config: null
          type: no-auth
        body:
          data:
          - id: key-value-9
            key: ''
            type: text
            value: "{\n    \"conversation_uid\": \"{{#conversation.conversation_uid#}}\"\
              ,\n    \"text_content\": [\n        {\n            \"type\": \"message\"\
              ,\n            \"content\": \"é–‹å§‹åŸ·è¡Œæƒ…å¢ƒ\"\n        }\n    ]\n}"
          type: raw-text
        desc: ''
        headers: ''
        method: post
        params: ''
        retry_config:
          max_retries: 3
          retry_enabled: false
          retry_interval: 100
        selected: false
        timeout:
          max_connect_timeout: 0
          max_read_timeout: 0
          max_write_timeout: 0
        title: '[å›è¦†] æ„åœ–è½‰Scenarioè¾¨è­˜å™¨ (4)'
        type: http-request
        url: '{{#env.MITLAB_BACKEND#}}workflow_mgt/WorkflowManager/human_in_the_loop'
        variables: []
      height: 129
      id: '17479908826710'
      position:
        x: -1128.8166099922664
        y: -171.91822303004153
      positionAbsolute:
        x: -1128.8166099922664
        y: -171.91822303004153
      selected: false
      sourcePosition: right
      targetPosition: left
      type: custom
      width: 244
    - data:
        authorization:
          config: null
          type: no-auth
        body:
          data:
          - id: key-value-9
            key: ''
            type: text
            value: "{\n    \"conversation_uid\": \"{{#conversation.conversation_uid#}}\"\
              ,\n    \"text_content\": [\n        {\n            \"type\": \"message\"\
              ,\n            \"content\": \"åœæ­¢åŸ·è¡Œæƒ…å¢ƒï¼Œè«‹é‡æ–°è¼¸å…¥éœ€æ±‚ã€‚\"\n        }\n    ]\n}"
          type: raw-text
        desc: ''
        headers: ''
        method: post
        params: ''
        retry_config:
          max_retries: 3
          retry_enabled: false
          retry_interval: 100
        selected: false
        timeout:
          max_connect_timeout: 0
          max_read_timeout: 0
          max_write_timeout: 0
        title: '[å›è¦†] æ„åœ–è½‰Scenarioè¾¨è­˜å™¨ (5)'
        type: http-request
        url: '{{#env.MITLAB_BACKEND#}}workflow_mgt/WorkflowManager/human_in_the_loop'
        variables: []
      height: 129
      id: '17479909154640'
      position:
        x: -1128.8166099922664
        y: -38.06681440130748
      positionAbsolute:
        x: -1128.8166099922664
        y: -38.06681440130748
      selected: false
      sourcePosition: right
      targetPosition: left
      type: custom
      width: 244
    - data:
        authorization:
          config: null
          type: no-auth
        body:
          data:
          - id: key-value-9
            key: ''
            type: text
            value: "{\n    \"conversation_uid\": \"{{#conversation.conversation_uid#}}\"\
              ,\n    \"text_content\": [\n        {\n            \"type\": \"message\"\
              ,\n            \"content\": \"ç›®å‰çš„æƒ…å¢ƒåŸ·è¡Œåƒæ•¸ç‚ºï¼š\"\n        }\n    ]\n}"
          type: raw-text
        desc: ''
        headers: ''
        method: post
        params: ''
        retry_config:
          max_retries: 3
          retry_enabled: false
          retry_interval: 100
        selected: false
        timeout:
          max_connect_timeout: 0
          max_read_timeout: 0
          max_write_timeout: 0
        title: '[å›è¦†] æ„åœ–è½‰Scenarioè¾¨è­˜å™¨ (4)'
        type: http-request
        url: '{{#env.MITLAB_BACKEND#}}workflow_mgt/WorkflowManager/human_in_the_loop'
        variables: []
      height: 129
      id: '17479912596970'
      position:
        x: 7516.430413504619
        y: -179.7191101416311
      positionAbsolute:
        x: 7516.430413504619
        y: -179.7191101416311
      selected: false
      sourcePosition: right
      targetPosition: left
      type: custom
      width: 244
    - data:
        authorization:
          config: null
          type: no-auth
        body:
          data:
          - id: key-value-9
            key: ''
            type: text
            value: "{\n    \"conversation_uid\": \"{{#conversation.conversation_uid#}}\"\
              ,\n    \"text_content\": [\n        {\n            \"type\": \"message\"\
              ,\n            \"content\": {{#17479914772300.human_in_the_loop_payload#}}\n\
              \        }\n    ]\n}"
          type: raw-text
        desc: ''
        headers: ''
        method: post
        params: ''
        retry_config:
          max_retries: 3
          retry_enabled: false
          retry_interval: 100
        selected: false
        timeout:
          max_connect_timeout: 0
          max_read_timeout: 0
          max_write_timeout: 0
        title: '[å›è¦†] æ„åœ–è½‰Scenarioè¾¨è­˜å™¨ (3)'
        type: http-request
        url: '{{#env.MITLAB_BACKEND#}}workflow_mgt/WorkflowManager/human_in_the_loop'
        variables: []
      height: 129
      id: '17479912651100'
      position:
        x: 8512.311134530011
        y: -179.7191101416311
      positionAbsolute:
        x: 8512.311134530011
        y: -179.7191101416311
      selected: false
      sourcePosition: right
      targetPosition: left
      type: custom
      width: 244
    - data:
        desc: ''
        instruction: ''
        model:
          completion_params:
            temperature: 0.7
          mode: chat
          name: gpt-4o-mini
          provider: langgenius/openai/openai
        parameters:
        - description: å°‡payloadè½‰stringè³‡æ–™å‹æ…‹
          name: human_in_the_loop_payload
          required: true
          type: string
        query:
        - '17479914826570'
        - result
        reasoning_mode: prompt
        selected: false
        title: åƒæ•¸æå–å™¨ 2 (1)
        type: parameter-extractor
        variables: []
        vision:
          enabled: false
      height: 90
      id: '17479914772300'
      position:
        x: 8192.10516469652
        y: -179.7191101416311
      positionAbsolute:
        x: 8192.10516469652
        y: -179.7191101416311
      selected: false
      sourcePosition: right
      targetPosition: left
      type: custom
      width: 244
    - data:
        code: "\ndef main(arg1: str) -> dict:\n    return {\n        \"result\": arg1,\n\
          \    }\n"
        code_language: python3
        desc: ''
        outputs:
          result:
            children: null
            type: string
        selected: false
        title: ä»£ç¢¼åŸ·è¡Œ 3 (1)
        type: code
        variables:
        - value_selector:
          - conversation
          - scenario_payload
          variable: arg1
      height: 54
      id: '17479914826570'
      position:
        x: 7858.319336371002
        y: -179.7191101416311
      positionAbsolute:
        x: 7858.319336371002
        y: -179.7191101416311
      selected: false
      sourcePosition: right
      targetPosition: left
      type: custom
      width: 244
    - data:
        authorization:
          config: null
          type: no-auth
        body:
          data:
          - id: key-value-9
            key: ''
            type: text
            value: "{\n    \"conversation_uid\": \"{{#conversation.conversation_uid#}}\"\
              ,\n    \"text_content\": [\n        {\n            \"type\": \"message\"\
              ,\n            \"content\": \"{{#conversation.confirmation_prompt#}}\"\
              \n        }\n    ]\n}"
          type: raw-text
        desc: ''
        headers: ''
        method: post
        params: ''
        retry_config:
          max_retries: 3
          retry_enabled: false
          retry_interval: 100
        selected: false
        timeout:
          max_connect_timeout: 0
          max_read_timeout: 0
          max_write_timeout: 0
        title: '[å›è¦†] æ„åœ–è½‰Scenarioè¾¨è­˜å™¨ (5)'
        type: http-request
        url: '{{#env.MITLAB_BACKEND#}}workflow_mgt/WorkflowManager/human_in_the_loop'
        variables: []
      height: 129
      id: '17479924729840'
      position:
        x: 7217.977261219612
        y: -179.7191101416311
      positionAbsolute:
        x: 7217.977261219612
        y: -179.7191101416311
      selected: false
      sourcePosition: right
      targetPosition: left
      type: custom
      width: 244
    - data:
        authorization:
          config: null
          type: no-auth
        body:
          data:
          - id: key-value-9
            key: ''
            type: text
            value: "{\n    \"conversation_uid\": \"{{#conversation.conversation_uid#}}\"\
              ,\n    \"text_content\": [\n        {\n            \"type\": \"message\"\
              ,\n            \"content\": \"{{#conversation.confirmation_prompt#}}\"\
              \n        }\n    ]\n}"
          type: raw-text
        desc: ''
        headers: ''
        method: post
        params: ''
        retry_config:
          max_retries: 3
          retry_enabled: false
          retry_interval: 100
        selected: false
        timeout:
          max_connect_timeout: 0
          max_read_timeout: 0
          max_write_timeout: 0
        title: '[å›è¦†] æ„åœ–è½‰Scenarioè¾¨è­˜å™¨ (6)'
        type: http-request
        url: '{{#env.MITLAB_BACKEND#}}workflow_mgt/WorkflowManager/human_in_the_loop'
        variables: []
      height: 129
      id: '17479925676070'
      position:
        x: 7842.85999423623
        y: 6.540192701338924
      positionAbsolute:
        x: 7842.85999423623
        y: 6.540192701338924
      selected: false
      sourcePosition: right
      targetPosition: left
      type: custom
      width: 244
    - data:
        desc: ''
        items:
        - input_type: constant
          operation: set
          value: init
          variable_selector:
          - conversation
          - status
          write_mode: over-write
        - input_type: constant
          operation: set
          value: '{}'
          variable_selector:
          - conversation
          - scenario_payload
          write_mode: over-write
        - input_type: constant
          operation: set
          value: ' '
          variable_selector:
          - conversation
          - confirmation_prompt
          write_mode: over-write
        - input_type: constant
          operation: set
          value: http://null/api/v1
          variable_selector:
          - conversation
          - api_path
          write_mode: over-write
        - input_type: constant
          operation: set
          value: 'false'
          variable_selector:
          - conversation
          - is_completed
          write_mode: over-write
        - input_type: constant
          operation: set
          value: ' '
          variable_selector:
          - conversation
          - scenario_template
          write_mode: over-write
        selected: false
        title: è®Šæ•¸åˆ†é…å™¨ 4 (1)
        type: assigner
        version: '2'
      height: 228
      id: '17479931487170'
      position:
        x: -454.9493396846142
        y: -171.91822303004153
      positionAbsolute:
        x: -454.9493396846142
        y: -171.91822303004153
      selected: false
      sourcePosition: right
      targetPosition: left
      type: custom
      width: 244
    - data:
        code: "import requests\nfrom typing import Any, Dict\n\n__all__ = [\"main\"\
          , \"send_to_human_in_the_loop\"]\n\n\ndef send_to_human_in_the_loop(\n \
          \   backend_url: str,\n    conversation_uid: str,\n    message: str,\n \
          \   *,\n    timeout: int = 30,\n) -> requests.Response:\n    \"\"\"Post\
          \ a single text message to human_in_the_loop API.\n\n    The payload schema\
          \ is strictly:\n    {\n        \"conversation_uid\": <conversation_uid>,\n\
          \        \"text_content\": [\n            {\"type\": \"message\", \"content\"\
          : <message>}\n        ]\n    }\n    \"\"\"\n    endpoint = f\"{backend_url.rstrip('/')}/workflow_mgt/WorkflowManager/human_in_the_loop\"\
          \n    payload = {\n        \"conversation_uid\": conversation_uid,\n   \
          \     \"text_content\": [\n            {\n                \"type\": \"message\"\
          ,\n                \"content\": message,\n            }\n        ],\n  \
          \  }\n    return requests.post(endpoint, json=payload, timeout=timeout)\n\
          \n\ndef main(\n    *,\n    backend_url: str = \"http://YOUR_BACKEND_SERVER_URL\"\
          ,\n    conversation_uid: str = \"æ¸¬è©¦UID-12345\",\n    payload: str = \"\"\
          ,\n) -> Dict[str, Any]:\n    \"\"\"Entry point for Dify Code Node.\n\n \
          \   Sends *payload* as a single text message to the backend and returns\n\
          \    the raw HTTP result for downstream logging/inspection.\n    \"\"\"\n\
          \    try:\n        response = send_to_human_in_the_loop(\n            backend_url=backend_url,\n\
          \            conversation_uid=conversation_uid,\n            message=payload,\n\
          \        )\n        return {\n            \"result\": \"success\",\n\n \
          \       }\n    except Exception as exc:\n        return {\n            \"\
          result\": \"fail\",\n        }\n"
        code_language: python3
        desc: ''
        outputs:
          result:
            children: null
            type: string
        selected: false
        title: ä»£ç¢¼åŸ·è¡Œ 5
        type: code
        variables:
        - value_selector:
          - env
          - MITLAB_BACKEND
          variable: backend_url
        - value_selector:
          - '1747811265733'
          - text
          variable: payload
        - value_selector:
          - conversation
          - conversation_uid
          variable: conversation_uid
      height: 54
      id: '1748431211528'
      position:
        x: -327.3322481399596
        y: 607.445406057522
      positionAbsolute:
        x: -327.3322481399596
        y: 607.445406057522
      selected: true
      sourcePosition: right
      targetPosition: left
      type: custom
      width: 244
    viewport:
      x: 555.7012660521891
      y: 150.67925190342243
      zoom: 0.659753955386447
